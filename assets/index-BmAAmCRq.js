function yb(r,a){for(var i=0;i<a.length;i++){const l=a[i];if(typeof l!="string"&&!Array.isArray(l)){for(const o in l)if(o!=="default"&&!(o in r)){const c=Object.getOwnPropertyDescriptor(l,o);c&&Object.defineProperty(r,o,c.get?c:{enumerable:!0,get:()=>l[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function vb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Qc={exports:{}},ws={};var $g;function bb(){if($g)return ws;$g=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function i(l,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:l,key:f,ref:o!==void 0?o:null,props:c}}return ws.Fragment=a,ws.jsx=i,ws.jsxs=i,ws}var qg;function xb(){return qg||(qg=1,Qc.exports=bb()),Qc.exports}var h=xb(),Zc={exports:{}},Ee={};var Hg;function wb(){if(Hg)return Ee;Hg=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function _(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function S(O,Y,L){this.props=O,this.context=Y,this.refs=R,this.updater=L||j}S.prototype.isReactComponent={},S.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},S.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function U(){}U.prototype=S.prototype;function C(O,Y,L){this.props=O,this.context=Y,this.refs=R,this.updater=L||j}var J=C.prototype=new U;J.constructor=C,T(J,S.prototype),J.isPureReactComponent=!0;var ne=Array.isArray;function Z(){}var k={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function de(O,Y,L){var ae=L.ref;return{$$typeof:r,type:O,key:Y,ref:ae!==void 0?ae:null,props:L}}function Re(O,Y){return de(O.type,Y,O.props)}function Ne(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function Oe(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(L){return Y[L]})}var at=/\/+/g;function Pe(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?Oe(""+O.key):Y.toString(36)}function G(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Z,Z):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function B(O,Y,L,ae,he){var Se=typeof O;(Se==="undefined"||Se==="boolean")&&(O=null);var ze=!1;if(O===null)ze=!0;else switch(Se){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(O.$$typeof){case r:case a:ze=!0;break;case v:return ze=O._init,B(ze(O._payload),Y,L,ae,he)}}if(ze)return he=he(O),ze=ae===""?"."+Pe(O,0):ae,ne(he)?(L="",ze!=null&&(L=ze.replace(at,"$&/")+"/"),B(he,Y,L,"",function(Kr){return Kr})):he!=null&&(Ne(he)&&(he=Re(he,L+(he.key==null||O&&O.key===he.key?"":(""+he.key).replace(at,"$&/")+"/")+ze)),Y.push(he)),1;ze=0;var gt=ae===""?".":ae+":";if(ne(O))for(var it=0;it<O.length;it++)ae=O[it],Se=gt+Pe(ae,it),ze+=B(ae,Y,L,Se,he);else if(it=_(O),typeof it=="function")for(O=it.call(O),it=0;!(ae=O.next()).done;)ae=ae.value,Se=gt+Pe(ae,it++),ze+=B(ae,Y,L,Se,he);else if(Se==="object"){if(typeof O.then=="function")return B(G(O),Y,L,ae,he);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ze}function X(O,Y,L){if(O==null)return O;var ae=[],he=0;return B(O,ae,"","",function(Se){return Y.call(L,Se,he++)}),ae}function te(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(L){(O._status===0||O._status===-1)&&(O._status=1,O._result=L)},function(L){(O._status===0||O._status===-1)&&(O._status=2,O._result=L)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var ye=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},_e={map:X,forEach:function(O,Y,L){X(O,function(){Y.apply(this,arguments)},L)},count:function(O){var Y=0;return X(O,function(){Y++}),Y},toArray:function(O){return X(O,function(Y){return Y})||[]},only:function(O){if(!Ne(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ee.Activity=b,Ee.Children=_e,Ee.Component=S,Ee.Fragment=i,Ee.Profiler=o,Ee.PureComponent=C,Ee.StrictMode=l,Ee.Suspense=g,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(O){return k.H.useMemoCache(O)}},Ee.cache=function(O){return function(){return O.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(O,Y,L){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ae=T({},O.props),he=O.key;if(Y!=null)for(Se in Y.key!==void 0&&(he=""+Y.key),Y)!ee.call(Y,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&Y.ref===void 0||(ae[Se]=Y[Se]);var Se=arguments.length-2;if(Se===1)ae.children=L;else if(1<Se){for(var ze=Array(Se),gt=0;gt<Se;gt++)ze[gt]=arguments[gt+2];ae.children=ze}return de(O.type,he,ae)},Ee.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ee.createElement=function(O,Y,L){var ae,he={},Se=null;if(Y!=null)for(ae in Y.key!==void 0&&(Se=""+Y.key),Y)ee.call(Y,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(he[ae]=Y[ae]);var ze=arguments.length-2;if(ze===1)he.children=L;else if(1<ze){for(var gt=Array(ze),it=0;it<ze;it++)gt[it]=arguments[it+2];he.children=gt}if(O&&O.defaultProps)for(ae in ze=O.defaultProps,ze)he[ae]===void 0&&(he[ae]=ze[ae]);return de(O,Se,he)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(O){return{$$typeof:m,render:O}},Ee.isValidElement=Ne,Ee.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:te}},Ee.memo=function(O,Y){return{$$typeof:p,type:O,compare:Y===void 0?null:Y}},Ee.startTransition=function(O){var Y=k.T,L={};k.T=L;try{var ae=O(),he=k.S;he!==null&&he(L,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Z,ye)}catch(Se){ye(Se)}finally{Y!==null&&L.types!==null&&(Y.types=L.types),k.T=Y}},Ee.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ee.use=function(O){return k.H.use(O)},Ee.useActionState=function(O,Y,L){return k.H.useActionState(O,Y,L)},Ee.useCallback=function(O,Y){return k.H.useCallback(O,Y)},Ee.useContext=function(O){return k.H.useContext(O)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(O,Y){return k.H.useDeferredValue(O,Y)},Ee.useEffect=function(O,Y){return k.H.useEffect(O,Y)},Ee.useEffectEvent=function(O){return k.H.useEffectEvent(O)},Ee.useId=function(){return k.H.useId()},Ee.useImperativeHandle=function(O,Y,L){return k.H.useImperativeHandle(O,Y,L)},Ee.useInsertionEffect=function(O,Y){return k.H.useInsertionEffect(O,Y)},Ee.useLayoutEffect=function(O,Y){return k.H.useLayoutEffect(O,Y)},Ee.useMemo=function(O,Y){return k.H.useMemo(O,Y)},Ee.useOptimistic=function(O,Y){return k.H.useOptimistic(O,Y)},Ee.useReducer=function(O,Y,L){return k.H.useReducer(O,Y,L)},Ee.useRef=function(O){return k.H.useRef(O)},Ee.useState=function(O){return k.H.useState(O)},Ee.useSyncExternalStore=function(O,Y,L){return k.H.useSyncExternalStore(O,Y,L)},Ee.useTransition=function(){return k.H.useTransition()},Ee.version="19.2.3",Ee}var Pg;function Md(){return Pg||(Pg=1,Zc.exports=wb()),Zc.exports}var E=Md();const _b=vb(E),Sb=yb({__proto__:null,default:_b},[E]);var Wc={exports:{}},_s={},ed={exports:{}},td={};var Vg;function Eb(){return Vg||(Vg=1,(function(r){function a(B,X){var te=B.length;B.push(X);e:for(;0<te;){var ye=te-1>>>1,_e=B[ye];if(0<o(_e,X))B[ye]=X,B[te]=_e,te=ye;else break e}}function i(B){return B.length===0?null:B[0]}function l(B){if(B.length===0)return null;var X=B[0],te=B.pop();if(te!==X){B[0]=te;e:for(var ye=0,_e=B.length,O=_e>>>1;ye<O;){var Y=2*(ye+1)-1,L=B[Y],ae=Y+1,he=B[ae];if(0>o(L,te))ae<_e&&0>o(he,L)?(B[ye]=he,B[ae]=te,ye=ae):(B[ye]=L,B[Y]=te,ye=Y);else if(ae<_e&&0>o(he,te))B[ye]=he,B[ae]=te,ye=ae;else break e}}return X}function o(B,X){var te=B.sortIndex-X.sortIndex;return te!==0?te:B.id-X.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],p=[],v=1,b=null,x=3,_=!1,j=!1,T=!1,R=!1,S=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function J(B){for(var X=i(p);X!==null;){if(X.callback===null)l(p);else if(X.startTime<=B)l(p),X.sortIndex=X.expirationTime,a(g,X);else break;X=i(p)}}function ne(B){if(T=!1,J(B),!j)if(i(g)!==null)j=!0,Z||(Z=!0,Oe());else{var X=i(p);X!==null&&G(ne,X.startTime-B)}}var Z=!1,k=-1,ee=5,de=-1;function Re(){return R?!0:!(r.unstable_now()-de<ee)}function Ne(){if(R=!1,Z){var B=r.unstable_now();de=B;var X=!0;try{e:{j=!1,T&&(T=!1,U(k),k=-1),_=!0;var te=x;try{t:{for(J(B),b=i(g);b!==null&&!(b.expirationTime>B&&Re());){var ye=b.callback;if(typeof ye=="function"){b.callback=null,x=b.priorityLevel;var _e=ye(b.expirationTime<=B);if(B=r.unstable_now(),typeof _e=="function"){b.callback=_e,J(B),X=!0;break t}b===i(g)&&l(g),J(B)}else l(g);b=i(g)}if(b!==null)X=!0;else{var O=i(p);O!==null&&G(ne,O.startTime-B),X=!1}}break e}finally{b=null,x=te,_=!1}X=void 0}}finally{X?Oe():Z=!1}}}var Oe;if(typeof C=="function")Oe=function(){C(Ne)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,Pe=at.port2;at.port1.onmessage=Ne,Oe=function(){Pe.postMessage(null)}}else Oe=function(){S(Ne,0)};function G(B,X){k=S(function(){B(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(B){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var te=x;x=X;try{return B()}finally{x=te}},r.unstable_requestPaint=function(){R=!0},r.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var te=x;x=B;try{return X()}finally{x=te}},r.unstable_scheduleCallback=function(B,X,te){var ye=r.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ye+te:ye):te=ye,B){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=te+_e,B={id:v++,callback:X,priorityLevel:B,startTime:te,expirationTime:_e,sortIndex:-1},te>ye?(B.sortIndex=te,a(p,B),i(g)===null&&B===i(p)&&(T?(U(k),k=-1):T=!0,G(ne,te-ye))):(B.sortIndex=_e,a(g,B),j||_||(j=!0,Z||(Z=!0,Oe()))),B},r.unstable_shouldYield=Re,r.unstable_wrapCallback=function(B){var X=x;return function(){var te=x;x=X;try{return B.apply(this,arguments)}finally{x=te}}}})(td)),td}var Gg;function jb(){return Gg||(Gg=1,ed.exports=Eb()),ed.exports}var ad={exports:{}},Lt={};var Yg;function Ab(){if(Yg)return Lt;Yg=1;var r=Md();function a(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Lt.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return c(g,p,null,v)},Lt.flushSync=function(g){var p=f.T,v=l.p;try{if(f.T=null,l.p=2,g)return g()}finally{f.T=p,l.p=v,l.d.f()}},Lt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},Lt.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},Lt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:_}):v==="script"&&l.d.X(g,{crossOrigin:b,integrity:x,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Lt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},Lt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin);l.d.L(g,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Lt.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=m(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},Lt.requestFormReset=function(g){l.d.r(g)},Lt.unstable_batchedUpdates=function(g,p){return g(p)},Lt.useFormState=function(g,p,v){return f.H.useFormState(g,p,v)},Lt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Lt.version="19.2.3",Lt}var Kg;function ty(){if(Kg)return ad.exports;Kg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),ad.exports=Ab(),ad.exports}var Ig;function Nb(){if(Ig)return _s;Ig=1;var r=jb(),a=Md(),i=ty();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,s=t;;){var u=n.return;if(u===null)break;var d=u.alternate;if(d===null){if(s=u.return,s!==null){n=s;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===n)return g(u),e;if(d===s)return g(u),t;d=d.sibling}throw Error(l(188))}if(n.return!==s.return)n=u,s=d;else{for(var y=!1,w=u.child;w;){if(w===n){y=!0,n=u,s=d;break}if(w===s){y=!0,s=u,n=d;break}w=w.sibling}if(!y){for(w=d.child;w;){if(w===n){y=!0,n=d,s=u;break}if(w===s){y=!0,s=d,n=u;break}w=w.sibling}if(!y)throw Error(l(189))}}if(n.alternate!==s)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),C=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),Re=Symbol.for("react.memo_cache_sentinel"),Ne=Symbol.iterator;function Oe(e){return e===null||typeof e!="object"?null:(e=Ne&&e[Ne]||e["@@iterator"],typeof e=="function"?e:null)}var at=Symbol.for("react.client.reference");function Pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===at?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case S:return"Profiler";case R:return"StrictMode";case ne:return"Suspense";case Z:return"SuspenseList";case de:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case C:return e.displayName||"Context";case U:return(e._context.displayName||"Context")+".Consumer";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return t=e.displayName||null,t!==null?t:Pe(e.type)||"Memo";case ee:t=e._payload,e=e._init;try{return Pe(e(t))}catch{}}return null}var G=Array.isArray,B=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ye=[],_e=-1;function O(e){return{current:e}}function Y(e){0>_e||(e.current=ye[_e],ye[_e]=null,_e--)}function L(e,t){_e++,ye[_e]=e.current,e.current=t}var ae=O(null),he=O(null),Se=O(null),ze=O(null);function gt(e,t){switch(L(Se,t),L(he,e),L(ae,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?og(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=og(t),e=ug(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(ae),L(ae,e)}function it(){Y(ae),Y(he),Y(Se)}function Kr(e){e.memoizedState!==null&&L(ze,e);var t=ae.current,n=ug(t,e.type);t!==n&&(L(he,e),L(ae,n))}function Tn(e){he.current===e&&(Y(ae),Y(he)),ze.current===e&&(Y(ze),ys._currentValue=te)}var xt,Va;function za(e){if(xt===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);xt=t&&t[1]||"",Va=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xt+e+Va}var Ni=!1;function Sa(e,t){if(!e||Ni)return"";Ni=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(V){var H=V}Reflect.construct(e,[],F)}else{try{F.call()}catch(V){H=V}e.call(F.prototype)}}else{try{throw Error()}catch(V){H=V}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(V){if(V&&H&&typeof V.stack=="string")return[V.stack,H.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=s.DetermineComponentFrameRoot(),y=d[0],w=d[1];if(y&&w){var N=y.split(`
`),q=w.split(`
`);for(u=s=0;s<N.length&&!N[s].includes("DetermineComponentFrameRoot");)s++;for(;u<q.length&&!q[u].includes("DetermineComponentFrameRoot");)u++;if(s===N.length||u===q.length)for(s=N.length-1,u=q.length-1;1<=s&&0<=u&&N[s]!==q[u];)u--;for(;1<=s&&0<=u;s--,u--)if(N[s]!==q[u]){if(s!==1||u!==1)do if(s--,u--,0>u||N[s]!==q[u]){var K=`
`+N[s].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=s&&0<=u);break}}}finally{Ni=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?za(n):""}function $o(e,t){switch(e.tag){case 26:case 27:case 5:return za(e.type);case 16:return za("Lazy");case 13:return e.child!==t&&t!==null?za("Suspense Fallback"):za("Suspense");case 19:return za("SuspenseList");case 0:case 15:return Sa(e.type,!1);case 11:return Sa(e.type.render,!1);case 1:return Sa(e.type,!0);case 31:return za("Activity");default:return""}}function Js(e){try{var t="",n=null;do t+=$o(e,n),n=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Rn=Object.prototype.hasOwnProperty,Ti=r.unstable_scheduleCallback,Ri=r.unstable_cancelCallback,qo=r.unstable_shouldYield,Ho=r.unstable_requestPaint,pt=r.unstable_now,Ir=r.unstable_getCurrentPriorityLevel,Oi=r.unstable_ImmediatePriority,On=r.unstable_UserBlockingPriority,Ht=r.unstable_NormalPriority,Ea=r.unstable_LowPriority,Ci=r.unstable_IdlePriority,Po=r.log,ki=r.unstable_setDisableYieldValue,Fr=null,st=null;function ja(e){if(typeof Po=="function"&&ki(e),st&&typeof st.setStrictMode=="function")try{st.setStrictMode(Fr,e)}catch{}}var Bt=Math.clz32?Math.clz32:Qs,Xs=Math.log,Vo=Math.LN2;function Qs(e){return e>>>=0,e===0?32:31-(Xs(e)/Vo|0)|0}var Ga=256,Jr=262144,gr=4194304;function Ya(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xr(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var u=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var w=s&134217727;return w!==0?(s=w&~d,s!==0?u=Ya(s):(y&=w,y!==0?u=Ya(y):n||(n=w&~e,n!==0&&(u=Ya(n))))):(w=s&~d,w!==0?u=Ya(w):y!==0?u=Ya(y):n||(n=s&~e,n!==0&&(u=Ya(n)))),u===0?0:t!==0&&t!==u&&(t&d)===0&&(d=u&-u,n=t&-t,d>=n||d===32&&(n&4194048)!==0)?t:u}function Qr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Zs(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zr(){var e=gr;return gr<<=1,(gr&62914560)===0&&(gr=4194304),e}function pr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Go(e,t,n,s,u,d){var y=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var w=e.entanglements,N=e.expirationTimes,q=e.hiddenUpdates;for(n=y&~n;0<n;){var K=31-Bt(n),F=1<<K;w[K]=0,N[K]=-1;var H=q[K];if(H!==null)for(q[K]=null,K=0;K<H.length;K++){var V=H[K];V!==null&&(V.lane&=-536870913)}n&=~F}s!==0&&Ws(e,s,0),d!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~t))}function Ws(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Bt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&261930}function A(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Bt(n),u=1<<s;u&t|e[s]&t&&(e[s]|=t),n&=~u}}function M(e,t){var n=t&-t;return n=(n&42)!==0?1:P(n),(n&(e.suspendedLanes|t))!==0?0:n}function P(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Q(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function W(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:kg(e.type))}function fe(e,t){var n=X.p;try{return X.p=e,t()}finally{X.p=n}}var se=Math.random().toString(36).slice(2),ie="__reactFiber$"+se,le="__reactProps$"+se,ce="__reactContainer$"+se,ve="__reactEvents$"+se,ge="__reactListeners$"+se,He="__reactHandles$"+se,Me="__reactResources$"+se,lt="__reactMarker$"+se;function ct(e){delete e[ie],delete e[le],delete e[ve],delete e[ge],delete e[He]}function dt(e){var t=e[ie];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ce]||n[ie]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pg(e);e!==null;){if(n=e[ie])return n;e=pg(e)}return t}e=n,n=e.parentNode}return null}function Be(e){if(e=e[ie]||e[ce]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Tt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Pt(e){var t=e[Me];return t||(t=e[Me]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function rt(e){e[lt]=!0}var Aa=new Set,Xt={};function Na(e,t){ua(e,t),ua(e+"Capture",t)}function ua(e,t){for(Xt[e]=t,e=0;e<t.length;e++)Aa.add(t[e])}var Ka=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wr={},en={};function Le(e){return Rn.call(en,e)?!0:Rn.call(Wr,e)?!1:Ka.test(e)?en[e]=!0:(Wr[e]=!0,!1)}function yt(e,t,n){if(Le(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ta(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ot(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tn(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function el(e,t,n){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,d=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(y){n=""+y,d.call(this,y)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Di(e){if(!e._valueTracker){var t=tn(e)?"checked":"value";e._valueTracker=el(e,t,""+e[t])}}function eh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=tn(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function tl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var d0=/[\n"\\]/g;function ca(e){return e.replace(d0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Yo(e,t,n,s,u,d,y,w){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+$e(t)):e.value!==""+$e(t)&&(e.value=""+$e(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?Ko(e,y,$e(t)):n!=null?Ko(e,y,$e(n)):s!=null&&e.removeAttribute("value"),u==null&&d!=null&&(e.defaultChecked=!!d),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+$e(w):e.removeAttribute("name")}function th(e,t,n,s,u,d,y,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||n!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Di(e);return}n=n!=null?""+$e(n):"",t=t!=null?""+$e(t):n,w||t===e.value||(e.value=t),e.defaultValue=t}s=s??u,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=w?e.checked:!!s,e.defaultChecked=!!s,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Di(e)}function Ko(e,t,n){t==="number"&&tl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Cn(e,t,n,s){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&s&&(e[n].defaultSelected=!0)}else{for(n=""+$e(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function ah(e,t,n){if(t!=null&&(t=""+$e(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+$e(n):""}function rh(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(l(92));if(G(s)){if(1<s.length)throw Error(l(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=$e(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s),Di(e)}function kn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var h0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nh(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||h0.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function ih(e,t,n){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var u in t)s=t[u],t.hasOwnProperty(u)&&n[u]!==s&&nh(e,u,s)}else for(var d in t)t.hasOwnProperty(d)&&nh(e,d,t[d])}function Io(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),m0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(e){return m0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ia(){}var Fo=null;function Jo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Dn=null,Un=null;function sh(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[le]||null;e:switch(e=t.stateNode,t.type){case"input":if(Yo(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ca(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var u=s[le]||null;if(!u)throw Error(l(90));Yo(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&eh(s)}break e;case"textarea":ah(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Cn(e,!!n.multiple,t,!1)}}}var Xo=!1;function lh(e,t,n){if(Xo)return e(t,n);Xo=!0;try{var s=e(t);return s}finally{if(Xo=!1,(Dn!==null||Un!==null)&&(Vl(),Dn&&(t=Dn,e=Un,Un=Dn=null,sh(t),e)))for(t=0;t<e.length;t++)sh(e[t])}}function Ui(e,t){var n=e.stateNode;if(n===null)return null;var s=n[le]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var Fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qo=!1;if(Fa)try{var zi={};Object.defineProperty(zi,"passive",{get:function(){Qo=!0}}),window.addEventListener("test",zi,zi),window.removeEventListener("test",zi,zi)}catch{Qo=!1}var vr=null,Zo=null,rl=null;function oh(){if(rl)return rl;var e,t=Zo,n=t.length,s,u="value"in vr?vr.value:vr.textContent,d=u.length;for(e=0;e<n&&t[e]===u[e];e++);var y=n-e;for(s=1;s<=y&&t[n-s]===u[d-s];s++);return rl=u.slice(e,1<s?1-s:void 0)}function nl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function il(){return!0}function uh(){return!1}function Vt(e){function t(n,s,u,d,y){this._reactName=n,this._targetInst=u,this.type=s,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(n=e[w],this[w]=n?n(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?il:uh,this.isPropagationStopped=uh,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=il)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=il)},persist:function(){},isPersistent:il}),t}var an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sl=Vt(an),Mi=b({},an,{view:0,detail:0}),g0=Vt(Mi),Wo,eu,Bi,ll=b({},Mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bi&&(Bi&&e.type==="mousemove"?(Wo=e.screenX-Bi.screenX,eu=e.screenY-Bi.screenY):eu=Wo=0,Bi=e),Wo)},movementY:function(e){return"movementY"in e?e.movementY:eu}}),ch=Vt(ll),p0=b({},ll,{dataTransfer:0}),y0=Vt(p0),v0=b({},Mi,{relatedTarget:0}),tu=Vt(v0),b0=b({},an,{animationName:0,elapsedTime:0,pseudoElement:0}),x0=Vt(b0),w0=b({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_0=Vt(w0),S0=b({},an,{data:0}),dh=Vt(S0),E0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=A0[e])?!!t[e]:!1}function au(){return N0}var T0=b({},Mi,{key:function(e){if(e.key){var t=E0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?j0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:au,charCode:function(e){return e.type==="keypress"?nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),R0=Vt(T0),O0=b({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hh=Vt(O0),C0=b({},Mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:au}),k0=Vt(C0),D0=b({},an,{propertyName:0,elapsedTime:0,pseudoElement:0}),U0=Vt(D0),z0=b({},ll,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),M0=Vt(z0),B0=b({},an,{newState:0,oldState:0}),L0=Vt(B0),$0=[9,13,27,32],ru=Fa&&"CompositionEvent"in window,Li=null;Fa&&"documentMode"in document&&(Li=document.documentMode);var q0=Fa&&"TextEvent"in window&&!Li,fh=Fa&&(!ru||Li&&8<Li&&11>=Li),mh=" ",gh=!1;function ph(e,t){switch(e){case"keyup":return $0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zn=!1;function H0(e,t){switch(e){case"compositionend":return yh(t);case"keypress":return t.which!==32?null:(gh=!0,mh);case"textInput":return e=t.data,e===mh&&gh?null:e;default:return null}}function P0(e,t){if(zn)return e==="compositionend"||!ru&&ph(e,t)?(e=oh(),rl=Zo=vr=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fh&&t.locale!=="ko"?null:t.data;default:return null}}var V0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!V0[e.type]:t==="textarea"}function bh(e,t,n,s){Dn?Un?Un.push(s):Un=[s]:Dn=s,t=Xl(t,"onChange"),0<t.length&&(n=new sl("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var $i=null,qi=null;function G0(e){ag(e,0)}function ol(e){var t=Tt(e);if(eh(t))return e}function xh(e,t){if(e==="change")return t}var wh=!1;if(Fa){var nu;if(Fa){var iu="oninput"in document;if(!iu){var _h=document.createElement("div");_h.setAttribute("oninput","return;"),iu=typeof _h.oninput=="function"}nu=iu}else nu=!1;wh=nu&&(!document.documentMode||9<document.documentMode)}function Sh(){$i&&($i.detachEvent("onpropertychange",Eh),qi=$i=null)}function Eh(e){if(e.propertyName==="value"&&ol(qi)){var t=[];bh(t,qi,e,Jo(e)),lh(G0,t)}}function Y0(e,t,n){e==="focusin"?(Sh(),$i=t,qi=n,$i.attachEvent("onpropertychange",Eh)):e==="focusout"&&Sh()}function K0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ol(qi)}function I0(e,t){if(e==="click")return ol(t)}function F0(e,t){if(e==="input"||e==="change")return ol(t)}function J0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:J0;function Hi(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var u=n[s];if(!Rn.call(t,u)||!Qt(e[u],t[u]))return!1}return!0}function jh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ah(e,t){var n=jh(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jh(n)}}function Nh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Th(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=tl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=tl(e.document)}return t}function su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var X0=Fa&&"documentMode"in document&&11>=document.documentMode,Mn=null,lu=null,Pi=null,ou=!1;function Rh(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ou||Mn==null||Mn!==tl(s)||(s=Mn,"selectionStart"in s&&su(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Pi&&Hi(Pi,s)||(Pi=s,s=Xl(lu,"onSelect"),0<s.length&&(t=new sl("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Mn)))}function rn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bn={animationend:rn("Animation","AnimationEnd"),animationiteration:rn("Animation","AnimationIteration"),animationstart:rn("Animation","AnimationStart"),transitionrun:rn("Transition","TransitionRun"),transitionstart:rn("Transition","TransitionStart"),transitioncancel:rn("Transition","TransitionCancel"),transitionend:rn("Transition","TransitionEnd")},uu={},Oh={};Fa&&(Oh=document.createElement("div").style,"AnimationEvent"in window||(delete Bn.animationend.animation,delete Bn.animationiteration.animation,delete Bn.animationstart.animation),"TransitionEvent"in window||delete Bn.transitionend.transition);function nn(e){if(uu[e])return uu[e];if(!Bn[e])return e;var t=Bn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Oh)return uu[e]=t[n];return e}var Ch=nn("animationend"),kh=nn("animationiteration"),Dh=nn("animationstart"),Q0=nn("transitionrun"),Z0=nn("transitionstart"),W0=nn("transitioncancel"),Uh=nn("transitionend"),zh=new Map,cu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cu.push("scrollEnd");function Ra(e,t){zh.set(e,t),Na(t,[e])}var ul=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},da=[],Ln=0,du=0;function cl(){for(var e=Ln,t=du=Ln=0;t<e;){var n=da[t];da[t++]=null;var s=da[t];da[t++]=null;var u=da[t];da[t++]=null;var d=da[t];if(da[t++]=null,s!==null&&u!==null){var y=s.pending;y===null?u.next=u:(u.next=y.next,y.next=u),s.pending=u}d!==0&&Mh(n,u,d)}}function dl(e,t,n,s){da[Ln++]=e,da[Ln++]=t,da[Ln++]=n,da[Ln++]=s,du|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function hu(e,t,n,s){return dl(e,t,n,s),hl(e)}function sn(e,t){return dl(e,null,null,t),hl(e)}function Mh(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var u=!1,d=e.return;d!==null;)d.childLanes|=n,s=d.alternate,s!==null&&(s.childLanes|=n),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(u=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,u&&t!==null&&(u=31-Bt(n),e=d.hiddenUpdates,s=e[u],s===null?e[u]=[t]:s.push(t),t.lane=n|536870912),d):null}function hl(e){if(50<cs)throw cs=0,wc=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var $n={};function ev(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(e,t,n,s){return new ev(e,t,n,s)}function fu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ja(e,t){var n=e.alternate;return n===null?(n=Zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Bh(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function fl(e,t,n,s,u,d){var y=0;if(s=e,typeof e=="function")fu(e)&&(y=1);else if(typeof e=="string")y=ib(e,n,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case de:return e=Zt(31,n,t,u),e.elementType=de,e.lanes=d,e;case T:return ln(n.children,u,d,t);case R:y=8,u|=24;break;case S:return e=Zt(12,n,t,u|2),e.elementType=S,e.lanes=d,e;case ne:return e=Zt(13,n,t,u),e.elementType=ne,e.lanes=d,e;case Z:return e=Zt(19,n,t,u),e.elementType=Z,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:y=10;break e;case U:y=9;break e;case J:y=11;break e;case k:y=14;break e;case ee:y=16,s=null;break e}y=29,n=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=Zt(y,n,t,u),t.elementType=e,t.type=s,t.lanes=d,t}function ln(e,t,n,s){return e=Zt(7,e,s,t),e.lanes=n,e}function mu(e,t,n){return e=Zt(6,e,null,t),e.lanes=n,e}function Lh(e){var t=Zt(18,null,null,0);return t.stateNode=e,t}function gu(e,t,n){return t=Zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var $h=new WeakMap;function ha(e,t){if(typeof e=="object"&&e!==null){var n=$h.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Js(t)},$h.set(e,t),t)}return{value:e,source:t,stack:Js(t)}}var qn=[],Hn=0,ml=null,Vi=0,fa=[],ma=0,br=null,Ma=1,Ba="";function Xa(e,t){qn[Hn++]=Vi,qn[Hn++]=ml,ml=e,Vi=t}function qh(e,t,n){fa[ma++]=Ma,fa[ma++]=Ba,fa[ma++]=br,br=e;var s=Ma;e=Ba;var u=32-Bt(s)-1;s&=~(1<<u),n+=1;var d=32-Bt(t)+u;if(30<d){var y=u-u%5;d=(s&(1<<y)-1).toString(32),s>>=y,u-=y,Ma=1<<32-Bt(t)+u|n<<u|s,Ba=d+e}else Ma=1<<d|n<<u|s,Ba=e}function pu(e){e.return!==null&&(Xa(e,1),qh(e,1,0))}function yu(e){for(;e===ml;)ml=qn[--Hn],qn[Hn]=null,Vi=qn[--Hn],qn[Hn]=null;for(;e===br;)br=fa[--ma],fa[ma]=null,Ba=fa[--ma],fa[ma]=null,Ma=fa[--ma],fa[ma]=null}function Hh(e,t){fa[ma++]=Ma,fa[ma++]=Ba,fa[ma++]=br,Ma=t.id,Ba=t.overflow,br=e}var Ct=null,et=null,qe=!1,xr=null,ga=!1,vu=Error(l(519));function wr(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gi(ha(t,e)),vu}function Ph(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[ie]=e,t[le]=s,n){case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":case"embed":ke("load",t);break;case"video":case"audio":for(n=0;n<hs.length;n++)ke(hs[n],t);break;case"source":ke("error",t);break;case"img":case"image":case"link":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"input":ke("invalid",t),th(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ke("invalid",t);break;case"textarea":ke("invalid",t),rh(t,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||sg(t.textContent,n)?(s.popover!=null&&(ke("beforetoggle",t),ke("toggle",t)),s.onScroll!=null&&ke("scroll",t),s.onScrollEnd!=null&&ke("scrollend",t),s.onClick!=null&&(t.onclick=Ia),t=!0):t=!1,t||wr(e,!0)}function Vh(e){for(Ct=e.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:ga=!1;return;case 27:case 3:ga=!0;return;default:Ct=Ct.return}}function Pn(e){if(e!==Ct)return!1;if(!qe)return Vh(e),qe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Mc(e.type,e.memoizedProps)),n=!n),n&&et&&wr(e),Vh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));et=gg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));et=gg(e)}else t===27?(t=et,zr(e.type)?(e=Hc,Hc=null,et=e):et=t):et=Ct?ya(e.stateNode.nextSibling):null;return!0}function on(){et=Ct=null,qe=!1}function bu(){var e=xr;return e!==null&&(It===null?It=e:It.push.apply(It,e),xr=null),e}function Gi(e){xr===null?xr=[e]:xr.push(e)}var xu=O(null),un=null,Qa=null;function _r(e,t,n){L(xu,t._currentValue),t._currentValue=n}function Za(e){e._currentValue=xu.current,Y(xu)}function wu(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function _u(e,t,n,s){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var d=u.dependencies;if(d!==null){var y=u.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=u;for(var N=0;N<t.length;N++)if(w.context===t[N]){d.lanes|=n,w=d.alternate,w!==null&&(w.lanes|=n),wu(d.return,n,e),s||(y=null);break e}d=w.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(l(341));y.lanes|=n,d=y.alternate,d!==null&&(d.lanes|=n),wu(y,n,e),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===e){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function Vn(e,t,n,s){e=null;for(var u=t,d=!1;u!==null;){if(!d){if((u.flags&524288)!==0)d=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var w=u.type;Qt(u.pendingProps.value,y.value)||(e!==null?e.push(w):e=[w])}}else if(u===ze.current){if(y=u.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(ys):e=[ys])}u=u.return}e!==null&&_u(t,e,n,s),t.flags|=262144}function gl(e){for(e=e.firstContext;e!==null;){if(!Qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function cn(e){un=e,Qa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function kt(e){return Gh(un,e)}function pl(e,t){return un===null&&cn(e),Gh(e,t)}function Gh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Qa===null){if(e===null)throw Error(l(308));Qa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Qa=Qa.next=t;return n}var tv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},av=r.unstable_scheduleCallback,rv=r.unstable_NormalPriority,wt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Su(){return{controller:new tv,data:new Map,refCount:0}}function Yi(e){e.refCount--,e.refCount===0&&av(rv,function(){e.controller.abort()})}var Ki=null,Eu=0,Gn=0,Yn=null;function nv(e,t){if(Ki===null){var n=Ki=[];Eu=0,Gn=Nc(),Yn={status:"pending",value:void 0,then:function(s){n.push(s)}}}return Eu++,t.then(Yh,Yh),t}function Yh(){if(--Eu===0&&Ki!==null){Yn!==null&&(Yn.status="fulfilled");var e=Ki;Ki=null,Gn=0,Yn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function iv(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(s.status="rejected",s.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),s}var Kh=B.S;B.S=function(e,t){Om=pt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&nv(e,t),Kh!==null&&Kh(e,t)};var dn=O(null);function ju(){var e=dn.current;return e!==null?e:Ze.pooledCache}function yl(e,t){t===null?L(dn,dn.current):L(dn,t.pool)}function Ih(){var e=ju();return e===null?null:{parent:wt._currentValue,pool:e}}var Kn=Error(l(460)),Au=Error(l(474)),vl=Error(l(542)),bl={then:function(){}};function Fh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ia,Ia),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qh(e),e;default:if(typeof t.status=="string")t.then(Ia,Ia);else{if(e=Ze,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=s}},function(s){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qh(e),e}throw fn=t,Kn}}function hn(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(fn=n,Kn):n}}var fn=null;function Xh(){if(fn===null)throw Error(l(459));var e=fn;return fn=null,e}function Qh(e){if(e===Kn||e===vl)throw Error(l(483))}var In=null,Ii=0;function xl(e){var t=Ii;return Ii+=1,In===null&&(In=[]),Jh(In,e,t)}function Fi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function wl(e,t){throw t.$$typeof===x?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Zh(e){function t(z,D){if(e){var $=z.deletions;$===null?(z.deletions=[D],z.flags|=16):$.push(D)}}function n(z,D){if(!e)return null;for(;D!==null;)t(z,D),D=D.sibling;return null}function s(z){for(var D=new Map;z!==null;)z.key!==null?D.set(z.key,z):D.set(z.index,z),z=z.sibling;return D}function u(z,D){return z=Ja(z,D),z.index=0,z.sibling=null,z}function d(z,D,$){return z.index=$,e?($=z.alternate,$!==null?($=$.index,$<D?(z.flags|=67108866,D):$):(z.flags|=67108866,D)):(z.flags|=1048576,D)}function y(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function w(z,D,$,I){return D===null||D.tag!==6?(D=mu($,z.mode,I),D.return=z,D):(D=u(D,$),D.return=z,D)}function N(z,D,$,I){var pe=$.type;return pe===T?K(z,D,$.props.children,I,$.key):D!==null&&(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ee&&hn(pe)===D.type)?(D=u(D,$.props),Fi(D,$),D.return=z,D):(D=fl($.type,$.key,$.props,null,z.mode,I),Fi(D,$),D.return=z,D)}function q(z,D,$,I){return D===null||D.tag!==4||D.stateNode.containerInfo!==$.containerInfo||D.stateNode.implementation!==$.implementation?(D=gu($,z.mode,I),D.return=z,D):(D=u(D,$.children||[]),D.return=z,D)}function K(z,D,$,I,pe){return D===null||D.tag!==7?(D=ln($,z.mode,I,pe),D.return=z,D):(D=u(D,$),D.return=z,D)}function F(z,D,$){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=mu(""+D,z.mode,$),D.return=z,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _:return $=fl(D.type,D.key,D.props,null,z.mode,$),Fi($,D),$.return=z,$;case j:return D=gu(D,z.mode,$),D.return=z,D;case ee:return D=hn(D),F(z,D,$)}if(G(D)||Oe(D))return D=ln(D,z.mode,$,null),D.return=z,D;if(typeof D.then=="function")return F(z,xl(D),$);if(D.$$typeof===C)return F(z,pl(z,D),$);wl(z,D)}return null}function H(z,D,$,I){var pe=D!==null?D.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return pe!==null?null:w(z,D,""+$,I);if(typeof $=="object"&&$!==null){switch($.$$typeof){case _:return $.key===pe?N(z,D,$,I):null;case j:return $.key===pe?q(z,D,$,I):null;case ee:return $=hn($),H(z,D,$,I)}if(G($)||Oe($))return pe!==null?null:K(z,D,$,I,null);if(typeof $.then=="function")return H(z,D,xl($),I);if($.$$typeof===C)return H(z,D,pl(z,$),I);wl(z,$)}return null}function V(z,D,$,I,pe){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return z=z.get($)||null,w(D,z,""+I,pe);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case _:return z=z.get(I.key===null?$:I.key)||null,N(D,z,I,pe);case j:return z=z.get(I.key===null?$:I.key)||null,q(D,z,I,pe);case ee:return I=hn(I),V(z,D,$,I,pe)}if(G(I)||Oe(I))return z=z.get($)||null,K(D,z,I,pe,null);if(typeof I.then=="function")return V(z,D,$,xl(I),pe);if(I.$$typeof===C)return V(z,D,$,pl(D,I),pe);wl(D,I)}return null}function oe(z,D,$,I){for(var pe=null,Ve=null,ue=D,Ae=D=0,Ue=null;ue!==null&&Ae<$.length;Ae++){ue.index>Ae?(Ue=ue,ue=null):Ue=ue.sibling;var Ge=H(z,ue,$[Ae],I);if(Ge===null){ue===null&&(ue=Ue);break}e&&ue&&Ge.alternate===null&&t(z,ue),D=d(Ge,D,Ae),Ve===null?pe=Ge:Ve.sibling=Ge,Ve=Ge,ue=Ue}if(Ae===$.length)return n(z,ue),qe&&Xa(z,Ae),pe;if(ue===null){for(;Ae<$.length;Ae++)ue=F(z,$[Ae],I),ue!==null&&(D=d(ue,D,Ae),Ve===null?pe=ue:Ve.sibling=ue,Ve=ue);return qe&&Xa(z,Ae),pe}for(ue=s(ue);Ae<$.length;Ae++)Ue=V(ue,z,Ae,$[Ae],I),Ue!==null&&(e&&Ue.alternate!==null&&ue.delete(Ue.key===null?Ae:Ue.key),D=d(Ue,D,Ae),Ve===null?pe=Ue:Ve.sibling=Ue,Ve=Ue);return e&&ue.forEach(function(qr){return t(z,qr)}),qe&&Xa(z,Ae),pe}function be(z,D,$,I){if($==null)throw Error(l(151));for(var pe=null,Ve=null,ue=D,Ae=D=0,Ue=null,Ge=$.next();ue!==null&&!Ge.done;Ae++,Ge=$.next()){ue.index>Ae?(Ue=ue,ue=null):Ue=ue.sibling;var qr=H(z,ue,Ge.value,I);if(qr===null){ue===null&&(ue=Ue);break}e&&ue&&qr.alternate===null&&t(z,ue),D=d(qr,D,Ae),Ve===null?pe=qr:Ve.sibling=qr,Ve=qr,ue=Ue}if(Ge.done)return n(z,ue),qe&&Xa(z,Ae),pe;if(ue===null){for(;!Ge.done;Ae++,Ge=$.next())Ge=F(z,Ge.value,I),Ge!==null&&(D=d(Ge,D,Ae),Ve===null?pe=Ge:Ve.sibling=Ge,Ve=Ge);return qe&&Xa(z,Ae),pe}for(ue=s(ue);!Ge.done;Ae++,Ge=$.next())Ge=V(ue,z,Ae,Ge.value,I),Ge!==null&&(e&&Ge.alternate!==null&&ue.delete(Ge.key===null?Ae:Ge.key),D=d(Ge,D,Ae),Ve===null?pe=Ge:Ve.sibling=Ge,Ve=Ge);return e&&ue.forEach(function(pb){return t(z,pb)}),qe&&Xa(z,Ae),pe}function Qe(z,D,$,I){if(typeof $=="object"&&$!==null&&$.type===T&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case _:e:{for(var pe=$.key;D!==null;){if(D.key===pe){if(pe=$.type,pe===T){if(D.tag===7){n(z,D.sibling),I=u(D,$.props.children),I.return=z,z=I;break e}}else if(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ee&&hn(pe)===D.type){n(z,D.sibling),I=u(D,$.props),Fi(I,$),I.return=z,z=I;break e}n(z,D);break}else t(z,D);D=D.sibling}$.type===T?(I=ln($.props.children,z.mode,I,$.key),I.return=z,z=I):(I=fl($.type,$.key,$.props,null,z.mode,I),Fi(I,$),I.return=z,z=I)}return y(z);case j:e:{for(pe=$.key;D!==null;){if(D.key===pe)if(D.tag===4&&D.stateNode.containerInfo===$.containerInfo&&D.stateNode.implementation===$.implementation){n(z,D.sibling),I=u(D,$.children||[]),I.return=z,z=I;break e}else{n(z,D);break}else t(z,D);D=D.sibling}I=gu($,z.mode,I),I.return=z,z=I}return y(z);case ee:return $=hn($),Qe(z,D,$,I)}if(G($))return oe(z,D,$,I);if(Oe($)){if(pe=Oe($),typeof pe!="function")throw Error(l(150));return $=pe.call($),be(z,D,$,I)}if(typeof $.then=="function")return Qe(z,D,xl($),I);if($.$$typeof===C)return Qe(z,D,pl(z,$),I);wl(z,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,D!==null&&D.tag===6?(n(z,D.sibling),I=u(D,$),I.return=z,z=I):(n(z,D),I=mu($,z.mode,I),I.return=z,z=I),y(z)):n(z,D)}return function(z,D,$,I){try{Ii=0;var pe=Qe(z,D,$,I);return In=null,pe}catch(ue){if(ue===Kn||ue===vl)throw ue;var Ve=Zt(29,ue,null,z.mode);return Ve.lanes=I,Ve.return=z,Ve}}}var mn=Zh(!0),Wh=Zh(!1),Sr=!1;function Nu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Er(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function jr(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ke&2)!==0){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,t=hl(e),Mh(e,null,n),t}return dl(e,s,t,n),hl(e)}function Ji(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,A(e,n)}}function Ru(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var u=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var y={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};d===null?u=d=y:d=d.next=y,n=n.next}while(n!==null);d===null?u=d=t:d=d.next=t}else u=d=t;n={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ou=!1;function Xi(){if(Ou){var e=Yn;if(e!==null)throw e}}function Qi(e,t,n,s){Ou=!1;var u=e.updateQueue;Sr=!1;var d=u.firstBaseUpdate,y=u.lastBaseUpdate,w=u.shared.pending;if(w!==null){u.shared.pending=null;var N=w,q=N.next;N.next=null,y===null?d=q:y.next=q,y=N;var K=e.alternate;K!==null&&(K=K.updateQueue,w=K.lastBaseUpdate,w!==y&&(w===null?K.firstBaseUpdate=q:w.next=q,K.lastBaseUpdate=N))}if(d!==null){var F=u.baseState;y=0,K=q=N=null,w=d;do{var H=w.lane&-536870913,V=H!==w.lane;if(V?(De&H)===H:(s&H)===H){H!==0&&H===Gn&&(Ou=!0),K!==null&&(K=K.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var oe=e,be=w;H=t;var Qe=n;switch(be.tag){case 1:if(oe=be.payload,typeof oe=="function"){F=oe.call(Qe,F,H);break e}F=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=be.payload,H=typeof oe=="function"?oe.call(Qe,F,H):oe,H==null)break e;F=b({},F,H);break e;case 2:Sr=!0}}H=w.callback,H!==null&&(e.flags|=64,V&&(e.flags|=8192),V=u.callbacks,V===null?u.callbacks=[H]:V.push(H))}else V={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},K===null?(q=K=V,N=F):K=K.next=V,y|=H;if(w=w.next,w===null){if(w=u.shared.pending,w===null)break;V=w,w=V.next,V.next=null,u.lastBaseUpdate=V,u.shared.pending=null}}while(!0);K===null&&(N=F),u.baseState=N,u.firstBaseUpdate=q,u.lastBaseUpdate=K,d===null&&(u.shared.lanes=0),Or|=y,e.lanes=y,e.memoizedState=F}}function ef(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function tf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)ef(n[e],t)}var Fn=O(null),_l=O(0);function af(e,t){e=lr,L(_l,e),L(Fn,t),lr=e|t.baseLanes}function Cu(){L(_l,lr),L(Fn,Fn.current)}function ku(){lr=_l.current,Y(Fn),Y(_l)}var Wt=O(null),pa=null;function Ar(e){var t=e.alternate;L(vt,vt.current&1),L(Wt,e),pa===null&&(t===null||Fn.current!==null||t.memoizedState!==null)&&(pa=e)}function Du(e){L(vt,vt.current),L(Wt,e),pa===null&&(pa=e)}function rf(e){e.tag===22?(L(vt,vt.current),L(Wt,e),pa===null&&(pa=e)):Nr()}function Nr(){L(vt,vt.current),L(Wt,Wt.current)}function ea(e){Y(Wt),pa===e&&(pa=null),Y(vt)}var vt=O(0);function Sl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||$c(n)||qc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wa=0,je=null,Je=null,_t=null,El=!1,Jn=!1,gn=!1,jl=0,Zi=0,Xn=null,sv=0;function ht(){throw Error(l(321))}function Uu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qt(e[n],t[n]))return!1;return!0}function zu(e,t,n,s,u,d){return Wa=d,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?Hf:Xu,gn=!1,d=n(s,u),gn=!1,Jn&&(d=sf(t,n,s,u)),nf(e),d}function nf(e){B.H=ts;var t=Je!==null&&Je.next!==null;if(Wa=0,_t=Je=je=null,El=!1,Zi=0,Xn=null,t)throw Error(l(300));e===null||St||(e=e.dependencies,e!==null&&gl(e)&&(St=!0))}function sf(e,t,n,s){je=e;var u=0;do{if(Jn&&(Xn=null),Zi=0,Jn=!1,25<=u)throw Error(l(301));if(u+=1,_t=Je=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}B.H=Pf,d=t(n,s)}while(Jn);return d}function lv(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?Wi(t):t,e=e.useState()[0],(Je!==null?Je.memoizedState:null)!==e&&(je.flags|=1024),t}function Mu(){var e=jl!==0;return jl=0,e}function Bu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Lu(e){if(El){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}El=!1}Wa=0,_t=Je=je=null,Jn=!1,Zi=jl=0,Xn=null}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?je.memoizedState=_t=e:_t=_t.next=e,_t}function bt(){if(Je===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=_t===null?je.memoizedState:_t.next;if(t!==null)_t=t,Je=e;else{if(e===null)throw je.alternate===null?Error(l(467)):Error(l(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},_t===null?je.memoizedState=_t=e:_t=_t.next=e}return _t}function Al(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wi(e){var t=Zi;return Zi+=1,Xn===null&&(Xn=[]),e=Jh(Xn,e,t),t=je,(_t===null?t.memoizedState:_t.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?Hf:Xu),e}function Nl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wi(e);if(e.$$typeof===C)return kt(e)}throw Error(l(438,String(e)))}function $u(e){var t=null,n=je.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=je.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Al(),je.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=Re;return t.index++,n}function er(e,t){return typeof t=="function"?t(e):t}function Tl(e){var t=bt();return qu(t,Je,e)}function qu(e,t,n){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=n;var u=e.baseQueue,d=s.pending;if(d!==null){if(u!==null){var y=u.next;u.next=d.next,d.next=y}t.baseQueue=u=d,s.pending=null}if(d=e.baseState,u===null)e.memoizedState=d;else{t=u.next;var w=y=null,N=null,q=t,K=!1;do{var F=q.lane&-536870913;if(F!==q.lane?(De&F)===F:(Wa&F)===F){var H=q.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),F===Gn&&(K=!0);else if((Wa&H)===H){q=q.next,H===Gn&&(K=!0);continue}else F={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(w=N=F,y=d):N=N.next=F,je.lanes|=H,Or|=H;F=q.action,gn&&n(d,F),d=q.hasEagerState?q.eagerState:n(d,F)}else H={lane:F,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(w=N=H,y=d):N=N.next=H,je.lanes|=F,Or|=F;q=q.next}while(q!==null&&q!==t);if(N===null?y=d:N.next=w,!Qt(d,e.memoizedState)&&(St=!0,K&&(n=Yn,n!==null)))throw n;e.memoizedState=d,e.baseState=y,e.baseQueue=N,s.lastRenderedState=d}return u===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Hu(e){var t=bt(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var s=n.dispatch,u=n.pending,d=t.memoizedState;if(u!==null){n.pending=null;var y=u=u.next;do d=e(d,y.action),y=y.next;while(y!==u);Qt(d,t.memoizedState)||(St=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,s]}function lf(e,t,n){var s=je,u=bt(),d=qe;if(d){if(n===void 0)throw Error(l(407));n=n()}else n=t();var y=!Qt((Je||u).memoizedState,n);if(y&&(u.memoizedState=n,St=!0),u=u.queue,Gu(cf.bind(null,s,u,e),[e]),u.getSnapshot!==t||y||_t!==null&&_t.memoizedState.tag&1){if(s.flags|=2048,Qn(9,{destroy:void 0},uf.bind(null,s,u,n,t),null),Ze===null)throw Error(l(349));d||(Wa&127)!==0||of(s,t,n)}return n}function of(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=je.updateQueue,t===null?(t=Al(),je.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function uf(e,t,n,s){t.value=n,t.getSnapshot=s,df(t)&&hf(e)}function cf(e,t,n){return n(function(){df(t)&&hf(e)})}function df(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qt(e,n)}catch{return!0}}function hf(e){var t=sn(e,2);t!==null&&Ft(t,e,2)}function Pu(e){var t=qt();if(typeof e=="function"){var n=e;if(e=n(),gn){ja(!0);try{n()}finally{ja(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:e},t}function ff(e,t,n,s){return e.baseState=n,qu(e,Je,typeof s=="function"?s:er)}function ov(e,t,n,s,u){if(Cl(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};B.T!==null?n(!0):d.isTransition=!1,s(d),n=t.pending,n===null?(d.next=t.pending=d,mf(t,d)):(d.next=n.next,t.pending=n.next=d)}}function mf(e,t){var n=t.action,s=t.payload,u=e.state;if(t.isTransition){var d=B.T,y={};B.T=y;try{var w=n(u,s),N=B.S;N!==null&&N(y,w),gf(e,t,w)}catch(q){Vu(e,t,q)}finally{d!==null&&y.types!==null&&(d.types=y.types),B.T=d}}else try{d=n(u,s),gf(e,t,d)}catch(q){Vu(e,t,q)}}function gf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){pf(e,t,s)},function(s){return Vu(e,t,s)}):pf(e,t,n)}function pf(e,t,n){t.status="fulfilled",t.value=n,yf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,mf(e,n)))}function Vu(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,yf(t),t=t.next;while(t!==s)}e.action=null}function yf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function vf(e,t){return t}function bf(e,t){if(qe){var n=Ze.formState;if(n!==null){e:{var s=je;if(qe){if(et){t:{for(var u=et,d=ga;u.nodeType!==8;){if(!d){u=null;break t}if(u=ya(u.nextSibling),u===null){u=null;break t}}d=u.data,u=d==="F!"||d==="F"?u:null}if(u){et=ya(u.nextSibling),s=u.data==="F!";break e}}wr(s)}s=!1}s&&(t=n[0])}}return n=qt(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vf,lastRenderedState:t},n.queue=s,n=Lf.bind(null,je,s),s.dispatch=n,s=Pu(!1),d=Ju.bind(null,je,!1,s.queue),s=qt(),u={state:t,dispatch:null,action:e,pending:null},s.queue=u,n=ov.bind(null,je,u,d,n),u.dispatch=n,s.memoizedState=e,[t,n,!1]}function xf(e){var t=bt();return wf(t,Je,e)}function wf(e,t,n){if(t=qu(e,t,vf)[0],e=Tl(er)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Wi(t)}catch(y){throw y===Kn?vl:y}else s=t;t=bt();var u=t.queue,d=u.dispatch;return n!==t.memoizedState&&(je.flags|=2048,Qn(9,{destroy:void 0},uv.bind(null,u,n),null)),[s,d,e]}function uv(e,t){e.action=t}function _f(e){var t=bt(),n=Je;if(n!==null)return wf(t,n,e);bt(),t=t.memoizedState,n=bt();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function Qn(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=je.updateQueue,t===null&&(t=Al(),je.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function Sf(){return bt().memoizedState}function Rl(e,t,n,s){var u=qt();je.flags|=e,u.memoizedState=Qn(1|t,{destroy:void 0},n,s===void 0?null:s)}function Ol(e,t,n,s){var u=bt();s=s===void 0?null:s;var d=u.memoizedState.inst;Je!==null&&s!==null&&Uu(s,Je.memoizedState.deps)?u.memoizedState=Qn(t,d,n,s):(je.flags|=e,u.memoizedState=Qn(1|t,d,n,s))}function Ef(e,t){Rl(8390656,8,e,t)}function Gu(e,t){Ol(2048,8,e,t)}function cv(e){je.flags|=4;var t=je.updateQueue;if(t===null)t=Al(),je.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function jf(e){var t=bt().memoizedState;return cv({ref:t,nextImpl:e}),function(){if((Ke&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Af(e,t){return Ol(4,2,e,t)}function Nf(e,t){return Ol(4,4,e,t)}function Tf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rf(e,t,n){n=n!=null?n.concat([e]):null,Ol(4,4,Tf.bind(null,t,e),n)}function Yu(){}function Of(e,t){var n=bt();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&Uu(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Cf(e,t){var n=bt();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&Uu(t,s[1]))return s[0];if(s=e(),gn){ja(!0);try{e()}finally{ja(!1)}}return n.memoizedState=[s,t],s}function Ku(e,t,n){return n===void 0||(Wa&1073741824)!==0&&(De&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=km(),je.lanes|=e,Or|=e,n)}function kf(e,t,n,s){return Qt(n,t)?n:Fn.current!==null?(e=Ku(e,n,s),Qt(e,t)||(St=!0),e):(Wa&42)===0||(Wa&1073741824)!==0&&(De&261930)===0?(St=!0,e.memoizedState=n):(e=km(),je.lanes|=e,Or|=e,t)}function Df(e,t,n,s,u){var d=X.p;X.p=d!==0&&8>d?d:8;var y=B.T,w={};B.T=w,Ju(e,!1,t,n);try{var N=u(),q=B.S;if(q!==null&&q(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var K=iv(N,s);es(e,t,K,ra(e))}else es(e,t,s,ra(e))}catch(F){es(e,t,{then:function(){},status:"rejected",reason:F},ra())}finally{X.p=d,y!==null&&w.types!==null&&(y.types=w.types),B.T=y}}function dv(){}function Iu(e,t,n,s){if(e.tag!==5)throw Error(l(476));var u=Uf(e).queue;Df(e,u,t,te,n===null?dv:function(){return zf(e),n(s)})}function Uf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:te},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function zf(e){var t=Uf(e);t.next===null&&(t=e.alternate.memoizedState),es(e,t.next.queue,{},ra())}function Fu(){return kt(ys)}function Mf(){return bt().memoizedState}function Bf(){return bt().memoizedState}function hv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ra();e=Er(n);var s=jr(t,e,n);s!==null&&(Ft(s,t,n),Ji(s,t,n)),t={cache:Su()},e.payload=t;return}t=t.return}}function fv(e,t,n){var s=ra();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Cl(e)?$f(t,n):(n=hu(e,t,n,s),n!==null&&(Ft(n,e,s),qf(n,t,s)))}function Lf(e,t,n){var s=ra();es(e,t,n,s)}function es(e,t,n,s){var u={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cl(e))$f(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var y=t.lastRenderedState,w=d(y,n);if(u.hasEagerState=!0,u.eagerState=w,Qt(w,y))return dl(e,t,u,0),Ze===null&&cl(),!1}catch{}if(n=hu(e,t,u,s),n!==null)return Ft(n,e,s),qf(n,t,s),!0}return!1}function Ju(e,t,n,s){if(s={lane:2,revertLane:Nc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Cl(e)){if(t)throw Error(l(479))}else t=hu(e,n,s,2),t!==null&&Ft(t,e,2)}function Cl(e){var t=e.alternate;return e===je||t!==null&&t===je}function $f(e,t){Jn=El=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qf(e,t,n){if((n&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,A(e,n)}}var ts={readContext:kt,use:Nl,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};ts.useEffectEvent=ht;var Hf={readContext:kt,use:Nl,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:Ef,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Rl(4194308,4,Tf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rl(4194308,4,e,t)},useInsertionEffect:function(e,t){Rl(4,2,e,t)},useMemo:function(e,t){var n=qt();t=t===void 0?null:t;var s=e();if(gn){ja(!0);try{e()}finally{ja(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=qt();if(n!==void 0){var u=n(t);if(gn){ja(!0);try{n(t)}finally{ja(!1)}}}else u=t;return s.memoizedState=s.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},s.queue=e,e=e.dispatch=fv.bind(null,je,e),[s.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:function(e){e=Pu(e);var t=e.queue,n=Lf.bind(null,je,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Yu,useDeferredValue:function(e,t){var n=qt();return Ku(n,e,t)},useTransition:function(){var e=Pu(!1);return e=Df.bind(null,je,e.queue,!0,!1),qt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=je,u=qt();if(qe){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),Ze===null)throw Error(l(349));(De&127)!==0||of(s,t,n)}u.memoizedState=n;var d={value:n,getSnapshot:t};return u.queue=d,Ef(cf.bind(null,s,d,e),[e]),s.flags|=2048,Qn(9,{destroy:void 0},uf.bind(null,s,d,n,t),null),n},useId:function(){var e=qt(),t=Ze.identifierPrefix;if(qe){var n=Ba,s=Ma;n=(s&~(1<<32-Bt(s)-1)).toString(32)+n,t="_"+t+"R_"+n,n=jl++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=sv++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Fu,useFormState:bf,useActionState:bf,useOptimistic:function(e){var t=qt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ju.bind(null,je,!0,n),n.dispatch=t,[e,t]},useMemoCache:$u,useCacheRefresh:function(){return qt().memoizedState=hv.bind(null,je)},useEffectEvent:function(e){var t=qt(),n={impl:e};return t.memoizedState=n,function(){if((Ke&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}},Xu={readContext:kt,use:Nl,useCallback:Of,useContext:kt,useEffect:Gu,useImperativeHandle:Rf,useInsertionEffect:Af,useLayoutEffect:Nf,useMemo:Cf,useReducer:Tl,useRef:Sf,useState:function(){return Tl(er)},useDebugValue:Yu,useDeferredValue:function(e,t){var n=bt();return kf(n,Je.memoizedState,e,t)},useTransition:function(){var e=Tl(er)[0],t=bt().memoizedState;return[typeof e=="boolean"?e:Wi(e),t]},useSyncExternalStore:lf,useId:Mf,useHostTransitionStatus:Fu,useFormState:xf,useActionState:xf,useOptimistic:function(e,t){var n=bt();return ff(n,Je,e,t)},useMemoCache:$u,useCacheRefresh:Bf};Xu.useEffectEvent=jf;var Pf={readContext:kt,use:Nl,useCallback:Of,useContext:kt,useEffect:Gu,useImperativeHandle:Rf,useInsertionEffect:Af,useLayoutEffect:Nf,useMemo:Cf,useReducer:Hu,useRef:Sf,useState:function(){return Hu(er)},useDebugValue:Yu,useDeferredValue:function(e,t){var n=bt();return Je===null?Ku(n,e,t):kf(n,Je.memoizedState,e,t)},useTransition:function(){var e=Hu(er)[0],t=bt().memoizedState;return[typeof e=="boolean"?e:Wi(e),t]},useSyncExternalStore:lf,useId:Mf,useHostTransitionStatus:Fu,useFormState:_f,useActionState:_f,useOptimistic:function(e,t){var n=bt();return Je!==null?ff(n,Je,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:$u,useCacheRefresh:Bf};Pf.useEffectEvent=jf;function Qu(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:b({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zu={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ra(),u=Er(s);u.payload=t,n!=null&&(u.callback=n),t=jr(e,u,s),t!==null&&(Ft(t,e,s),Ji(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ra(),u=Er(s);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=jr(e,u,s),t!==null&&(Ft(t,e,s),Ji(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ra(),s=Er(n);s.tag=2,t!=null&&(s.callback=t),t=jr(e,s,n),t!==null&&(Ft(t,e,n),Ji(t,e,n))}};function Vf(e,t,n,s,u,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,y):t.prototype&&t.prototype.isPureReactComponent?!Hi(n,s)||!Hi(u,d):!0}function Gf(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Zu.enqueueReplaceState(t,t.state,null)}function pn(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=b({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function Yf(e){ul(e)}function Kf(e){console.error(e)}function If(e){ul(e)}function kl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Ff(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Wu(e,t,n){return n=Er(n),n.tag=3,n.payload={element:null},n.callback=function(){kl(e,t)},n}function Jf(e){return e=Er(e),e.tag=3,e}function Xf(e,t,n,s){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var d=s.value;e.payload=function(){return u(d)},e.callback=function(){Ff(t,n,s)}}var y=n.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Ff(t,n,s),typeof u!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})})}function mv(e,t,n,s,u){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&Vn(t,n,u,!0),n=Wt.current,n!==null){switch(n.tag){case 31:case 13:return pa===null?Gl():n.alternate===null&&ft===0&&(ft=3),n.flags&=-257,n.flags|=65536,n.lanes=u,s===bl?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),Ec(e,s,u)),!1;case 22:return n.flags|=65536,s===bl?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),Ec(e,s,u)),!1}throw Error(l(435,n.tag))}return Ec(e,s,u),Gl(),!1}if(qe)return t=Wt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,s!==vu&&(e=Error(l(422),{cause:s}),Gi(ha(e,n)))):(s!==vu&&(t=Error(l(423),{cause:s}),Gi(ha(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,s=ha(s,n),u=Wu(e.stateNode,s,u),Ru(e,u),ft!==4&&(ft=2)),!1;var d=Error(l(520),{cause:s});if(d=ha(d,n),us===null?us=[d]:us.push(d),ft!==4&&(ft=2),t===null)return!0;s=ha(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=Wu(n.stateNode,s,e),Ru(n,e),!1;case 1:if(t=n.type,d=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Cr===null||!Cr.has(d))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Jf(u),Xf(u,e,n,s),Ru(n,u),!1}n=n.return}while(n!==null);return!1}var ec=Error(l(461)),St=!1;function Dt(e,t,n,s){t.child=e===null?Wh(t,null,n,s):mn(t,e.child,n,s)}function Qf(e,t,n,s,u){n=n.render;var d=t.ref;if("ref"in s){var y={};for(var w in s)w!=="ref"&&(y[w]=s[w])}else y=s;return cn(t),s=zu(e,t,n,y,d,u),w=Mu(),e!==null&&!St?(Bu(e,t,u),tr(e,t,u)):(qe&&w&&pu(t),t.flags|=1,Dt(e,t,s,u),t.child)}function Zf(e,t,n,s,u){if(e===null){var d=n.type;return typeof d=="function"&&!fu(d)&&d.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=d,Wf(e,t,d,s,u)):(e=fl(n.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!oc(e,u)){var y=d.memoizedProps;if(n=n.compare,n=n!==null?n:Hi,n(y,s)&&e.ref===t.ref)return tr(e,t,u)}return t.flags|=1,e=Ja(d,s),e.ref=t.ref,e.return=t,t.child=e}function Wf(e,t,n,s,u){if(e!==null){var d=e.memoizedProps;if(Hi(d,s)&&e.ref===t.ref)if(St=!1,t.pendingProps=s=d,oc(e,u))(e.flags&131072)!==0&&(St=!0);else return t.lanes=e.lanes,tr(e,t,u)}return tc(e,t,n,s,u)}function em(e,t,n,s){var u=s.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|n:n,e!==null){for(s=t.child=e.child,u=0;s!==null;)u=u|s.lanes|s.childLanes,s=s.sibling;s=u&~d}else s=0,t.child=null;return tm(e,t,d,n,s)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&yl(t,d!==null?d.cachePool:null),d!==null?af(t,d):Cu(),rf(t);else return s=t.lanes=536870912,tm(e,t,d!==null?d.baseLanes|n:n,n,s)}else d!==null?(yl(t,d.cachePool),af(t,d),Nr(),t.memoizedState=null):(e!==null&&yl(t,null),Cu(),Nr());return Dt(e,t,u,n),t.child}function as(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function tm(e,t,n,s,u){var d=ju();return d=d===null?null:{parent:wt._currentValue,pool:d},t.memoizedState={baseLanes:n,cachePool:d},e!==null&&yl(t,null),Cu(),rf(t),e!==null&&Vn(e,t,s,!0),t.childLanes=u,null}function Dl(e,t){return t=zl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function am(e,t,n){return mn(t,e.child,null,n),e=Dl(t,t.pendingProps),e.flags|=2,ea(t),t.memoizedState=null,e}function gv(e,t,n){var s=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(qe){if(s.mode==="hidden")return e=Dl(t,s),t.lanes=536870912,as(null,e);if(Du(t),(e=et)?(e=mg(e,ga),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:br!==null?{id:Ma,overflow:Ba}:null,retryLane:536870912,hydrationErrors:null},n=Lh(e),n.return=t,t.child=n,Ct=t,et=null)):e=null,e===null)throw wr(t);return t.lanes=536870912,null}return Dl(t,s)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(Du(t),u)if(t.flags&256)t.flags&=-257,t=am(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(St||Vn(e,t,n,!1),u=(n&e.childLanes)!==0,St||u){if(s=Ze,s!==null&&(y=M(s,n),y!==0&&y!==d.retryLane))throw d.retryLane=y,sn(e,y),Ft(s,e,y),ec;Gl(),t=am(e,t,n)}else e=d.treeContext,et=ya(y.nextSibling),Ct=t,qe=!0,xr=null,ga=!1,e!==null&&Hh(t,e),t=Dl(t,s),t.flags|=4096;return t}return e=Ja(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ul(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function tc(e,t,n,s,u){return cn(t),n=zu(e,t,n,s,void 0,u),s=Mu(),e!==null&&!St?(Bu(e,t,u),tr(e,t,u)):(qe&&s&&pu(t),t.flags|=1,Dt(e,t,n,u),t.child)}function rm(e,t,n,s,u,d){return cn(t),t.updateQueue=null,n=sf(t,s,n,u),nf(e),s=Mu(),e!==null&&!St?(Bu(e,t,d),tr(e,t,d)):(qe&&s&&pu(t),t.flags|=1,Dt(e,t,n,d),t.child)}function nm(e,t,n,s,u){if(cn(t),t.stateNode===null){var d=$n,y=n.contextType;typeof y=="object"&&y!==null&&(d=kt(y)),d=new n(s,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Zu,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=s,d.state=t.memoizedState,d.refs={},Nu(t),y=n.contextType,d.context=typeof y=="object"&&y!==null?kt(y):$n,d.state=t.memoizedState,y=n.getDerivedStateFromProps,typeof y=="function"&&(Qu(t,n,y,s),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Zu.enqueueReplaceState(d,d.state,null),Qi(t,s,d,u),Xi(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){d=t.stateNode;var w=t.memoizedProps,N=pn(n,w);d.props=N;var q=d.context,K=n.contextType;y=$n,typeof K=="object"&&K!==null&&(y=kt(K));var F=n.getDerivedStateFromProps;K=typeof F=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=t.pendingProps!==w,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||q!==y)&&Gf(t,d,s,y),Sr=!1;var H=t.memoizedState;d.state=H,Qi(t,s,d,u),Xi(),q=t.memoizedState,w||H!==q||Sr?(typeof F=="function"&&(Qu(t,n,F,s),q=t.memoizedState),(N=Sr||Vf(t,n,N,s,H,q,y))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=q),d.props=s,d.state=q,d.context=y,s=N):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,Tu(e,t),y=t.memoizedProps,K=pn(n,y),d.props=K,F=t.pendingProps,H=d.context,q=n.contextType,N=$n,typeof q=="object"&&q!==null&&(N=kt(q)),w=n.getDerivedStateFromProps,(q=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==F||H!==N)&&Gf(t,d,s,N),Sr=!1,H=t.memoizedState,d.state=H,Qi(t,s,d,u),Xi();var V=t.memoizedState;y!==F||H!==V||Sr||e!==null&&e.dependencies!==null&&gl(e.dependencies)?(typeof w=="function"&&(Qu(t,n,w,s),V=t.memoizedState),(K=Sr||Vf(t,n,K,s,H,V,N)||e!==null&&e.dependencies!==null&&gl(e.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,V,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,V,N)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=V),d.props=s,d.state=V,d.context=N,s=K):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),s=!1)}return d=s,Ul(e,t),s=(t.flags&128)!==0,d||s?(d=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&s?(t.child=mn(t,e.child,null,u),t.child=mn(t,null,n,u)):Dt(e,t,n,u),t.memoizedState=d.state,e=t.child):e=tr(e,t,u),e}function im(e,t,n,s){return on(),t.flags|=256,Dt(e,t,n,s),t.child}var ac={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rc(e){return{baseLanes:e,cachePool:Ih()}}function nc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=aa),e}function sm(e,t,n){var s=t.pendingProps,u=!1,d=(t.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(vt.current&2)!==0),y&&(u=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(qe){if(u?Ar(t):Nr(),(e=et)?(e=mg(e,ga),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:br!==null?{id:Ma,overflow:Ba}:null,retryLane:536870912,hydrationErrors:null},n=Lh(e),n.return=t,t.child=n,Ct=t,et=null)):e=null,e===null)throw wr(t);return qc(e)?t.lanes=32:t.lanes=536870912,null}var w=s.children;return s=s.fallback,u?(Nr(),u=t.mode,w=zl({mode:"hidden",children:w},u),s=ln(s,u,n,null),w.return=t,s.return=t,w.sibling=s,t.child=w,s=t.child,s.memoizedState=rc(n),s.childLanes=nc(e,y,n),t.memoizedState=ac,as(null,s)):(Ar(t),ic(t,w))}var N=e.memoizedState;if(N!==null&&(w=N.dehydrated,w!==null)){if(d)t.flags&256?(Ar(t),t.flags&=-257,t=sc(e,t,n)):t.memoizedState!==null?(Nr(),t.child=e.child,t.flags|=128,t=null):(Nr(),w=s.fallback,u=t.mode,s=zl({mode:"visible",children:s.children},u),w=ln(w,u,n,null),w.flags|=2,s.return=t,w.return=t,s.sibling=w,t.child=s,mn(t,e.child,null,n),s=t.child,s.memoizedState=rc(n),s.childLanes=nc(e,y,n),t.memoizedState=ac,t=as(null,s));else if(Ar(t),qc(w)){if(y=w.nextSibling&&w.nextSibling.dataset,y)var q=y.dgst;y=q,s=Error(l(419)),s.stack="",s.digest=y,Gi({value:s,source:null,stack:null}),t=sc(e,t,n)}else if(St||Vn(e,t,n,!1),y=(n&e.childLanes)!==0,St||y){if(y=Ze,y!==null&&(s=M(y,n),s!==0&&s!==N.retryLane))throw N.retryLane=s,sn(e,s),Ft(y,e,s),ec;$c(w)||Gl(),t=sc(e,t,n)}else $c(w)?(t.flags|=192,t.child=e.child,t=null):(e=N.treeContext,et=ya(w.nextSibling),Ct=t,qe=!0,xr=null,ga=!1,e!==null&&Hh(t,e),t=ic(t,s.children),t.flags|=4096);return t}return u?(Nr(),w=s.fallback,u=t.mode,N=e.child,q=N.sibling,s=Ja(N,{mode:"hidden",children:s.children}),s.subtreeFlags=N.subtreeFlags&65011712,q!==null?w=Ja(q,w):(w=ln(w,u,n,null),w.flags|=2),w.return=t,s.return=t,s.sibling=w,t.child=s,as(null,s),s=t.child,w=e.child.memoizedState,w===null?w=rc(n):(u=w.cachePool,u!==null?(N=wt._currentValue,u=u.parent!==N?{parent:N,pool:N}:u):u=Ih(),w={baseLanes:w.baseLanes|n,cachePool:u}),s.memoizedState=w,s.childLanes=nc(e,y,n),t.memoizedState=ac,as(e.child,s)):(Ar(t),n=e.child,e=n.sibling,n=Ja(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=n,t.memoizedState=null,n)}function ic(e,t){return t=zl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function zl(e,t){return e=Zt(22,e,null,t),e.lanes=0,e}function sc(e,t,n){return mn(t,e.child,null,n),e=ic(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lm(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),wu(e.return,t,n)}function lc(e,t,n,s,u,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:u,treeForkCount:d}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=s,y.tail=n,y.tailMode=u,y.treeForkCount=d)}function om(e,t,n){var s=t.pendingProps,u=s.revealOrder,d=s.tail;s=s.children;var y=vt.current,w=(y&2)!==0;if(w?(y=y&1|2,t.flags|=128):y&=1,L(vt,y),Dt(e,t,s,n),s=qe?Vi:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lm(e,n,t);else if(e.tag===19)lm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Sl(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),lc(t,!1,u,n,d,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Sl(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}lc(t,!0,n,null,d,s);break;case"together":lc(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function tr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Or|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Vn(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=Ja(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ja(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function oc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&gl(e)))}function pv(e,t,n){switch(t.tag){case 3:gt(t,t.stateNode.containerInfo),_r(t,wt,e.memoizedState.cache),on();break;case 27:case 5:Kr(t);break;case 4:gt(t,t.stateNode.containerInfo);break;case 10:_r(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Du(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Ar(t),t.flags|=128,null):(n&t.child.childLanes)!==0?sm(e,t,n):(Ar(t),e=tr(e,t,n),e!==null?e.sibling:null);Ar(t);break;case 19:var u=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(Vn(e,t,n,!1),s=(n&t.childLanes)!==0),u){if(s)return om(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),L(vt,vt.current),s)break;return null;case 22:return t.lanes=0,em(e,t,n,t.pendingProps);case 24:_r(t,wt,e.memoizedState.cache)}return tr(e,t,n)}function um(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)St=!0;else{if(!oc(e,n)&&(t.flags&128)===0)return St=!1,pv(e,t,n);St=(e.flags&131072)!==0}else St=!1,qe&&(t.flags&1048576)!==0&&qh(t,Vi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=hn(t.elementType),t.type=e,typeof e=="function")fu(e)?(s=pn(e,s),t.tag=1,t=nm(null,t,e,s,n)):(t.tag=0,t=tc(null,t,e,s,n));else{if(e!=null){var u=e.$$typeof;if(u===J){t.tag=11,t=Qf(null,t,e,s,n);break e}else if(u===k){t.tag=14,t=Zf(null,t,e,s,n);break e}}throw t=Pe(e)||e,Error(l(306,t,""))}}return t;case 0:return tc(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,u=pn(s,t.pendingProps),nm(e,t,s,u,n);case 3:e:{if(gt(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var d=t.memoizedState;u=d.element,Tu(e,t),Qi(t,s,null,n);var y=t.memoizedState;if(s=y.cache,_r(t,wt,s),s!==d.cache&&_u(t,[wt],n,!0),Xi(),s=y.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=im(e,t,s,n);break e}else if(s!==u){u=ha(Error(l(424)),t),Gi(u),t=im(e,t,s,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,et=ya(e.firstChild),Ct=t,qe=!0,xr=null,ga=!0,n=Wh(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(on(),s===u){t=tr(e,t,n);break e}Dt(e,t,s,n)}t=t.child}return t;case 26:return Ul(e,t),e===null?(n=xg(t.type,null,t.pendingProps,null))?t.memoizedState=n:qe||(n=t.type,e=t.pendingProps,s=Ql(Se.current).createElement(n),s[ie]=t,s[le]=e,Ut(s,n,e),rt(s),t.stateNode=s):t.memoizedState=xg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Kr(t),e===null&&qe&&(s=t.stateNode=yg(t.type,t.pendingProps,Se.current),Ct=t,ga=!0,u=et,zr(t.type)?(Hc=u,et=ya(s.firstChild)):et=u),Dt(e,t,t.pendingProps.children,n),Ul(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&qe&&((u=s=et)&&(s=Kv(s,t.type,t.pendingProps,ga),s!==null?(t.stateNode=s,Ct=t,et=ya(s.firstChild),ga=!1,u=!0):u=!1),u||wr(t)),Kr(t),u=t.type,d=t.pendingProps,y=e!==null?e.memoizedProps:null,s=d.children,Mc(u,d)?s=null:y!==null&&Mc(u,y)&&(t.flags|=32),t.memoizedState!==null&&(u=zu(e,t,lv,null,null,n),ys._currentValue=u),Ul(e,t),Dt(e,t,s,n),t.child;case 6:return e===null&&qe&&((e=n=et)&&(n=Iv(n,t.pendingProps,ga),n!==null?(t.stateNode=n,Ct=t,et=null,e=!0):e=!1),e||wr(t)),null;case 13:return sm(e,t,n);case 4:return gt(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=mn(t,null,s,n):Dt(e,t,s,n),t.child;case 11:return Qf(e,t,t.type,t.pendingProps,n);case 7:return Dt(e,t,t.pendingProps,n),t.child;case 8:return Dt(e,t,t.pendingProps.children,n),t.child;case 12:return Dt(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,_r(t,t.type,s.value),Dt(e,t,s.children,n),t.child;case 9:return u=t.type._context,s=t.pendingProps.children,cn(t),u=kt(u),s=s(u),t.flags|=1,Dt(e,t,s,n),t.child;case 14:return Zf(e,t,t.type,t.pendingProps,n);case 15:return Wf(e,t,t.type,t.pendingProps,n);case 19:return om(e,t,n);case 31:return gv(e,t,n);case 22:return em(e,t,n,t.pendingProps);case 24:return cn(t),s=kt(wt),e===null?(u=ju(),u===null&&(u=Ze,d=Su(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=n),u=d),t.memoizedState={parent:s,cache:u},Nu(t),_r(t,wt,u)):((e.lanes&n)!==0&&(Tu(e,t),Qi(t,null,null,n),Xi()),u=e.memoizedState,d=t.memoizedState,u.parent!==s?(u={parent:s,cache:s},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),_r(t,wt,s)):(s=d.cache,_r(t,wt,s),s!==u.cache&&_u(t,[wt],n,!0))),Dt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function ar(e){e.flags|=4}function uc(e,t,n,s,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Mm())e.flags|=8192;else throw fn=bl,Au}else e.flags&=-16777217}function cm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jg(t))if(Mm())e.flags|=8192;else throw fn=bl,Au}function Ml(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Zr():536870912,e.lanes|=t,ti|=t)}function rs(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,s|=u.subtreeFlags&65011712,s|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function yv(e,t,n){var s=t.pendingProps;switch(yu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return tt(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Za(wt),it(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Pn(t)?ar(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,bu())),tt(t),null;case 26:var u=t.type,d=t.memoizedState;return e===null?(ar(t),d!==null?(tt(t),cm(t,d)):(tt(t),uc(t,u,null,s,n))):d?d!==e.memoizedState?(ar(t),tt(t),cm(t,d)):(tt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&ar(t),tt(t),uc(t,u,e,s,n)),null;case 27:if(Tn(t),n=Se.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ar(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return tt(t),null}e=ae.current,Pn(t)?Ph(t):(e=yg(u,s,n),t.stateNode=e,ar(t))}return tt(t),null;case 5:if(Tn(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ar(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return tt(t),null}if(d=ae.current,Pn(t))Ph(t);else{var y=Ql(Se.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof s.is=="string"?y.createElement("select",{is:s.is}):y.createElement("select"),s.multiple?d.multiple=!0:s.size&&(d.size=s.size);break;default:d=typeof s.is=="string"?y.createElement(u,{is:s.is}):y.createElement(u)}}d[ie]=t,d[le]=s;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=d;e:switch(Ut(d,u,s),u){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ar(t)}}return tt(t),uc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&ar(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=Se.current,Pn(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,u=Ct,u!==null)switch(u.tag){case 27:case 5:s=u.memoizedProps}e[ie]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||sg(e.nodeValue,n)),e||wr(t,!0)}else e=Ql(e).createTextNode(s),e[ie]=t,t.stateNode=e}return tt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(s=Pn(t),n!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[ie]=t}else on(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),e=!1}else n=bu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(ea(t),t):(ea(t),null);if((t.flags&128)!==0)throw Error(l(558))}return tt(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Pn(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[ie]=t}else on(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),u=!1}else u=bu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(ea(t),t):(ea(t),null)}return ea(t),(t.flags&128)!==0?(t.lanes=n,t):(n=s!==null,e=e!==null&&e.memoizedState!==null,n&&(s=t.child,u=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(u=s.alternate.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==u&&(s.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ml(t,t.updateQueue),tt(t),null);case 4:return it(),e===null&&Cc(t.stateNode.containerInfo),tt(t),null;case 10:return Za(t.type),tt(t),null;case 19:if(Y(vt),s=t.memoizedState,s===null)return tt(t),null;if(u=(t.flags&128)!==0,d=s.rendering,d===null)if(u)rs(s,!1);else{if(ft!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Sl(e),d!==null){for(t.flags|=128,rs(s,!1),e=d.updateQueue,t.updateQueue=e,Ml(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Bh(n,e),n=n.sibling;return L(vt,vt.current&1|2),qe&&Xa(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&pt()>Hl&&(t.flags|=128,u=!0,rs(s,!1),t.lanes=4194304)}else{if(!u)if(e=Sl(d),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Ml(t,e),rs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!d.alternate&&!qe)return tt(t),null}else 2*pt()-s.renderingStartTime>Hl&&n!==536870912&&(t.flags|=128,u=!0,rs(s,!1),t.lanes=4194304);s.isBackwards?(d.sibling=t.child,t.child=d):(e=s.last,e!==null?e.sibling=d:t.child=d,s.last=d)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=pt(),e.sibling=null,n=vt.current,L(vt,u?n&1|2:n&1),qe&&Xa(t,s.treeForkCount),e):(tt(t),null);case 22:case 23:return ea(t),ku(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(n&536870912)!==0&&(t.flags&128)===0&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),n=t.updateQueue,n!==null&&Ml(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&Y(dn),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Za(wt),tt(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function vv(e,t){switch(yu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Za(wt),it(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Tn(t),null;case 31:if(t.memoizedState!==null){if(ea(t),t.alternate===null)throw Error(l(340));on()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ea(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));on()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(vt),null;case 4:return it(),null;case 10:return Za(t.type),null;case 22:case 23:return ea(t),ku(),e!==null&&Y(dn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Za(wt),null;case 25:return null;default:return null}}function dm(e,t){switch(yu(t),t.tag){case 3:Za(wt),it();break;case 26:case 27:case 5:Tn(t);break;case 4:it();break;case 31:t.memoizedState!==null&&ea(t);break;case 13:ea(t);break;case 19:Y(vt);break;case 10:Za(t.type);break;case 22:case 23:ea(t),ku(),e!==null&&Y(dn);break;case 24:Za(wt)}}function ns(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var u=s.next;n=u;do{if((n.tag&e)===e){s=void 0;var d=n.create,y=n.inst;s=d(),y.destroy=s}n=n.next}while(n!==u)}}catch(w){Fe(t,t.return,w)}}function Tr(e,t,n){try{var s=t.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var d=u.next;s=d;do{if((s.tag&e)===e){var y=s.inst,w=y.destroy;if(w!==void 0){y.destroy=void 0,u=t;var N=n,q=w;try{q()}catch(K){Fe(u,N,K)}}}s=s.next}while(s!==d)}}catch(K){Fe(t,t.return,K)}}function hm(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{tf(t,n)}catch(s){Fe(e,e.return,s)}}}function fm(e,t,n){n.props=pn(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){Fe(e,t,s)}}function is(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(u){Fe(e,t,u)}}function La(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(u){Fe(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){Fe(e,t,u)}else n.current=null}function mm(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(u){Fe(e,e.return,u)}}function cc(e,t,n){try{var s=e.stateNode;qv(s,e.type,n,t),s[le]=t}catch(u){Fe(e,e.return,u)}}function gm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zr(e.type)||e.tag===4}function dc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hc(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ia));else if(s!==4&&(s===27&&zr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(hc(e,t,n),e=e.sibling;e!==null;)hc(e,t,n),e=e.sibling}function Bl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&zr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Bl(e,t,n),e=e.sibling;e!==null;)Bl(e,t,n),e=e.sibling}function pm(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Ut(t,s,n),t[ie]=e,t[le]=n}catch(d){Fe(e,e.return,d)}}var rr=!1,Et=!1,fc=!1,ym=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function bv(e,t){if(e=e.containerInfo,Uc=no,e=Th(e),su(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var u=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var y=0,w=-1,N=-1,q=0,K=0,F=e,H=null;t:for(;;){for(var V;F!==n||u!==0&&F.nodeType!==3||(w=y+u),F!==d||s!==0&&F.nodeType!==3||(N=y+s),F.nodeType===3&&(y+=F.nodeValue.length),(V=F.firstChild)!==null;)H=F,F=V;for(;;){if(F===e)break t;if(H===n&&++q===u&&(w=y),H===d&&++K===s&&(N=y),(V=F.nextSibling)!==null)break;F=H,H=F.parentNode}F=V}n=w===-1||N===-1?null:{start:w,end:N}}else n=null}n=n||{start:0,end:0}}else n=null;for(zc={focusedElem:e,selectionRange:n},no=!1,Rt=t;Rt!==null;)if(t=Rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Rt=e;else for(;Rt!==null;){switch(t=Rt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,n=t,u=d.memoizedProps,d=d.memoizedState,s=n.stateNode;try{var oe=pn(n.type,u);e=s.getSnapshotBeforeUpdate(oe,d),s.__reactInternalSnapshotBeforeUpdate=e}catch(be){Fe(n,n.return,be)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Lc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Lc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,Rt=e;break}Rt=t.return}}function vm(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:ir(e,n),s&4&&ns(5,n);break;case 1:if(ir(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(y){Fe(n,n.return,y)}else{var u=pn(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Fe(n,n.return,y)}}s&64&&hm(n),s&512&&is(n,n.return);break;case 3:if(ir(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{tf(e,t)}catch(y){Fe(n,n.return,y)}}break;case 27:t===null&&s&4&&pm(n);case 26:case 5:ir(e,n),t===null&&s&4&&mm(n),s&512&&is(n,n.return);break;case 12:ir(e,n);break;case 31:ir(e,n),s&4&&wm(e,n);break;case 13:ir(e,n),s&4&&_m(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Tv.bind(null,n),Fv(e,n))));break;case 22:if(s=n.memoizedState!==null||rr,!s){t=t!==null&&t.memoizedState!==null||Et,u=rr;var d=Et;rr=s,(Et=t)&&!d?sr(e,n,(n.subtreeFlags&8772)!==0):ir(e,n),rr=u,Et=d}break;case 30:break;default:ir(e,n)}}function bm(e){var t=e.alternate;t!==null&&(e.alternate=null,bm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ct(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var nt=null,Gt=!1;function nr(e,t,n){for(n=n.child;n!==null;)xm(e,t,n),n=n.sibling}function xm(e,t,n){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(Fr,n)}catch{}switch(n.tag){case 26:Et||La(n,t),nr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Et||La(n,t);var s=nt,u=Gt;zr(n.type)&&(nt=n.stateNode,Gt=!1),nr(e,t,n),ms(n.stateNode),nt=s,Gt=u;break;case 5:Et||La(n,t);case 6:if(s=nt,u=Gt,nt=null,nr(e,t,n),nt=s,Gt=u,nt!==null)if(Gt)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(n.stateNode)}catch(d){Fe(n,t,d)}else try{nt.removeChild(n.stateNode)}catch(d){Fe(n,t,d)}break;case 18:nt!==null&&(Gt?(e=nt,hg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ui(e)):hg(nt,n.stateNode));break;case 4:s=nt,u=Gt,nt=n.stateNode.containerInfo,Gt=!0,nr(e,t,n),nt=s,Gt=u;break;case 0:case 11:case 14:case 15:Tr(2,n,t),Et||Tr(4,n,t),nr(e,t,n);break;case 1:Et||(La(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&fm(n,t,s)),nr(e,t,n);break;case 21:nr(e,t,n);break;case 22:Et=(s=Et)||n.memoizedState!==null,nr(e,t,n),Et=s;break;default:nr(e,t,n)}}function wm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ui(e)}catch(n){Fe(t,t.return,n)}}}function _m(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ui(e)}catch(n){Fe(t,t.return,n)}}function xv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ym),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ym),t;default:throw Error(l(435,e.tag))}}function Ll(e,t){var n=xv(e);t.forEach(function(s){if(!n.has(s)){n.add(s);var u=Rv.bind(null,e,s);s.then(u,u)}})}function Yt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var u=n[s],d=e,y=t,w=y;e:for(;w!==null;){switch(w.tag){case 27:if(zr(w.type)){nt=w.stateNode,Gt=!1;break e}break;case 5:nt=w.stateNode,Gt=!1;break e;case 3:case 4:nt=w.stateNode.containerInfo,Gt=!0;break e}w=w.return}if(nt===null)throw Error(l(160));xm(d,y,u),nt=null,Gt=!1,d=u.alternate,d!==null&&(d.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Sm(t,e),t=t.sibling}var Oa=null;function Sm(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Yt(t,e),Kt(e),s&4&&(Tr(3,e,e.return),ns(3,e),Tr(5,e,e.return));break;case 1:Yt(t,e),Kt(e),s&512&&(Et||n===null||La(n,n.return)),s&64&&rr&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var u=Oa;if(Yt(t,e),Kt(e),s&512&&(Et||n===null||La(n,n.return)),s&4){var d=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(s){case"title":d=u.getElementsByTagName("title")[0],(!d||d[lt]||d[ie]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=u.createElement(s),u.head.insertBefore(d,u.querySelector("head > title"))),Ut(d,s,n),d[ie]=e,rt(d),s=d;break e;case"link":var y=Sg("link","href",u).get(s+(n.href||""));if(y){for(var w=0;w<y.length;w++)if(d=y[w],d.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&d.getAttribute("rel")===(n.rel==null?null:n.rel)&&d.getAttribute("title")===(n.title==null?null:n.title)&&d.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){y.splice(w,1);break t}}d=u.createElement(s),Ut(d,s,n),u.head.appendChild(d);break;case"meta":if(y=Sg("meta","content",u).get(s+(n.content||""))){for(w=0;w<y.length;w++)if(d=y[w],d.getAttribute("content")===(n.content==null?null:""+n.content)&&d.getAttribute("name")===(n.name==null?null:n.name)&&d.getAttribute("property")===(n.property==null?null:n.property)&&d.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&d.getAttribute("charset")===(n.charSet==null?null:n.charSet)){y.splice(w,1);break t}}d=u.createElement(s),Ut(d,s,n),u.head.appendChild(d);break;default:throw Error(l(468,s))}d[ie]=e,rt(d),s=d}e.stateNode=s}else Eg(u,e.type,e.stateNode);else e.stateNode=_g(u,s,e.memoizedProps);else d!==s?(d===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):d.count--,s===null?Eg(u,e.type,e.stateNode):_g(u,s,e.memoizedProps)):s===null&&e.stateNode!==null&&cc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Yt(t,e),Kt(e),s&512&&(Et||n===null||La(n,n.return)),n!==null&&s&4&&cc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Yt(t,e),Kt(e),s&512&&(Et||n===null||La(n,n.return)),e.flags&32){u=e.stateNode;try{kn(u,"")}catch(oe){Fe(e,e.return,oe)}}s&4&&e.stateNode!=null&&(u=e.memoizedProps,cc(e,u,n!==null?n.memoizedProps:u)),s&1024&&(fc=!0);break;case 6:if(Yt(t,e),Kt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(oe){Fe(e,e.return,oe)}}break;case 3:if(eo=null,u=Oa,Oa=Zl(t.containerInfo),Yt(t,e),Oa=u,Kt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ui(t.containerInfo)}catch(oe){Fe(e,e.return,oe)}fc&&(fc=!1,Em(e));break;case 4:s=Oa,Oa=Zl(e.stateNode.containerInfo),Yt(t,e),Kt(e),Oa=s;break;case 12:Yt(t,e),Kt(e);break;case 31:Yt(t,e),Kt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ll(e,s)));break;case 13:Yt(t,e),Kt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ql=pt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ll(e,s)));break;case 22:u=e.memoizedState!==null;var N=n!==null&&n.memoizedState!==null,q=rr,K=Et;if(rr=q||u,Et=K||N,Yt(t,e),Et=K,rr=q,Kt(e),s&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||N||rr||Et||yn(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){N=n=t;try{if(d=N.stateNode,u)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{w=N.stateNode;var F=N.memoizedProps.style,H=F!=null&&F.hasOwnProperty("display")?F.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(oe){Fe(N,N.return,oe)}}}else if(t.tag===6){if(n===null){N=t;try{N.stateNode.nodeValue=u?"":N.memoizedProps}catch(oe){Fe(N,N.return,oe)}}}else if(t.tag===18){if(n===null){N=t;try{var V=N.stateNode;u?fg(V,!0):fg(N.stateNode,!1)}catch(oe){Fe(N,N.return,oe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,Ll(e,n))));break;case 19:Yt(t,e),Kt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ll(e,s)));break;case 30:break;case 21:break;default:Yt(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(gm(s)){n=s;break}s=s.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var u=n.stateNode,d=dc(e);Bl(e,d,u);break;case 5:var y=n.stateNode;n.flags&32&&(kn(y,""),n.flags&=-33);var w=dc(e);Bl(e,w,y);break;case 3:case 4:var N=n.stateNode.containerInfo,q=dc(e);hc(e,q,N);break;default:throw Error(l(161))}}catch(K){Fe(e,e.return,K)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Em(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Em(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ir(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)vm(e,t.alternate,t),t=t.sibling}function yn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Tr(4,t,t.return),yn(t);break;case 1:La(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&fm(t,t.return,n),yn(t);break;case 27:ms(t.stateNode);case 26:case 5:La(t,t.return),yn(t);break;case 22:t.memoizedState===null&&yn(t);break;case 30:yn(t);break;default:yn(t)}e=e.sibling}}function sr(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,u=e,d=t,y=d.flags;switch(d.tag){case 0:case 11:case 15:sr(u,d,n),ns(4,d);break;case 1:if(sr(u,d,n),s=d,u=s.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(q){Fe(s,s.return,q)}if(s=d,u=s.updateQueue,u!==null){var w=s.stateNode;try{var N=u.shared.hiddenCallbacks;if(N!==null)for(u.shared.hiddenCallbacks=null,u=0;u<N.length;u++)ef(N[u],w)}catch(q){Fe(s,s.return,q)}}n&&y&64&&hm(d),is(d,d.return);break;case 27:pm(d);case 26:case 5:sr(u,d,n),n&&s===null&&y&4&&mm(d),is(d,d.return);break;case 12:sr(u,d,n);break;case 31:sr(u,d,n),n&&y&4&&wm(u,d);break;case 13:sr(u,d,n),n&&y&4&&_m(u,d);break;case 22:d.memoizedState===null&&sr(u,d,n),is(d,d.return);break;case 30:break;default:sr(u,d,n)}t=t.sibling}}function mc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Yi(n))}function gc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yi(e))}function Ca(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jm(e,t,n,s),t=t.sibling}function jm(e,t,n,s){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Ca(e,t,n,s),u&2048&&ns(9,t);break;case 1:Ca(e,t,n,s);break;case 3:Ca(e,t,n,s),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yi(e)));break;case 12:if(u&2048){Ca(e,t,n,s),e=t.stateNode;try{var d=t.memoizedProps,y=d.id,w=d.onPostCommit;typeof w=="function"&&w(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Fe(t,t.return,N)}}else Ca(e,t,n,s);break;case 31:Ca(e,t,n,s);break;case 13:Ca(e,t,n,s);break;case 23:break;case 22:d=t.stateNode,y=t.alternate,t.memoizedState!==null?d._visibility&2?Ca(e,t,n,s):ss(e,t):d._visibility&2?Ca(e,t,n,s):(d._visibility|=2,Zn(e,t,n,s,(t.subtreeFlags&10256)!==0||!1)),u&2048&&mc(y,t);break;case 24:Ca(e,t,n,s),u&2048&&gc(t.alternate,t);break;default:Ca(e,t,n,s)}}function Zn(e,t,n,s,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,y=t,w=n,N=s,q=y.flags;switch(y.tag){case 0:case 11:case 15:Zn(d,y,w,N,u),ns(8,y);break;case 23:break;case 22:var K=y.stateNode;y.memoizedState!==null?K._visibility&2?Zn(d,y,w,N,u):ss(d,y):(K._visibility|=2,Zn(d,y,w,N,u)),u&&q&2048&&mc(y.alternate,y);break;case 24:Zn(d,y,w,N,u),u&&q&2048&&gc(y.alternate,y);break;default:Zn(d,y,w,N,u)}t=t.sibling}}function ss(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,u=s.flags;switch(s.tag){case 22:ss(n,s),u&2048&&mc(s.alternate,s);break;case 24:ss(n,s),u&2048&&gc(s.alternate,s);break;default:ss(n,s)}t=t.sibling}}var ls=8192;function Wn(e,t,n){if(e.subtreeFlags&ls)for(e=e.child;e!==null;)Am(e,t,n),e=e.sibling}function Am(e,t,n){switch(e.tag){case 26:Wn(e,t,n),e.flags&ls&&e.memoizedState!==null&&sb(n,Oa,e.memoizedState,e.memoizedProps);break;case 5:Wn(e,t,n);break;case 3:case 4:var s=Oa;Oa=Zl(e.stateNode.containerInfo),Wn(e,t,n),Oa=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=ls,ls=16777216,Wn(e,t,n),ls=s):Wn(e,t,n));break;default:Wn(e,t,n)}}function Nm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function os(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];Rt=s,Rm(s,e)}Nm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Tm(e),e=e.sibling}function Tm(e){switch(e.tag){case 0:case 11:case 15:os(e),e.flags&2048&&Tr(9,e,e.return);break;case 3:os(e);break;case 12:os(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,$l(e)):os(e);break;default:os(e)}}function $l(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];Rt=s,Rm(s,e)}Nm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Tr(8,t,t.return),$l(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,$l(t));break;default:$l(t)}e=e.sibling}}function Rm(e,t){for(;Rt!==null;){var n=Rt;switch(n.tag){case 0:case 11:case 15:Tr(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Yi(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,Rt=s;else e:for(n=e;Rt!==null;){s=Rt;var u=s.sibling,d=s.return;if(bm(s),s===n){Rt=null;break e}if(u!==null){u.return=d,Rt=u;break e}Rt=d}}}var wv={getCacheForType:function(e){var t=kt(wt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return kt(wt).controller.signal}},_v=typeof WeakMap=="function"?WeakMap:Map,Ke=0,Ze=null,Ce=null,De=0,Ie=0,ta=null,Rr=!1,ei=!1,pc=!1,lr=0,ft=0,Or=0,vn=0,yc=0,aa=0,ti=0,us=null,It=null,vc=!1,ql=0,Om=0,Hl=1/0,Pl=null,Cr=null,At=0,kr=null,ai=null,or=0,bc=0,xc=null,Cm=null,cs=0,wc=null;function ra(){return(Ke&2)!==0&&De!==0?De&-De:B.T!==null?Nc():W()}function km(){if(aa===0)if((De&536870912)===0||qe){var e=Jr;Jr<<=1,(Jr&3932160)===0&&(Jr=262144),aa=e}else aa=536870912;return e=Wt.current,e!==null&&(e.flags|=32),aa}function Ft(e,t,n){(e===Ze&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)&&(ri(e,0),Dr(e,De,aa,!1)),yr(e,n),((Ke&2)===0||e!==Ze)&&(e===Ze&&((Ke&2)===0&&(vn|=n),ft===4&&Dr(e,De,aa,!1)),$a(e))}function Dm(e,t,n){if((Ke&6)!==0)throw Error(l(327));var s=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Qr(e,t),u=s?jv(e,t):Sc(e,t,!0),d=s;do{if(u===0){ei&&!s&&Dr(e,t,0,!1);break}else{if(n=e.current.alternate,d&&!Sv(n)){u=Sc(e,t,!1),d=!1;continue}if(u===2){if(d=t,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var w=e;u=us;var N=w.current.memoizedState.isDehydrated;if(N&&(ri(w,y).flags|=256),y=Sc(w,y,!1),y!==2){if(pc&&!N){w.errorRecoveryDisabledLanes|=d,vn|=d,u=4;break e}d=It,It=u,d!==null&&(It===null?It=d:It.push.apply(It,d))}u=y}if(d=!1,u!==2)continue}}if(u===1){ri(e,0),Dr(e,t,0,!0);break}e:{switch(s=e,d=u,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Dr(s,t,aa,!Rr);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(u=ql+300-pt(),10<u)){if(Dr(s,t,aa,!Rr),Xr(s,0,!0)!==0)break e;or=t,s.timeoutHandle=cg(Um.bind(null,s,n,It,Pl,vc,t,aa,vn,ti,Rr,d,"Throttled",-0,0),u);break e}Um(s,n,It,Pl,vc,t,aa,vn,ti,Rr,d,null,-0,0)}}break}while(!0);$a(e)}function Um(e,t,n,s,u,d,y,w,N,q,K,F,H,V){if(e.timeoutHandle=-1,F=t.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ia},Am(t,d,F);var oe=(d&62914560)===d?ql-pt():(d&4194048)===d?Om-pt():0;if(oe=lb(F,oe),oe!==null){or=d,e.cancelPendingCommit=oe(Pm.bind(null,e,t,d,n,s,u,y,w,N,K,F,null,H,V)),Dr(e,d,y,!q);return}}Pm(e,t,d,n,s,u,y,w,N)}function Sv(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var u=n[s],d=u.getSnapshot;u=u.value;try{if(!Qt(d(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dr(e,t,n,s){t&=~yc,t&=~vn,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var u=t;0<u;){var d=31-Bt(u),y=1<<d;s[d]=-1,u&=~y}n!==0&&Ws(e,n,t)}function Vl(){return(Ke&6)===0?(ds(0),!1):!0}function _c(){if(Ce!==null){if(Ie===0)var e=Ce.return;else e=Ce,Qa=un=null,Lu(e),In=null,Ii=0,e=Ce;for(;e!==null;)dm(e.alternate,e),e=e.return;Ce=null}}function ri(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Vv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),or=0,_c(),Ze=e,Ce=n=Ja(e.current,null),De=t,Ie=0,ta=null,Rr=!1,ei=Qr(e,t),pc=!1,ti=aa=yc=vn=Or=ft=0,It=us=null,vc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var u=31-Bt(s),d=1<<u;t|=e[u],s&=~d}return lr=t,cl(),n}function zm(e,t){je=null,B.H=ts,t===Kn||t===vl?(t=Xh(),Ie=3):t===Au?(t=Xh(),Ie=4):Ie=t===ec?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ta=t,Ce===null&&(ft=1,kl(e,ha(t,e.current)))}function Mm(){var e=Wt.current;return e===null?!0:(De&4194048)===De?pa===null:(De&62914560)===De||(De&536870912)!==0?e===pa:!1}function Bm(){var e=B.H;return B.H=ts,e===null?ts:e}function Lm(){var e=B.A;return B.A=wv,e}function Gl(){ft=4,Rr||(De&4194048)!==De&&Wt.current!==null||(ei=!0),(Or&134217727)===0&&(vn&134217727)===0||Ze===null||Dr(Ze,De,aa,!1)}function Sc(e,t,n){var s=Ke;Ke|=2;var u=Bm(),d=Lm();(Ze!==e||De!==t)&&(Pl=null,ri(e,t)),t=!1;var y=ft;e:do try{if(Ie!==0&&Ce!==null){var w=Ce,N=ta;switch(Ie){case 8:_c(),y=6;break e;case 3:case 2:case 9:case 6:Wt.current===null&&(t=!0);var q=Ie;if(Ie=0,ta=null,ni(e,w,N,q),n&&ei){y=0;break e}break;default:q=Ie,Ie=0,ta=null,ni(e,w,N,q)}}Ev(),y=ft;break}catch(K){zm(e,K)}while(!0);return t&&e.shellSuspendCounter++,Qa=un=null,Ke=s,B.H=u,B.A=d,Ce===null&&(Ze=null,De=0,cl()),y}function Ev(){for(;Ce!==null;)$m(Ce)}function jv(e,t){var n=Ke;Ke|=2;var s=Bm(),u=Lm();Ze!==e||De!==t?(Pl=null,Hl=pt()+500,ri(e,t)):ei=Qr(e,t);e:do try{if(Ie!==0&&Ce!==null){t=Ce;var d=ta;t:switch(Ie){case 1:Ie=0,ta=null,ni(e,t,d,1);break;case 2:case 9:if(Fh(d)){Ie=0,ta=null,qm(t);break}t=function(){Ie!==2&&Ie!==9||Ze!==e||(Ie=7),$a(e)},d.then(t,t);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:Fh(d)?(Ie=0,ta=null,qm(t)):(Ie=0,ta=null,ni(e,t,d,7));break;case 5:var y=null;switch(Ce.tag){case 26:y=Ce.memoizedState;case 5:case 27:var w=Ce;if(y?jg(y):w.stateNode.complete){Ie=0,ta=null;var N=w.sibling;if(N!==null)Ce=N;else{var q=w.return;q!==null?(Ce=q,Yl(q)):Ce=null}break t}}Ie=0,ta=null,ni(e,t,d,5);break;case 6:Ie=0,ta=null,ni(e,t,d,6);break;case 8:_c(),ft=6;break e;default:throw Error(l(462))}}Av();break}catch(K){zm(e,K)}while(!0);return Qa=un=null,B.H=s,B.A=u,Ke=n,Ce!==null?0:(Ze=null,De=0,cl(),ft)}function Av(){for(;Ce!==null&&!qo();)$m(Ce)}function $m(e){var t=um(e.alternate,e,lr);e.memoizedProps=e.pendingProps,t===null?Yl(e):Ce=t}function qm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=rm(n,t,t.pendingProps,t.type,void 0,De);break;case 11:t=rm(n,t,t.pendingProps,t.type.render,t.ref,De);break;case 5:Lu(t);default:dm(n,t),t=Ce=Bh(t,lr),t=um(n,t,lr)}e.memoizedProps=e.pendingProps,t===null?Yl(e):Ce=t}function ni(e,t,n,s){Qa=un=null,Lu(t),In=null,Ii=0;var u=t.return;try{if(mv(e,u,t,n,De)){ft=1,kl(e,ha(n,e.current)),Ce=null;return}}catch(d){if(u!==null)throw Ce=u,d;ft=1,kl(e,ha(n,e.current)),Ce=null;return}t.flags&32768?(qe||s===1?e=!0:ei||(De&536870912)!==0?e=!1:(Rr=e=!0,(s===2||s===9||s===3||s===6)&&(s=Wt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Hm(t,e)):Yl(t)}function Yl(e){var t=e;do{if((t.flags&32768)!==0){Hm(t,Rr);return}e=t.return;var n=yv(t.alternate,t,lr);if(n!==null){Ce=n;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);ft===0&&(ft=5)}function Hm(e,t){do{var n=vv(e.alternate,e);if(n!==null){n.flags&=32767,Ce=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ce=e;return}Ce=e=n}while(e!==null);ft=6,Ce=null}function Pm(e,t,n,s,u,d,y,w,N){e.cancelPendingCommit=null;do Kl();while(At!==0);if((Ke&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=du,Go(e,n,d,y,w,N),e===Ze&&(Ce=Ze=null,De=0),ai=t,kr=e,or=n,bc=d,xc=u,Cm=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ov(Ht,function(){return Im(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=B.T,B.T=null,u=X.p,X.p=2,y=Ke,Ke|=4;try{bv(e,t,n)}finally{Ke=y,X.p=u,B.T=s}}At=1,Vm(),Gm(),Ym()}}function Vm(){if(At===1){At=0;var e=kr,t=ai,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=B.T,B.T=null;var s=X.p;X.p=2;var u=Ke;Ke|=4;try{Sm(t,e);var d=zc,y=Th(e.containerInfo),w=d.focusedElem,N=d.selectionRange;if(y!==w&&w&&w.ownerDocument&&Nh(w.ownerDocument.documentElement,w)){if(N!==null&&su(w)){var q=N.start,K=N.end;if(K===void 0&&(K=q),"selectionStart"in w)w.selectionStart=q,w.selectionEnd=Math.min(K,w.value.length);else{var F=w.ownerDocument||document,H=F&&F.defaultView||window;if(H.getSelection){var V=H.getSelection(),oe=w.textContent.length,be=Math.min(N.start,oe),Qe=N.end===void 0?be:Math.min(N.end,oe);!V.extend&&be>Qe&&(y=Qe,Qe=be,be=y);var z=Ah(w,be),D=Ah(w,Qe);if(z&&D&&(V.rangeCount!==1||V.anchorNode!==z.node||V.anchorOffset!==z.offset||V.focusNode!==D.node||V.focusOffset!==D.offset)){var $=F.createRange();$.setStart(z.node,z.offset),V.removeAllRanges(),be>Qe?(V.addRange($),V.extend(D.node,D.offset)):($.setEnd(D.node,D.offset),V.addRange($))}}}}for(F=[],V=w;V=V.parentNode;)V.nodeType===1&&F.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<F.length;w++){var I=F[w];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}no=!!Uc,zc=Uc=null}finally{Ke=u,X.p=s,B.T=n}}e.current=t,At=2}}function Gm(){if(At===2){At=0;var e=kr,t=ai,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=B.T,B.T=null;var s=X.p;X.p=2;var u=Ke;Ke|=4;try{vm(e,t.alternate,t)}finally{Ke=u,X.p=s,B.T=n}}At=3}}function Ym(){if(At===4||At===3){At=0,Ho();var e=kr,t=ai,n=or,s=Cm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?At=5:(At=0,ai=kr=null,Km(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Cr=null),Q(n),t=t.stateNode,st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(Fr,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=B.T,u=X.p,X.p=2,B.T=null;try{for(var d=e.onRecoverableError,y=0;y<s.length;y++){var w=s[y];d(w.value,{componentStack:w.stack})}}finally{B.T=t,X.p=u}}(or&3)!==0&&Kl(),$a(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===wc?cs++:(cs=0,wc=e):cs=0,ds(0)}}function Km(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Yi(t)))}function Kl(){return Vm(),Gm(),Ym(),Im()}function Im(){if(At!==5)return!1;var e=kr,t=bc;bc=0;var n=Q(or),s=B.T,u=X.p;try{X.p=32>n?32:n,B.T=null,n=xc,xc=null;var d=kr,y=or;if(At=0,ai=kr=null,or=0,(Ke&6)!==0)throw Error(l(331));var w=Ke;if(Ke|=4,Tm(d.current),jm(d,d.current,y,n),Ke=w,ds(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(Fr,d)}catch{}return!0}finally{X.p=u,B.T=s,Km(e,t)}}function Fm(e,t,n){t=ha(n,t),t=Wu(e.stateNode,t,2),e=jr(e,t,2),e!==null&&(yr(e,2),$a(e))}function Fe(e,t,n){if(e.tag===3)Fm(e,e,n);else for(;t!==null;){if(t.tag===3){Fm(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Cr===null||!Cr.has(s))){e=ha(n,e),n=Jf(2),s=jr(t,n,2),s!==null&&(Xf(n,s,t,e),yr(s,2),$a(s));break}}t=t.return}}function Ec(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new _v;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(n)||(pc=!0,u.add(n),e=Nv.bind(null,e,t,n),t.then(e,e))}function Nv(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ze===e&&(De&n)===n&&(ft===4||ft===3&&(De&62914560)===De&&300>pt()-ql?(Ke&2)===0&&ri(e,0):yc|=n,ti===De&&(ti=0)),$a(e)}function Jm(e,t){t===0&&(t=Zr()),e=sn(e,t),e!==null&&(yr(e,t),$a(e))}function Tv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jm(e,n)}function Rv(e,t){var n=0;switch(e.tag){case 31:case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),Jm(e,n)}function Ov(e,t){return Ti(e,t)}var Il=null,ii=null,jc=!1,Fl=!1,Ac=!1,Ur=0;function $a(e){e!==ii&&e.next===null&&(ii===null?Il=ii=e:ii=ii.next=e),Fl=!0,jc||(jc=!0,kv())}function ds(e,t){if(!Ac&&Fl){Ac=!0;do for(var n=!1,s=Il;s!==null;){if(e!==0){var u=s.pendingLanes;if(u===0)var d=0;else{var y=s.suspendedLanes,w=s.pingedLanes;d=(1<<31-Bt(42|e)+1)-1,d&=u&~(y&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(n=!0,Wm(s,d))}else d=De,d=Xr(s,s===Ze?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(d&3)===0||Qr(s,d)||(n=!0,Wm(s,d));s=s.next}while(n);Ac=!1}}function Cv(){Xm()}function Xm(){Fl=jc=!1;var e=0;Ur!==0&&Pv()&&(e=Ur);for(var t=pt(),n=null,s=Il;s!==null;){var u=s.next,d=Qm(s,t);d===0?(s.next=null,n===null?Il=u:n.next=u,u===null&&(ii=n)):(n=s,(e!==0||(d&3)!==0)&&(Fl=!0)),s=u}At!==0&&At!==5||ds(e),Ur!==0&&(Ur=0)}function Qm(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-Bt(d),w=1<<y,N=u[y];N===-1?((w&n)===0||(w&s)!==0)&&(u[y]=Zs(w,t)):N<=t&&(e.expiredLanes|=w),d&=~w}if(t=Ze,n=De,n=Xr(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Ri(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Qr(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&Ri(s),Q(n)){case 2:case 8:n=On;break;case 32:n=Ht;break;case 268435456:n=Ci;break;default:n=Ht}return s=Zm.bind(null,e),n=Ti(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&Ri(s),e.callbackPriority=2,e.callbackNode=null,2}function Zm(e,t){if(At!==0&&At!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Kl()&&e.callbackNode!==n)return null;var s=De;return s=Xr(e,e===Ze?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Dm(e,s,t),Qm(e,pt()),e.callbackNode!=null&&e.callbackNode===n?Zm.bind(null,e):null)}function Wm(e,t){if(Kl())return null;Dm(e,t,!0)}function kv(){Gv(function(){(Ke&6)!==0?Ti(Oi,Cv):Xm()})}function Nc(){if(Ur===0){var e=Gn;e===0&&(e=Ga,Ga<<=1,(Ga&261888)===0&&(Ga=256)),Ur=e}return Ur}function eg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:al(""+e)}function tg(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Dv(e,t,n,s,u){if(t==="submit"&&n&&n.stateNode===u){var d=eg((u[le]||null).action),y=s.submitter;y&&(t=(t=y[le]||null)?eg(t.formAction):y.getAttribute("formAction"),t!==null&&(d=t,y=null));var w=new sl("action","action",null,s,u);e.push({event:w,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ur!==0){var N=y?tg(u,y):new FormData(u);Iu(n,{pending:!0,data:N,method:u.method,action:d},null,N)}}else typeof d=="function"&&(w.preventDefault(),N=y?tg(u,y):new FormData(u),Iu(n,{pending:!0,data:N,method:u.method,action:d},d,N))},currentTarget:u}]})}}for(var Tc=0;Tc<cu.length;Tc++){var Rc=cu[Tc],Uv=Rc.toLowerCase(),zv=Rc[0].toUpperCase()+Rc.slice(1);Ra(Uv,"on"+zv)}Ra(Ch,"onAnimationEnd"),Ra(kh,"onAnimationIteration"),Ra(Dh,"onAnimationStart"),Ra("dblclick","onDoubleClick"),Ra("focusin","onFocus"),Ra("focusout","onBlur"),Ra(Q0,"onTransitionRun"),Ra(Z0,"onTransitionStart"),Ra(W0,"onTransitionCancel"),Ra(Uh,"onTransitionEnd"),ua("onMouseEnter",["mouseout","mouseover"]),ua("onMouseLeave",["mouseout","mouseover"]),ua("onPointerEnter",["pointerout","pointerover"]),ua("onPointerLeave",["pointerout","pointerover"]),Na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Na("onBeforeInput",["compositionend","keypress","textInput","paste"]),Na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hs));function ag(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],u=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var y=s.length-1;0<=y;y--){var w=s[y],N=w.instance,q=w.currentTarget;if(w=w.listener,N!==d&&u.isPropagationStopped())break e;d=w,u.currentTarget=q;try{d(u)}catch(K){ul(K)}u.currentTarget=null,d=N}else for(y=0;y<s.length;y++){if(w=s[y],N=w.instance,q=w.currentTarget,w=w.listener,N!==d&&u.isPropagationStopped())break e;d=w,u.currentTarget=q;try{d(u)}catch(K){ul(K)}u.currentTarget=null,d=N}}}}function ke(e,t){var n=t[ve];n===void 0&&(n=t[ve]=new Set);var s=e+"__bubble";n.has(s)||(rg(t,e,2,!1),n.add(s))}function Oc(e,t,n){var s=0;t&&(s|=4),rg(n,e,s,t)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function Cc(e){if(!e[Jl]){e[Jl]=!0,Aa.forEach(function(n){n!=="selectionchange"&&(Mv.has(n)||Oc(n,!1,e),Oc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jl]||(t[Jl]=!0,Oc("selectionchange",!1,t))}}function rg(e,t,n,s){switch(kg(t)){case 2:var u=cb;break;case 8:u=db;break;default:u=Kc}n=u.bind(null,t,n,e),u=void 0,!Qo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function kc(e,t,n,s,u){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var y=s.tag;if(y===3||y===4){var w=s.stateNode.containerInfo;if(w===u)break;if(y===4)for(y=s.return;y!==null;){var N=y.tag;if((N===3||N===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;w!==null;){if(y=dt(w),y===null)return;if(N=y.tag,N===5||N===6||N===26||N===27){s=d=y;continue e}w=w.parentNode}}s=s.return}lh(function(){var q=d,K=Jo(n),F=[];e:{var H=zh.get(e);if(H!==void 0){var V=sl,oe=e;switch(e){case"keypress":if(nl(n)===0)break e;case"keydown":case"keyup":V=R0;break;case"focusin":oe="focus",V=tu;break;case"focusout":oe="blur",V=tu;break;case"beforeblur":case"afterblur":V=tu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=ch;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=y0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=k0;break;case Ch:case kh:case Dh:V=x0;break;case Uh:V=U0;break;case"scroll":case"scrollend":V=g0;break;case"wheel":V=M0;break;case"copy":case"cut":case"paste":V=_0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=hh;break;case"toggle":case"beforetoggle":V=L0}var be=(t&4)!==0,Qe=!be&&(e==="scroll"||e==="scrollend"),z=be?H!==null?H+"Capture":null:H;be=[];for(var D=q,$;D!==null;){var I=D;if($=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||$===null||z===null||(I=Ui(D,z),I!=null&&be.push(fs(D,I,$))),Qe)break;D=D.return}0<be.length&&(H=new V(H,oe,null,n,K),F.push({event:H,listeners:be}))}}if((t&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",H&&n!==Fo&&(oe=n.relatedTarget||n.fromElement)&&(dt(oe)||oe[ce]))break e;if((V||H)&&(H=K.window===K?K:(H=K.ownerDocument)?H.defaultView||H.parentWindow:window,V?(oe=n.relatedTarget||n.toElement,V=q,oe=oe?dt(oe):null,oe!==null&&(Qe=c(oe),be=oe.tag,oe!==Qe||be!==5&&be!==27&&be!==6)&&(oe=null)):(V=null,oe=q),V!==oe)){if(be=ch,I="onMouseLeave",z="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(be=hh,I="onPointerLeave",z="onPointerEnter",D="pointer"),Qe=V==null?H:Tt(V),$=oe==null?H:Tt(oe),H=new be(I,D+"leave",V,n,K),H.target=Qe,H.relatedTarget=$,I=null,dt(K)===q&&(be=new be(z,D+"enter",oe,n,K),be.target=$,be.relatedTarget=Qe,I=be),Qe=I,V&&oe)t:{for(be=Bv,z=V,D=oe,$=0,I=z;I;I=be(I))$++;I=0;for(var pe=D;pe;pe=be(pe))I++;for(;0<$-I;)z=be(z),$--;for(;0<I-$;)D=be(D),I--;for(;$--;){if(z===D||D!==null&&z===D.alternate){be=z;break t}z=be(z),D=be(D)}be=null}else be=null;V!==null&&ng(F,H,V,be,!1),oe!==null&&Qe!==null&&ng(F,Qe,oe,be,!0)}}e:{if(H=q?Tt(q):window,V=H.nodeName&&H.nodeName.toLowerCase(),V==="select"||V==="input"&&H.type==="file")var Ve=xh;else if(vh(H))if(wh)Ve=F0;else{Ve=K0;var ue=Y0}else V=H.nodeName,!V||V.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Io(q.elementType)&&(Ve=xh):Ve=I0;if(Ve&&(Ve=Ve(e,q))){bh(F,Ve,n,K);break e}ue&&ue(e,H,q),e==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&Ko(H,"number",H.value)}switch(ue=q?Tt(q):window,e){case"focusin":(vh(ue)||ue.contentEditable==="true")&&(Mn=ue,lu=q,Pi=null);break;case"focusout":Pi=lu=Mn=null;break;case"mousedown":ou=!0;break;case"contextmenu":case"mouseup":case"dragend":ou=!1,Rh(F,n,K);break;case"selectionchange":if(X0)break;case"keydown":case"keyup":Rh(F,n,K)}var Ae;if(ru)e:{switch(e){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else zn?ph(e,n)&&(Ue="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ue="onCompositionStart");Ue&&(fh&&n.locale!=="ko"&&(zn||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&zn&&(Ae=oh()):(vr=K,Zo="value"in vr?vr.value:vr.textContent,zn=!0)),ue=Xl(q,Ue),0<ue.length&&(Ue=new dh(Ue,e,null,n,K),F.push({event:Ue,listeners:ue}),Ae?Ue.data=Ae:(Ae=yh(n),Ae!==null&&(Ue.data=Ae)))),(Ae=q0?H0(e,n):P0(e,n))&&(Ue=Xl(q,"onBeforeInput"),0<Ue.length&&(ue=new dh("onBeforeInput","beforeinput",null,n,K),F.push({event:ue,listeners:Ue}),ue.data=Ae)),Dv(F,e,q,n,K)}ag(F,t)})}function fs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xl(e,t){for(var n=t+"Capture",s=[];e!==null;){var u=e,d=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||d===null||(u=Ui(e,n),u!=null&&s.unshift(fs(e,u,d)),u=Ui(e,t),u!=null&&s.push(fs(e,u,d))),e.tag===3)return s;e=e.return}return[]}function Bv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ng(e,t,n,s,u){for(var d=t._reactName,y=[];n!==null&&n!==s;){var w=n,N=w.alternate,q=w.stateNode;if(w=w.tag,N!==null&&N===s)break;w!==5&&w!==26&&w!==27||q===null||(N=q,u?(q=Ui(n,d),q!=null&&y.unshift(fs(n,q,N))):u||(q=Ui(n,d),q!=null&&y.push(fs(n,q,N)))),n=n.return}y.length!==0&&e.push({event:t,listeners:y})}var Lv=/\r\n?/g,$v=/\u0000|\uFFFD/g;function ig(e){return(typeof e=="string"?e:""+e).replace(Lv,`
`).replace($v,"")}function sg(e,t){return t=ig(t),ig(e)===t}function Xe(e,t,n,s,u,d){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||kn(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&kn(e,""+s);break;case"className":Ta(e,"class",s);break;case"tabIndex":Ta(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ta(e,n,s);break;case"style":ih(e,s,d);break;case"data":if(t!=="object"){Ta(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=al(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(n==="formAction"?(t!=="input"&&Xe(e,t,"name",u.name,u,null),Xe(e,t,"formEncType",u.formEncType,u,null),Xe(e,t,"formMethod",u.formMethod,u,null),Xe(e,t,"formTarget",u.formTarget,u,null)):(Xe(e,t,"encType",u.encType,u,null),Xe(e,t,"method",u.method,u,null),Xe(e,t,"target",u.target,u,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=al(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=Ia);break;case"onScroll":s!=null&&ke("scroll",e);break;case"onScrollEnd":s!=null&&ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(n=s.__html,n!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=al(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":ke("beforetoggle",e),ke("toggle",e),yt(e,"popover",s);break;case"xlinkActuate":Ot(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Ot(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Ot(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Ot(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Ot(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Ot(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Ot(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Ot(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Ot(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":yt(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=f0.get(n)||n,yt(e,n,s))}}function Dc(e,t,n,s,u,d){switch(n){case"style":ih(e,s,d);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(n=s.__html,n!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"children":typeof s=="string"?kn(e,s):(typeof s=="number"||typeof s=="bigint")&&kn(e,""+s);break;case"onScroll":s!=null&&ke("scroll",e);break;case"onScrollEnd":s!=null&&ke("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Ia);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xt.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),d=e[le]||null,d=d!=null?d[n]:null,typeof d=="function"&&e.removeEventListener(t,d,u),typeof s=="function")){typeof d!="function"&&d!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,u);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):yt(e,n,s)}}}function Ut(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",e),ke("load",e);var s=!1,u=!1,d;for(d in n)if(n.hasOwnProperty(d)){var y=n[d];if(y!=null)switch(d){case"src":s=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Xe(e,t,d,y,n,null)}}u&&Xe(e,t,"srcSet",n.srcSet,n,null),s&&Xe(e,t,"src",n.src,n,null);return;case"input":ke("invalid",e);var w=d=y=u=null,N=null,q=null;for(s in n)if(n.hasOwnProperty(s)){var K=n[s];if(K!=null)switch(s){case"name":u=K;break;case"type":y=K;break;case"checked":N=K;break;case"defaultChecked":q=K;break;case"value":d=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(l(137,t));break;default:Xe(e,t,s,K,n,null)}}th(e,d,w,N,q,y,u,!1);return;case"select":ke("invalid",e),s=y=d=null;for(u in n)if(n.hasOwnProperty(u)&&(w=n[u],w!=null))switch(u){case"value":d=w;break;case"defaultValue":y=w;break;case"multiple":s=w;default:Xe(e,t,u,w,n,null)}t=d,n=y,e.multiple=!!s,t!=null?Cn(e,!!s,t,!1):n!=null&&Cn(e,!!s,n,!0);return;case"textarea":ke("invalid",e),d=u=s=null;for(y in n)if(n.hasOwnProperty(y)&&(w=n[y],w!=null))switch(y){case"value":s=w;break;case"defaultValue":u=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(l(91));break;default:Xe(e,t,y,w,n,null)}rh(e,s,u,d);return;case"option":for(N in n)n.hasOwnProperty(N)&&(s=n[N],s!=null)&&(N==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Xe(e,t,N,s,n,null));return;case"dialog":ke("beforetoggle",e),ke("toggle",e),ke("cancel",e),ke("close",e);break;case"iframe":case"object":ke("load",e);break;case"video":case"audio":for(s=0;s<hs.length;s++)ke(hs[s],e);break;case"image":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"embed":case"source":case"link":ke("error",e),ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in n)if(n.hasOwnProperty(q)&&(s=n[q],s!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Xe(e,t,q,s,n,null)}return;default:if(Io(t)){for(K in n)n.hasOwnProperty(K)&&(s=n[K],s!==void 0&&Dc(e,t,K,s,n,void 0));return}}for(w in n)n.hasOwnProperty(w)&&(s=n[w],s!=null&&Xe(e,t,w,s,n,null))}function qv(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,d=null,y=null,w=null,N=null,q=null,K=null;for(V in n){var F=n[V];if(n.hasOwnProperty(V)&&F!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":N=F;default:s.hasOwnProperty(V)||Xe(e,t,V,null,s,F)}}for(var H in s){var V=s[H];if(F=n[H],s.hasOwnProperty(H)&&(V!=null||F!=null))switch(H){case"type":d=V;break;case"name":u=V;break;case"checked":q=V;break;case"defaultChecked":K=V;break;case"value":y=V;break;case"defaultValue":w=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(l(137,t));break;default:V!==F&&Xe(e,t,H,V,s,F)}}Yo(e,y,w,N,q,K,d,u);return;case"select":V=y=w=H=null;for(d in n)if(N=n[d],n.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":V=N;default:s.hasOwnProperty(d)||Xe(e,t,d,null,s,N)}for(u in s)if(d=s[u],N=n[u],s.hasOwnProperty(u)&&(d!=null||N!=null))switch(u){case"value":H=d;break;case"defaultValue":w=d;break;case"multiple":y=d;default:d!==N&&Xe(e,t,u,d,s,N)}t=w,n=y,s=V,H!=null?Cn(e,!!n,H,!1):!!s!=!!n&&(t!=null?Cn(e,!!n,t,!0):Cn(e,!!n,n?[]:"",!1));return;case"textarea":V=H=null;for(w in n)if(u=n[w],n.hasOwnProperty(w)&&u!=null&&!s.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Xe(e,t,w,null,s,u)}for(y in s)if(u=s[y],d=n[y],s.hasOwnProperty(y)&&(u!=null||d!=null))switch(y){case"value":H=u;break;case"defaultValue":V=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==d&&Xe(e,t,y,u,s,d)}ah(e,H,V);return;case"option":for(var oe in n)H=n[oe],n.hasOwnProperty(oe)&&H!=null&&!s.hasOwnProperty(oe)&&(oe==="selected"?e.selected=!1:Xe(e,t,oe,null,s,H));for(N in s)H=s[N],V=n[N],s.hasOwnProperty(N)&&H!==V&&(H!=null||V!=null)&&(N==="selected"?e.selected=H&&typeof H!="function"&&typeof H!="symbol":Xe(e,t,N,H,s,V));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in n)H=n[be],n.hasOwnProperty(be)&&H!=null&&!s.hasOwnProperty(be)&&Xe(e,t,be,null,s,H);for(q in s)if(H=s[q],V=n[q],s.hasOwnProperty(q)&&H!==V&&(H!=null||V!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(l(137,t));break;default:Xe(e,t,q,H,s,V)}return;default:if(Io(t)){for(var Qe in n)H=n[Qe],n.hasOwnProperty(Qe)&&H!==void 0&&!s.hasOwnProperty(Qe)&&Dc(e,t,Qe,void 0,s,H);for(K in s)H=s[K],V=n[K],!s.hasOwnProperty(K)||H===V||H===void 0&&V===void 0||Dc(e,t,K,H,s,V);return}}for(var z in n)H=n[z],n.hasOwnProperty(z)&&H!=null&&!s.hasOwnProperty(z)&&Xe(e,t,z,null,s,H);for(F in s)H=s[F],V=n[F],!s.hasOwnProperty(F)||H===V||H==null&&V==null||Xe(e,t,F,H,s,V)}function lg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var u=n[s],d=u.transferSize,y=u.initiatorType,w=u.duration;if(d&&w&&lg(y)){for(y=0,w=u.responseEnd,s+=1;s<n.length;s++){var N=n[s],q=N.startTime;if(q>w)break;var K=N.transferSize,F=N.initiatorType;K&&lg(F)&&(N=N.responseEnd,y+=K*(N<w?1:(w-q)/(N-q)))}if(--s,t+=8*(d+y)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Uc=null,zc=null;function Ql(e){return e.nodeType===9?e:e.ownerDocument}function og(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ug(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Mc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bc=null;function Pv(){var e=window.event;return e&&e.type==="popstate"?e===Bc?!1:(Bc=e,!0):(Bc=null,!1)}var cg=typeof setTimeout=="function"?setTimeout:void 0,Vv=typeof clearTimeout=="function"?clearTimeout:void 0,dg=typeof Promise=="function"?Promise:void 0,Gv=typeof queueMicrotask=="function"?queueMicrotask:typeof dg<"u"?function(e){return dg.resolve(null).then(e).catch(Yv)}:cg;function Yv(e){setTimeout(function(){throw e})}function zr(e){return e==="head"}function hg(e,t){var n=t,s=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(s===0){e.removeChild(u),ui(t);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")ms(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,ms(n);for(var d=n.firstChild;d;){var y=d.nextSibling,w=d.nodeName;d[lt]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||n.removeChild(d),d=y}}else n==="body"&&ms(e.ownerDocument.body);n=u}while(n);ui(t)}function fg(e,t){var n=e;e=0;do{var s=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=s}while(n)}function Lc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Lc(n),ct(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Kv(e,t,n,s){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[lt])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=ya(e.nextSibling),e===null)break}return null}function Iv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ya(e.nextSibling),e===null))return null;return e}function mg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ya(e.nextSibling),e===null))return null;return e}function $c(e){return e.data==="$?"||e.data==="$~"}function qc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Fv(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function ya(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Hc=null;function gg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return ya(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function pg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function yg(e,t,n){switch(t=Ql(n),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function ms(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ct(e)}var va=new Map,vg=new Set;function Zl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ur=X.d;X.d={f:Jv,r:Xv,D:Qv,C:Zv,L:Wv,m:eb,X:ab,S:tb,M:rb};function Jv(){var e=ur.f(),t=Vl();return e||t}function Xv(e){var t=Be(e);t!==null&&t.tag===5&&t.type==="form"?zf(t):ur.r(e)}var si=typeof document>"u"?null:document;function bg(e,t,n){var s=si;if(s&&typeof t=="string"&&t){var u=ca(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),vg.has(u)||(vg.add(u),e={rel:e,crossOrigin:n,href:t},s.querySelector(u)===null&&(t=s.createElement("link"),Ut(t,"link",e),rt(t),s.head.appendChild(t)))}}function Qv(e){ur.D(e),bg("dns-prefetch",e,null)}function Zv(e,t){ur.C(e,t),bg("preconnect",e,t)}function Wv(e,t,n){ur.L(e,t,n);var s=si;if(s&&e&&t){var u='link[rel="preload"][as="'+ca(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+ca(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+ca(n.imageSizes)+'"]')):u+='[href="'+ca(e)+'"]';var d=u;switch(t){case"style":d=li(e);break;case"script":d=oi(e)}va.has(d)||(e=b({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),va.set(d,e),s.querySelector(u)!==null||t==="style"&&s.querySelector(gs(d))||t==="script"&&s.querySelector(ps(d))||(t=s.createElement("link"),Ut(t,"link",e),rt(t),s.head.appendChild(t)))}}function eb(e,t){ur.m(e,t);var n=si;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+ca(s)+'"][href="'+ca(e)+'"]',d=u;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=oi(e)}if(!va.has(d)&&(e=b({rel:"modulepreload",href:e},t),va.set(d,e),n.querySelector(u)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ps(d)))return}s=n.createElement("link"),Ut(s,"link",e),rt(s),n.head.appendChild(s)}}}function tb(e,t,n){ur.S(e,t,n);var s=si;if(s&&e){var u=Pt(s).hoistableStyles,d=li(e);t=t||"default";var y=u.get(d);if(!y){var w={loading:0,preload:null};if(y=s.querySelector(gs(d)))w.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},n),(n=va.get(d))&&Pc(e,n);var N=y=s.createElement("link");rt(N),Ut(N,"link",e),N._p=new Promise(function(q,K){N.onload=q,N.onerror=K}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Wl(y,t,s)}y={type:"stylesheet",instance:y,count:1,state:w},u.set(d,y)}}}function ab(e,t){ur.X(e,t);var n=si;if(n&&e){var s=Pt(n).hoistableScripts,u=oi(e),d=s.get(u);d||(d=n.querySelector(ps(u)),d||(e=b({src:e,async:!0},t),(t=va.get(u))&&Vc(e,t),d=n.createElement("script"),rt(d),Ut(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(u,d))}}function rb(e,t){ur.M(e,t);var n=si;if(n&&e){var s=Pt(n).hoistableScripts,u=oi(e),d=s.get(u);d||(d=n.querySelector(ps(u)),d||(e=b({src:e,async:!0,type:"module"},t),(t=va.get(u))&&Vc(e,t),d=n.createElement("script"),rt(d),Ut(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(u,d))}}function xg(e,t,n,s){var u=(u=Se.current)?Zl(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=li(n.href),n=Pt(u).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=li(n.href);var d=Pt(u).hoistableStyles,y=d.get(e);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=u.querySelector(gs(e)))&&!d._p&&(y.instance=d,y.state.loading=5),va.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},va.set(e,n),d||nb(u,e,n,y.state))),t&&s===null)throw Error(l(528,""));return y}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=oi(n),n=Pt(u).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function li(e){return'href="'+ca(e)+'"'}function gs(e){return'link[rel="stylesheet"]['+e+"]"}function wg(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function nb(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Ut(t,"link",n),rt(t),e.head.appendChild(t))}function oi(e){return'[src="'+ca(e)+'"]'}function ps(e){return"script[async]"+e}function _g(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+ca(n.href)+'"]');if(s)return t.instance=s,rt(s),s;var u=b({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),rt(s),Ut(s,"style",u),Wl(s,n.precedence,e),t.instance=s;case"stylesheet":u=li(n.href);var d=e.querySelector(gs(u));if(d)return t.state.loading|=4,t.instance=d,rt(d),d;s=wg(n),(u=va.get(u))&&Pc(s,u),d=(e.ownerDocument||e).createElement("link"),rt(d);var y=d;return y._p=new Promise(function(w,N){y.onload=w,y.onerror=N}),Ut(d,"link",s),t.state.loading|=4,Wl(d,n.precedence,e),t.instance=d;case"script":return d=oi(n.src),(u=e.querySelector(ps(d)))?(t.instance=u,rt(u),u):(s=n,(u=va.get(d))&&(s=b({},n),Vc(s,u)),e=e.ownerDocument||e,u=e.createElement("script"),rt(u),Ut(u,"link",s),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Wl(s,n.precedence,e));return t.instance}function Wl(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=s.length?s[s.length-1]:null,d=u,y=0;y<s.length;y++){var w=s[y];if(w.dataset.precedence===t)d=w;else if(d!==u)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Pc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Vc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var eo=null;function Sg(e,t,n){if(eo===null){var s=new Map,u=eo=new Map;u.set(n,s)}else u=eo,s=u.get(n),s||(s=new Map,u.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var d=n[u];if(!(d[lt]||d[ie]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(t)||"";y=e+y;var w=s.get(y);w?w.push(d):s.set(y,[d])}}return s}function Eg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function ib(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function jg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function sb(e,t,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=li(s.href),d=t.querySelector(gs(u));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=to.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=d,rt(d);return}d=t.ownerDocument||t,s=wg(s),(u=va.get(u))&&Pc(s,u),d=d.createElement("link"),rt(d);var y=d;y._p=new Promise(function(w,N){y.onload=w,y.onerror=N}),Ut(d,"link",s),n.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=to.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Gc=0;function lb(e,t){return e.stylesheets&&e.count===0&&ro(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var s=setTimeout(function(){if(e.stylesheets&&ro(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Gc===0&&(Gc=62500*Hv());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ro(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Gc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(u)}}:null}function to(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ro(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ao=null;function ro(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ao=new Map,t.forEach(ob,e),ao=null,to.call(e))}function ob(e,t){if(!(t.state.loading&4)){var n=ao.get(e);if(n)var s=n.get(null);else{n=new Map,ao.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<u.length;d++){var y=u[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(n.set(y.dataset.precedence,y),s=y)}s&&n.set(null,s)}u=t.instance,y=u.getAttribute("data-precedence"),d=n.get(y)||s,d===s&&n.set(null,u),n.set(y,u),this.count++,s=to.bind(this),u.addEventListener("load",s),u.addEventListener("error",s),d?d.parentNode.insertBefore(u,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var ys={$$typeof:C,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function ub(e,t,n,s,u,d,y,w,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pr(0),this.hiddenUpdates=pr(null),this.identifierPrefix=s,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Ag(e,t,n,s,u,d,y,w,N,q,K,F){return e=new ub(e,t,n,y,N,q,K,F,w),t=1,d===!0&&(t|=24),d=Zt(3,null,null,t),e.current=d,d.stateNode=e,t=Su(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:s,isDehydrated:n,cache:t},Nu(d),e}function Ng(e){return e?(e=$n,e):$n}function Tg(e,t,n,s,u,d){u=Ng(u),s.context===null?s.context=u:s.pendingContext=u,s=Er(t),s.payload={element:n},d=d===void 0?null:d,d!==null&&(s.callback=d),n=jr(e,s,t),n!==null&&(Ft(n,e,t),Ji(n,e,t))}function Rg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yc(e,t){Rg(e,t),(e=e.alternate)&&Rg(e,t)}function Og(e){if(e.tag===13||e.tag===31){var t=sn(e,67108864);t!==null&&Ft(t,e,67108864),Yc(e,67108864)}}function Cg(e){if(e.tag===13||e.tag===31){var t=ra();t=P(t);var n=sn(e,t);n!==null&&Ft(n,e,t),Yc(e,t)}}var no=!0;function cb(e,t,n,s){var u=B.T;B.T=null;var d=X.p;try{X.p=2,Kc(e,t,n,s)}finally{X.p=d,B.T=u}}function db(e,t,n,s){var u=B.T;B.T=null;var d=X.p;try{X.p=8,Kc(e,t,n,s)}finally{X.p=d,B.T=u}}function Kc(e,t,n,s){if(no){var u=Ic(s);if(u===null)kc(e,t,s,io,n),Dg(e,s);else if(fb(u,e,t,n,s))s.stopPropagation();else if(Dg(e,s),t&4&&-1<hb.indexOf(e)){for(;u!==null;){var d=Be(u);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=Ya(d.pendingLanes);if(y!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;y;){var N=1<<31-Bt(y);w.entanglements[1]|=N,y&=~N}$a(d),(Ke&6)===0&&(Hl=pt()+500,ds(0))}}break;case 31:case 13:w=sn(d,2),w!==null&&Ft(w,d,2),Vl(),Yc(d,2)}if(d=Ic(s),d===null&&kc(e,t,s,io,n),d===u)break;u=d}u!==null&&s.stopPropagation()}else kc(e,t,s,null,n)}}function Ic(e){return e=Jo(e),Fc(e)}var io=null;function Fc(e){if(io=null,e=dt(e),e!==null){var t=c(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return io=e,null}function kg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ir()){case Oi:return 2;case On:return 8;case Ht:case Ea:return 32;case Ci:return 268435456;default:return 32}default:return 32}}var Jc=!1,Mr=null,Br=null,Lr=null,vs=new Map,bs=new Map,$r=[],hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dg(e,t){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":vs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bs.delete(t.pointerId)}}function xs(e,t,n,s,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:d,targetContainers:[u]},t!==null&&(t=Be(t),t!==null&&Og(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function fb(e,t,n,s,u){switch(t){case"focusin":return Mr=xs(Mr,e,t,n,s,u),!0;case"dragenter":return Br=xs(Br,e,t,n,s,u),!0;case"mouseover":return Lr=xs(Lr,e,t,n,s,u),!0;case"pointerover":var d=u.pointerId;return vs.set(d,xs(vs.get(d)||null,e,t,n,s,u)),!0;case"gotpointercapture":return d=u.pointerId,bs.set(d,xs(bs.get(d)||null,e,t,n,s,u)),!0}return!1}function Ug(e){var t=dt(e.target);if(t!==null){var n=c(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,fe(e.priority,function(){Cg(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,fe(e.priority,function(){Cg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function so(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ic(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Fo=s,n.target.dispatchEvent(s),Fo=null}else return t=Be(n),t!==null&&Og(t),e.blockedOn=n,!1;t.shift()}return!0}function zg(e,t,n){so(e)&&n.delete(t)}function mb(){Jc=!1,Mr!==null&&so(Mr)&&(Mr=null),Br!==null&&so(Br)&&(Br=null),Lr!==null&&so(Lr)&&(Lr=null),vs.forEach(zg),bs.forEach(zg)}function lo(e,t){e.blockedOn===t&&(e.blockedOn=null,Jc||(Jc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,mb)))}var oo=null;function Mg(e){oo!==e&&(oo=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){oo===e&&(oo=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],u=e[t+2];if(typeof s!="function"){if(Fc(s||n)===null)continue;break}var d=Be(n);d!==null&&(e.splice(t,3),t-=3,Iu(d,{pending:!0,data:u,method:n.method,action:s},s,u))}}))}function ui(e){function t(N){return lo(N,e)}Mr!==null&&lo(Mr,e),Br!==null&&lo(Br,e),Lr!==null&&lo(Lr,e),vs.forEach(t),bs.forEach(t);for(var n=0;n<$r.length;n++){var s=$r[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<$r.length&&(n=$r[0],n.blockedOn===null);)Ug(n),n.blockedOn===null&&$r.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var u=n[s],d=n[s+1],y=u[le]||null;if(typeof d=="function")y||Mg(n);else if(y){var w=null;if(d&&d.hasAttribute("formAction")){if(u=d,y=d[le]||null)w=y.formAction;else if(Fc(u)!==null)continue}else w=y.action;typeof w=="function"?n[s+1]=w:(n.splice(s,3),s-=3),Mg(n)}}}function Bg(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return u=y})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Xc(e){this._internalRoot=e}uo.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var n=t.current,s=ra();Tg(n,s,e,t,null,null)},uo.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tg(e.current,2,null,e,null,null),Vl(),t[ce]=null}};function uo(e){this._internalRoot=e}uo.prototype.unstable_scheduleHydration=function(e){if(e){var t=W();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$r.length&&t!==0&&t<$r[n].priority;n++);$r.splice(n,0,e),n===0&&Ug(e)}};var Lg=a.version;if(Lg!=="19.2.3")throw Error(l(527,Lg,"19.2.3"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var gb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!co.isDisabled&&co.supportsFiber)try{Fr=co.inject(gb),st=co}catch{}}return _s.createRoot=function(e,t){if(!o(e))throw Error(l(299));var n=!1,s="",u=Yf,d=Kf,y=If;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=Ag(e,1,!1,null,null,n,s,null,u,d,y,Bg),e[ce]=t.current,Cc(e),new Xc(t)},_s.hydrateRoot=function(e,t,n){if(!o(e))throw Error(l(299));var s=!1,u="",d=Yf,y=Kf,w=If,N=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError),n.formState!==void 0&&(N=n.formState)),t=Ag(e,1,!0,t,n??null,s,u,N,d,y,w,Bg),t.context=Ng(null),n=t.current,s=ra(),s=P(s),u=Er(s),u.callback=null,jr(n,u,s),n=s,t.current.lanes=n,yr(t,n),$a(t),e[ce]=t.current,Cc(e),new uo(t)},_s.version="19.2.3",_s}var Fg;function Tb(){if(Fg)return Wc.exports;Fg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),Wc.exports=Nb(),Wc.exports}var Rb=Tb();function Ob(r){return{id:r.id,email:r.email,name:r.name,role:r.role,createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at),lastLogin:r.lastLogin?new Date(r.lastLogin):void 0}}function Co(r,a){var i={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&a.indexOf(l)<0&&(i[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(r);o<l.length;o++)a.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(r,l[o])&&(i[l[o]]=r[l[o]]);return i}function Cb(r,a,i,l){function o(c){return c instanceof i?c:new i(function(f){f(c)})}return new(i||(i=Promise))(function(c,f){function m(v){try{p(l.next(v))}catch(b){f(b)}}function g(v){try{p(l.throw(v))}catch(b){f(b)}}function p(v){v.done?c(v.value):o(v.value).then(m,g)}p((l=l.apply(r,a||[])).next())})}const kb=r=>r?(...a)=>r(...a):(...a)=>fetch(...a);class Bd extends Error{constructor(a,i="FunctionsError",l){super(a),this.name=i,this.context=l}}class Db extends Bd{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class Jg extends Bd{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class Xg extends Bd{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var vd;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(vd||(vd={}));class Ub{constructor(a,{headers:i={},customFetch:l,region:o=vd.Any}={}){this.url=a,this.headers=i,this.region=o,this.fetch=kb(l)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return Cb(this,arguments,void 0,function*(i,l={}){var o;let c,f;try{const{headers:m,method:g,body:p,signal:v,timeout:b}=l;let x={},{region:_}=l;_||(_=this.region);const j=new URL(`${this.url}/${i}`);_&&_!=="any"&&(x["x-region"]=_,j.searchParams.set("forceFunctionRegion",_));let T;p&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",T=p):typeof p=="string"?(x["Content-Type"]="text/plain",T=p):typeof FormData<"u"&&p instanceof FormData?T=p:(x["Content-Type"]="application/json",T=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?T=JSON.stringify(p):T=p;let R=v;b&&(f=new AbortController,c=setTimeout(()=>f.abort(),b),v?(R=f.signal,v.addEventListener("abort",()=>f.abort())):R=f.signal);const S=yield this.fetch(j.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),m),body:T,signal:R}).catch(ne=>{throw new Db(ne)}),U=S.headers.get("x-relay-error");if(U&&U==="true")throw new Jg(S);if(!S.ok)throw new Xg(S);let C=((o=S.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),J;return C==="application/json"?J=yield S.json():C==="application/octet-stream"||C==="application/pdf"?J=yield S.blob():C==="text/event-stream"?J=S:C==="multipart/form-data"?J=yield S.formData():J=yield S.text(),{data:J,error:null,response:S}}catch(m){return{data:null,error:m,response:m instanceof Xg||m instanceof Jg?m.context:void 0}}finally{c&&clearTimeout(c)}})}}var zb=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},Mb=class{constructor(r){var a,i;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(a=r.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=r.signal,this.isMaybeSingle=(i=r.isMaybeSingle)!==null&&i!==void 0?i:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,a){return this.headers=new Headers(this.headers),this.headers.set(r,a),this}then(r,a){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let f=null,m=null,g=null,p=c.status,v=c.statusText;if(c.ok){var b,x;if(i.method!=="HEAD"){var _;const S=await c.text();S===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((_=i.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?m=S:m=JSON.parse(S))}const T=(b=i.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),R=(x=c.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");T&&R&&R.length>1&&(g=parseInt(R[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,p=406,v="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var j;const T=await c.text();try{f=JSON.parse(T),Array.isArray(f)&&c.status===404&&(m=[],f=null,p=200,v="OK")}catch{c.status===404&&T===""?(p=204,v="No Content"):f={message:T}}if(f&&i.isMaybeSingle&&(!(f==null||(j=f.details)===null||j===void 0)&&j.includes("0 rows"))&&(f=null,p=200,v="OK"),f&&i.shouldThrowOnError)throw new zb(f)}return{error:f,data:m,count:g,status:p,statusText:v}});return this.shouldThrowOnError||(o=o.catch(c=>{var f;let m="";const g=c?.cause;if(g){var p,v,b,x;const j=(p=g?.message)!==null&&p!==void 0?p:"",T=(v=g?.code)!==null&&v!==void 0?v:"";m=`${(b=c?.name)!==null&&b!==void 0?b:"FetchError"}: ${c?.message}`,m+=`

Caused by: ${(x=g?.name)!==null&&x!==void 0?x:"Error"}: ${j}`,T&&(m+=` (${T})`),g?.stack&&(m+=`
${g.stack}`)}else{var _;m=(_=c?.stack)!==null&&_!==void 0?_:""}return{error:{message:`${(f=c?.name)!==null&&f!==void 0?f:"FetchError"}: ${c?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(r,a)}returns(){return this}overrideTypes(){return this}},Bb=class extends Mb{select(r){let a=!1;const i=(r??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:a=!0,nullsFirst:i,foreignTable:l,referencedTable:o=l}={}){const c=o?`${o}.order`:"order",f=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${f?`${f},`:""}${r}.${a?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:a,referencedTable:i=a}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${r}`),this}range(r,a,{foreignTable:i,referencedTable:l=i}={}){const o=typeof l>"u"?"offset":`${l}.offset`,c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${r}`),this.url.searchParams.set(c,`${a-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:a=!1,settings:i=!1,buffers:l=!1,wal:o=!1,format:c="text"}={}){var f;const m=[r?"analyze":null,a?"verbose":null,i?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${g}"; options=${m};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const Qg=new RegExp("[,()]");var pi=class extends Bb{eq(r,a){return this.url.searchParams.append(r,`eq.${a}`),this}neq(r,a){return this.url.searchParams.append(r,`neq.${a}`),this}gt(r,a){return this.url.searchParams.append(r,`gt.${a}`),this}gte(r,a){return this.url.searchParams.append(r,`gte.${a}`),this}lt(r,a){return this.url.searchParams.append(r,`lt.${a}`),this}lte(r,a){return this.url.searchParams.append(r,`lte.${a}`),this}like(r,a){return this.url.searchParams.append(r,`like.${a}`),this}likeAllOf(r,a){return this.url.searchParams.append(r,`like(all).{${a.join(",")}}`),this}likeAnyOf(r,a){return this.url.searchParams.append(r,`like(any).{${a.join(",")}}`),this}ilike(r,a){return this.url.searchParams.append(r,`ilike.${a}`),this}ilikeAllOf(r,a){return this.url.searchParams.append(r,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(r,a){return this.url.searchParams.append(r,`ilike(any).{${a.join(",")}}`),this}regexMatch(r,a){return this.url.searchParams.append(r,`match.${a}`),this}regexIMatch(r,a){return this.url.searchParams.append(r,`imatch.${a}`),this}is(r,a){return this.url.searchParams.append(r,`is.${a}`),this}isDistinct(r,a){return this.url.searchParams.append(r,`isdistinct.${a}`),this}in(r,a){const i=Array.from(new Set(a)).map(l=>typeof l=="string"&&Qg.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`in.(${i})`),this}notIn(r,a){const i=Array.from(new Set(a)).map(l=>typeof l=="string"&&Qg.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`not.in.(${i})`),this}contains(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cs.{${a.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(a)}`),this}containedBy(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cd.{${a.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(a)}`),this}rangeGt(r,a){return this.url.searchParams.append(r,`sr.${a}`),this}rangeGte(r,a){return this.url.searchParams.append(r,`nxl.${a}`),this}rangeLt(r,a){return this.url.searchParams.append(r,`sl.${a}`),this}rangeLte(r,a){return this.url.searchParams.append(r,`nxr.${a}`),this}rangeAdjacent(r,a){return this.url.searchParams.append(r,`adj.${a}`),this}overlaps(r,a){return typeof a=="string"?this.url.searchParams.append(r,`ov.${a}`):this.url.searchParams.append(r,`ov.{${a.join(",")}}`),this}textSearch(r,a,{config:i,type:l}={}){let o="";l==="plain"?o="pl":l==="phrase"?o="ph":l==="websearch"&&(o="w");const c=i===void 0?"":`(${i})`;return this.url.searchParams.append(r,`${o}fts${c}.${a}`),this}match(r){return Object.entries(r).forEach(([a,i])=>{this.url.searchParams.append(a,`eq.${i}`)}),this}not(r,a,i){return this.url.searchParams.append(r,`not.${a}.${i}`),this}or(r,{foreignTable:a,referencedTable:i=a}={}){const l=i?`${i}.or`:"or";return this.url.searchParams.append(l,`(${r})`),this}filter(r,a,i){return this.url.searchParams.append(r,`${a}.${i}`),this}},Lb=class{constructor(r,{headers:a={},schema:i,fetch:l}){this.url=r,this.headers=new Headers(a),this.schema=i,this.fetch=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,a){const{head:i=!1,count:l}=a??{},o=i?"HEAD":"GET";let c=!1;const f=(r??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join(""),{url:m,headers:g}=this.cloneRequestState();return m.searchParams.set("select",f),l&&g.append("Prefer",`count=${l}`),new pi({method:o,url:m,headers:g,schema:this.schema,fetch:this.fetch})}insert(r,{count:a,defaultToNull:i=!0}={}){var l;const o="POST",{url:c,headers:f}=this.cloneRequestState();if(a&&f.append("Prefer",`count=${a}`),i||f.append("Prefer","missing=default"),Array.isArray(r)){const m=r.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(m.length>0){const g=[...new Set(m)].map(p=>`"${p}"`);c.searchParams.set("columns",g.join(","))}}return new pi({method:o,url:c,headers:f,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(r,{onConflict:a,ignoreDuplicates:i=!1,count:l,defaultToNull:o=!0}={}){var c;const f="POST",{url:m,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),a!==void 0&&m.searchParams.set("on_conflict",a),l&&g.append("Prefer",`count=${l}`),o||g.append("Prefer","missing=default"),Array.isArray(r)){const p=r.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(p.length>0){const v=[...new Set(p)].map(b=>`"${b}"`);m.searchParams.set("columns",v.join(","))}}return new pi({method:f,url:m,headers:g,schema:this.schema,body:r,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(r,{count:a}={}){var i;const l="PATCH",{url:o,headers:c}=this.cloneRequestState();return a&&c.append("Prefer",`count=${a}`),new pi({method:l,url:o,headers:c,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:r}={}){var a;const i="DELETE",{url:l,headers:o}=this.cloneRequestState();return r&&o.append("Prefer",`count=${r}`),new pi({method:i,url:l,headers:o,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},$b=class ay{constructor(a,{headers:i={},schema:l,fetch:o}={}){this.url=a,this.headers=new Headers(i),this.schemaName=l,this.fetch=o}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Lb(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new ay(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,i={},{head:l=!1,get:o=!1,count:c}={}){var f;let m;const g=new URL(`${this.url}/rpc/${a}`);let p;const v=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(v)),b=l&&Object.values(i).some(v);b?(m="POST",p=i):l||o?(m=l?"HEAD":"GET",Object.entries(i).filter(([_,j])=>j!==void 0).map(([_,j])=>[_,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([_,j])=>{g.searchParams.append(_,j)})):(m="POST",p=i);const x=new Headers(this.headers);return b?x.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&x.set("Prefer",`count=${c}`),new pi({method:m,url:g,headers:x,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class qb{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const l=i.versions;if(l&&l.node){const o=l.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let i=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(i+=`

Suggested solution: ${a.workaround}`),new Error(i)}static createWebSocket(a,i){const l=this.getWebSocketConstructor();return new l(a,i)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Hb="2.90.1",Pb=`realtime-js/${Hb}`,ry="1.0.0",Vb="2.0.0",Zg=ry,bd=1e4,Gb=1e3,Yb=100;var Hr;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Hr||(Hr={}));var Nt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Nt||(Nt={}));var Ua;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Ua||(Ua={}));var xd;(function(r){r.websocket="websocket"})(xd||(xd={}));var _n;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(_n||(_n={}));class Kb{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,i){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(a));let l=[a.join_ref,a.ref,a.topic,a.event,a.payload];return i(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(a){var i;return this._isArrayBuffer((i=a.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var i,l;const o=(l=(i=a.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(a){var i,l;const o=(l=(i=a.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(a,i,l){var o,c;const f=a.topic,m=(o=a.ref)!==null&&o!==void 0?o:"",g=(c=a.join_ref)!==null&&c!==void 0?c:"",p=a.payload.event,v=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},b=Object.keys(v).length===0?"":JSON.stringify(v);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+f.length+p.length+b.length,_=new ArrayBuffer(this.HEADER_LENGTH+x);let j=new DataView(_),T=0;j.setUint8(T++,this.KINDS.userBroadcastPush),j.setUint8(T++,g.length),j.setUint8(T++,m.length),j.setUint8(T++,f.length),j.setUint8(T++,p.length),j.setUint8(T++,b.length),j.setUint8(T++,i),Array.from(g,S=>j.setUint8(T++,S.charCodeAt(0))),Array.from(m,S=>j.setUint8(T++,S.charCodeAt(0))),Array.from(f,S=>j.setUint8(T++,S.charCodeAt(0))),Array.from(p,S=>j.setUint8(T++,S.charCodeAt(0))),Array.from(b,S=>j.setUint8(T++,S.charCodeAt(0)));var R=new Uint8Array(_.byteLength+l.byteLength);return R.set(new Uint8Array(_),0),R.set(new Uint8Array(l),_.byteLength),R.buffer}decode(a,i){if(this._isArrayBuffer(a)){let l=this._binaryDecode(a);return i(l)}if(typeof a=="string"){const l=JSON.parse(a),[o,c,f,m,g]=l;return i({join_ref:o,ref:c,topic:f,event:m,payload:g})}return i({})}_binaryDecode(a){const i=new DataView(a),l=i.getUint8(0),o=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,i,o)}_decodeUserBroadcast(a,i,l){const o=i.getUint8(1),c=i.getUint8(2),f=i.getUint8(3),m=i.getUint8(4);let g=this.HEADER_LENGTH+4;const p=l.decode(a.slice(g,g+o));g=g+o;const v=l.decode(a.slice(g,g+c));g=g+c;const b=l.decode(a.slice(g,g+f));g=g+f;const x=a.slice(g,a.byteLength),_=m===this.JSON_ENCODING?JSON.parse(l.decode(x)):x,j={type:this.BROADCAST_EVENT,event:v,payload:_};return f>0&&(j.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(a){var i;return a instanceof ArrayBuffer||((i=a?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(a,i){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([l])=>i.includes(l)))}}class ny{constructor(a,i){this.callback=a,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(We||(We={}));const Wg=(r,a,i={})=>{var l;const o=(l=i.skipTypes)!==null&&l!==void 0?l:[];return a?Object.keys(a).reduce((c,f)=>(c[f]=Ib(f,r,a,o),c),{}):{}},Ib=(r,a,i,l)=>{const o=a.find(m=>m.name===r),c=o?.type,f=i[r];return c&&!l.includes(c)?iy(c,f):wd(f)},iy=(r,a)=>{if(r.charAt(0)==="_"){const i=r.slice(1,r.length);return Qb(a,i)}switch(r){case We.bool:return Fb(a);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return Jb(a);case We.json:case We.jsonb:return Xb(a);case We.timestamp:return Zb(a);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return wd(a);default:return wd(a)}},wd=r=>r,Fb=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Jb=r=>{if(typeof r=="string"){const a=parseFloat(r);if(!Number.isNaN(a))return a}return r},Xb=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},Qb=(r,a)=>{if(typeof r!="string")return r;const i=r.length-1,l=r[i];if(r[0]==="{"&&l==="}"){let c;const f=r.slice(1,i);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(m=>iy(a,m))}return r},Zb=r=>typeof r=="string"?r.replace(" ","T"):r,sy=r=>{const a=new URL(r);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class rd{constructor(a,i,l={},o=bd){this.channel=a,this.event=i,this.payload=l,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,i){var l;return this._hasReceived(a)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:a,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:i}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(i))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var ep;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(ep||(ep={}));class Rs{constructor(a,i){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},o=>{const{onJoin:c,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rs.syncState(this.state,o,c,f),this.pendingDiffs.forEach(g=>{this.state=Rs.syncDiff(this.state,g,c,f)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},o=>{const{onJoin:c,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Rs.syncDiff(this.state,o,c,f),m())}),this.onJoin((o,c,f)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:f})}),this.onLeave((o,c,f)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,i,l,o){const c=this.cloneDeep(a),f=this.transformState(i),m={},g={};return this.map(c,(p,v)=>{f[p]||(g[p]=v)}),this.map(f,(p,v)=>{const b=c[p];if(b){const x=v.map(R=>R.presence_ref),_=b.map(R=>R.presence_ref),j=v.filter(R=>_.indexOf(R.presence_ref)<0),T=b.filter(R=>x.indexOf(R.presence_ref)<0);j.length>0&&(m[p]=j),T.length>0&&(g[p]=T)}else m[p]=v}),this.syncDiff(c,{joins:m,leaves:g},l,o)}static syncDiff(a,i,l,o){const{joins:c,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),o||(o=()=>{}),this.map(c,(m,g)=>{var p;const v=(p=a[m])!==null&&p!==void 0?p:[];if(a[m]=this.cloneDeep(g),v.length>0){const b=a[m].map(_=>_.presence_ref),x=v.filter(_=>b.indexOf(_.presence_ref)<0);a[m].unshift(...x)}l(m,v,g)}),this.map(f,(m,g)=>{let p=a[m];if(!p)return;const v=g.map(b=>b.presence_ref);p=p.filter(b=>v.indexOf(b.presence_ref)<0),a[m]=p,o(m,p,g),p.length===0&&delete a[m]}),a}static map(a,i){return Object.getOwnPropertyNames(a).map(l=>i(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((i,l)=>{const o=a[l];return"metas"in o?i[l]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):i[l]=o,i},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tp;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(tp||(tp={}));var Os;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Os||(Os={}));var dr;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(dr||(dr={}));class xi{constructor(a,i={config:{}},l){var o,c;if(this.topic=a,this.params=i,this.socket=l,this.bindings={},this.state=Nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new rd(this,Ua.join,this.params,this.timeout),this.rejoinTimer=new ny(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Nt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ua.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new Rs(this),this.broadcastEndpointURL=sy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,i=this.timeout){var l,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Nt.closed){const{config:{broadcast:f,presence:m,private:g}}=this.params,p=(o=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(_=>_.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[Os.PRESENCE]&&this.bindings[Os.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,b={},x={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:v}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(_=>a?.(dr.CHANNEL_ERROR,_)),this._onClose(()=>a?.(dr.CLOSED)),this.updateJoinPayload(Object.assign({config:x},b)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:_})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){a?.(dr.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,R=(j=T?.length)!==null&&j!==void 0?j:0,S=[];for(let U=0;U<R;U++){const C=T[U],{filter:{event:J,schema:ne,table:Z,filter:k}}=C,ee=_&&_[U];if(ee&&ee.event===J&&xi.isFilterValueEqual(ee.schema,ne)&&xi.isFilterValueEqual(ee.table,Z)&&xi.isFilterValueEqual(ee.filter,k))S.push(Object.assign(Object.assign({},C),{id:ee.id}));else{this.unsubscribe(),this.state=Nt.errored,a?.(dr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,a&&a(dr.SUBSCRIBED);return}}).receive("error",_=>{this.state=Nt.errored,a?.(dr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{a?.(dr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,i={}){return await this.send({type:"presence",event:"track",payload:a},i.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,i,l){return this.state===Nt.joined&&a===Os.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,i,l)}async httpSend(a,i,l={}){var o;if(i==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(o=l.timeout)!==null&&o!==void 0?o:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const p=await m.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(a,i={}){var l,o;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:f}=a,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,m,g;const p=this._push(a.type,a,i.timeout||this.timeout);a.type==="broadcast"&&!(!((g=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Nt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ua.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(o=>{l=new rd(this,Ua.leave,{},a),l.receive("ok",()=>{i(),o("ok")}).receive("timeout",()=>{i(),o("timed out")}).receive("error",()=>{o("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Nt.closed,this.bindings={}}async _fetchWithTimeout(a,i,l){const o=new AbortController,c=setTimeout(()=>o.abort(),l),f=await this.socket.fetch(a,Object.assign(Object.assign({},i),{signal:o.signal}));return clearTimeout(c),f}_push(a,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new rd(this,a,i,l);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Yb){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(a,i,l){return i}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,i,l){var o,c;const f=a.toLocaleLowerCase(),{close:m,error:g,leave:p,join:v}=Ua;if(l&&[m,g,p,v].indexOf(f)>=0&&l!==this._joinRef())return;let x=this._onMessage(f,i,l);if(i&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var j,T,R;return((j=_.filter)===null||j===void 0?void 0:j.event)==="*"||((R=(T=_.filter)===null||T===void 0?void 0:T.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===f}).map(_=>_.callback(x,l)):(c=this.bindings[f])===null||c===void 0||c.filter(_=>{var j,T,R,S,U,C,J,ne;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in _){const Z=_.id,k=(j=_.filter)===null||j===void 0?void 0:j.event;return Z&&((T=i.ids)===null||T===void 0?void 0:T.includes(Z))&&(k==="*"||k?.toLocaleLowerCase()===((R=i.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))&&(!(!((S=_.filter)===null||S===void 0)&&S.table)||_.filter.table===((U=i.data)===null||U===void 0?void 0:U.table))}else{const Z=(J=(C=_?.filter)===null||C===void 0?void 0:C.event)===null||J===void 0?void 0:J.toLocaleLowerCase();return Z==="*"||Z===((ne=i?.event)===null||ne===void 0?void 0:ne.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===f}).map(_=>{if(typeof x=="object"&&"ids"in x){const j=x.data,{schema:T,table:R,commit_timestamp:S,type:U,errors:C}=j;x=Object.assign(Object.assign({},{schema:T,table:R,commit_timestamp:S,eventType:U,new:{},old:{},errors:C}),this._getPayloadRecords(j))}_.callback(x,l)})}_isClosed(){return this.state===Nt.closed}_isJoined(){return this.state===Nt.joined}_isJoining(){return this.state===Nt.joining}_isLeaving(){return this.state===Nt.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,i,l){const o=a.toLocaleLowerCase(),c={type:o,filter:i,callback:l};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(a,i){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===l&&xi.isEqual(o.filter,i))})),this}static isEqual(a,i){if(Object.keys(a).length!==Object.keys(i).length)return!1;for(const l in a)if(a[l]!==i[l])return!1;return!0}static isFilterValueEqual(a,i){return(a??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Ua.close,{},a)}_onError(a){this._on(Ua.error,{},i=>a(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Nt.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const i={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(i.new=Wg(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(i.old=Wg(a.columns,a.old_record)),i}}const nd=()=>{},ho={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Wb=[1e3,2e3,5e3,1e4],ex=1e4,tx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ax{constructor(a,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bd,this.transport=null,this.heartbeatIntervalMs=ho.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nd,this.ref=0,this.reconnectTimer=null,this.vsn=Zg,this.logger=nd,this.conn=null,this.sendBuffer=[],this.serializer=new Kb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((l=i?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${a}/${xd.websocket}`,this.httpEndpoint=sy(a),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qb.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const i=a.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const i=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const a=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,i,l){this.logger(a,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Hr.connecting:return _n.Connecting;case Hr.open:return _n.Open;case Hr.closing:return _n.Closing;default:return _n.Closed}}isConnected(){return this.connectionState()===_n.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,i={config:{}}){const l=`realtime:${a}`,o=this.getChannels().find(c=>c.topic===l);if(o)return o;{const c=new xi(`realtime:${a}`,i,this);return this.channels.push(c),c}}push(a){const{topic:i,event:l,payload:o,ref:c}=a,f=()=>{this.encode(a,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${i} ${l} (${c})`,o),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Gb,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},ho.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let i=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${a}"`),i.unsubscribe())}_remove(a){this.channels=this.channels.filter(i=>i.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",p)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:o,payload:c,ref:f}=i,m=f?`(${f})`:"",g=c.status||"";this.log("receive",`${g} ${l} ${o} ${m}`.trim(),c),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(o,c,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(a){var i;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===Hr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Hr.open||this.conn.readyState===Hr.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var i;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Ua.error))}_appendParams(a,i){if(Object.keys(i).length===0)return a;const l=a.match(/\?/)?"&":"?",o=new URLSearchParams(i);return`${a}${l}${o}`}_workerObjectUrl(a){let i;if(a)i=a;else{const l=new Blob([tx],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(a,i=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(a=null){let i,l=!1;if(a)i=a,l=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),i=this.accessTokenValue}else i=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const c={access_token:i,version:Pb};i&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(Ua.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${a}`,i)})}_triggerStateCallbacks(a,i){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(i)}catch(o){this.log("error",`error in ${a} callback`,o)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new ny(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ho.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var i,l,o,c,f,m,g,p,v,b,x,_;switch(this.transport=(i=a?.transport)!==null&&i!==void 0?i:null,this.timeout=(l=a?.timeout)!==null&&l!==void 0?l:bd,this.heartbeatIntervalMs=(o=a?.heartbeatIntervalMs)!==null&&o!==void 0?o:ho.HEARTBEAT_INTERVAL,this.worker=(c=a?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(f=a?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=a?.heartbeatCallback)!==null&&m!==void 0?m:nd,this.vsn=(g=a?.vsn)!==null&&g!==void 0?g:Zg,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=a?.reconnectAfterMs)!==null&&p!==void 0?p:(j=>Wb[j-1]||ex),this.vsn){case ry:this.encode=(v=a?.encode)!==null&&v!==void 0?v:((j,T)=>T(JSON.stringify(j))),this.decode=(b=a?.decode)!==null&&b!==void 0?b:((j,T)=>T(JSON.parse(j)));break;case Vb:this.encode=(x=a?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(_=a?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var ks=class extends Error{constructor(r,a){super(r),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function rx(r,a,i){const l=new URL(a,r);if(i)for(const[o,c]of Object.entries(i))c!==void 0&&l.searchParams.set(o,c);return l.toString()}async function nx(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function ix(r){const a=r.fetchImpl??globalThis.fetch;return{async request({method:i,path:l,query:o,body:c,headers:f}){const m=rx(r.baseUrl,l,o),g=await nx(r.auth),p=await a(m,{method:i,headers:{...c?{"Content-Type":"application/json"}:{},...g,...f},body:c?JSON.stringify(c):void 0}),v=await p.text(),b=(p.headers.get("content-type")||"").includes("application/json"),x=b&&v?JSON.parse(v):v;if(!p.ok){const _=b?x:void 0,j=_?.error;throw new ks(j?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:j?.type,icebergCode:j?.code,details:_})}return{status:p.status,headers:p.headers,data:x}}}}function fo(r){return r.join("")}var sx=class{constructor(r,a=""){this.client=r,this.prefix=a}async listNamespaces(r){const a=r?{parent:fo(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(r,a){const i={namespace:r.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fo(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fo(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fo(r.namespace)}`}),!0}catch(a){if(a instanceof ks&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(r,a){try{return await this.createNamespace(r,a)}catch(i){if(i instanceof ks&&i.status===409)return;throw i}}};function ci(r){return r.join("")}var lx=class{constructor(r,a="",i){this.client=r,this.prefix=a,this.accessDelegation=i}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ci(r.namespace)}/tables`})).data.identifiers}async createTable(r,a){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ci(r.namespace)}/tables`,body:a,headers:i})).data.metadata}async updateTable(r,a){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ci(r.namespace)}/tables/${r.name}`,body:a});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(r,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ci(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(r){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ci(r.namespace)}/tables/${r.name}`,headers:a})).data.metadata}async tableExists(r){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ci(r.namespace)}/tables/${r.name}`,headers:a}),!0}catch(i){if(i instanceof ks&&i.status===404)return!1;throw i}}async createTableIfNotExists(r,a){try{return await this.createTable(r,a)}catch(i){if(i instanceof ks&&i.status===409)return await this.loadTable({namespace:r.namespace,name:a.name});throw i}}},ox=class{constructor(r){let a="v1";r.catalogName&&(a+=`/${r.catalogName}`);const i=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=ix({baseUrl:i,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new sx(this.client,a),this.tableOps=new lx(this.client,a,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,a){return this.namespaceOps.createNamespace(r,a)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,a){return this.tableOps.createTable(r,a)}async updateTable(r,a){return this.tableOps.updateTable(r,a)}async dropTable(r,a){await this.tableOps.dropTable(r,a)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,a){return this.namespaceOps.createNamespaceIfNotExists(r,a)}async createTableIfNotExists(r,a){return this.tableOps.createTableIfNotExists(r,a)}},ko=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function ot(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var ux=class extends ko{constructor(r,a,i){super(r),this.name="StorageApiError",this.status=a,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_d=class extends ko{constructor(r,a){super(r),this.name="StorageUnknownError",this.originalError=a}};const Ld=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),cx=()=>Response,Sd=r=>{if(Array.isArray(r))return r.map(i=>Sd(i));if(typeof r=="function"||r!==Object(r))return r;const a={};return Object.entries(r).forEach(([i,l])=>{const o=i.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));a[o]=Sd(l)}),a},dx=r=>{if(typeof r!="object"||r===null)return!1;const a=Object.getPrototypeOf(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},hx=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function Ds(r){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ds(r)}function fx(r,a){if(Ds(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var l=i.call(r,a);if(Ds(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function mx(r){var a=fx(r,"string");return Ds(a)=="symbol"?a:a+""}function gx(r,a,i){return(a=mx(a))in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i,r}function ap(r,a){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);a&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),i.push.apply(i,l)}return i}function we(r){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?ap(Object(i),!0).forEach(function(l){gx(r,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ap(Object(i)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(i,l))})}return r}const id=r=>{var a;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(a=r.error)===null||a===void 0?void 0:a.message)||JSON.stringify(r)},px=async(r,a,i)=>{r instanceof await cx()&&!i?.noResolveJson?r.json().then(l=>{const o=r.status||500,c=l?.statusCode||o+"";a(new ux(id(l),o,c))}).catch(l=>{a(new _d(id(l),l))}):a(new _d(id(r),r))},yx=(r,a,i,l)=>{const o={method:r,headers:a?.headers||{}};return r==="GET"||!l?o:(dx(l)?(o.headers=we({"Content-Type":"application/json"},a?.headers),o.body=JSON.stringify(l)):o.body=l,a?.duplex&&(o.duplex=a.duplex),we(we({},o),i))};async function Vs(r,a,i,l,o,c){return new Promise((f,m)=>{r(i,yx(a,l,o,c)).then(g=>{if(!g.ok)throw g;return l?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>px(g,m,l))})}async function Us(r,a,i,l){return Vs(r,"GET",a,i,l)}async function Da(r,a,i,l,o){return Vs(r,"POST",a,l,o,i)}async function Ed(r,a,i,l,o){return Vs(r,"PUT",a,l,o,i)}async function vx(r,a,i,l){return Vs(r,"HEAD",a,we(we({},i),{},{noResolveJson:!0}),l)}async function $d(r,a,i,l,o){return Vs(r,"DELETE",a,l,o,i)}var bx=class{constructor(r,a){this.downloadFn=r,this.shouldThrowOnError=a}then(r,a){return this.execute().then(r,a)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}}};let ly;ly=Symbol.toStringTag;var xx=class{constructor(r,a){this.downloadFn=r,this.shouldThrowOnError=a,this[ly]="BlobDownloadBuilder",this.promise=null}asStream(){return new bx(this.downloadFn,this.shouldThrowOnError)}then(r,a){return this.getPromise().then(r,a)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}}};const wx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var _x=class{constructor(r,a={},i,l){this.shouldThrowOnError=!1,this.url=r,this.headers=a,this.bucketId=i,this.fetch=Ld(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,a,i,l){var o=this;try{let c;const f=we(we({},rp),l);let m=we(we({},o.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),g&&c.append("metadata",o.encodeMetadata(g)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.has("cacheControl")||c.append("cacheControl",f.cacheControl),g&&!c.has("metadata")&&c.append("metadata",o.encodeMetadata(g))):(c=i,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,g&&(m["x-metadata"]=o.toBase64(o.encodeMetadata(g))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!f.duplex&&(f.duplex="half")),l?.headers&&(m=we(we({},m),l.headers));const p=o._removeEmptyFolders(a),v=o._getFinalPath(p),b=await(r=="PUT"?Ed:Da)(o.fetch,`${o.url}/object/${v}`,c,we({headers:m},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:p,id:b.Id,fullPath:b.Key},error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(ot(c))return{data:null,error:c};throw c}}async upload(r,a,i){return this.uploadOrUpdate("POST",r,a,i)}async uploadToSignedUrl(r,a,i,l){var o=this;const c=o._removeEmptyFolders(r),f=o._getFinalPath(c),m=new URL(o.url+`/object/upload/sign/${f}`);m.searchParams.set("token",a);try{let g;const p=we({upsert:rp.upsert},l),v=we(we({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",p.cacheControl)):(g=i,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType),{data:{path:c,fullPath:(await Ed(o.fetch,m.toString(),g,{headers:v})).Key},error:null}}catch(g){if(o.shouldThrowOnError)throw g;if(ot(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(r,a){var i=this;try{let l=i._getFinalPath(r);const o=we({},i.headers);a?.upsert&&(o["x-upsert"]="true");const c=await Da(i.fetch,`${i.url}/object/upload/sign/${l}`,{},{headers:o}),f=new URL(i.url+c.url),m=f.searchParams.get("token");if(!m)throw new ko("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:m},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(ot(l))return{data:null,error:l};throw l}}async update(r,a,i){return this.uploadOrUpdate("PUT",r,a,i)}async move(r,a,i){var l=this;try{return{data:await Da(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:r,destinationKey:a,destinationBucket:i?.destinationBucket},{headers:l.headers}),error:null}}catch(o){if(l.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}}async copy(r,a,i){var l=this;try{return{data:{path:(await Da(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:r,destinationKey:a,destinationBucket:i?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(o){if(l.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}}async createSignedUrl(r,a,i){var l=this;try{let o=l._getFinalPath(r),c=await Da(l.fetch,`${l.url}/object/sign/${o}`,we({expiresIn:a},i?.transform?{transform:i.transform}:{}),{headers:l.headers});const f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return c={signedUrl:encodeURI(`${l.url}${c.signedURL}${f}`)},{data:c,error:null}}catch(o){if(l.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}}async createSignedUrls(r,a,i){var l=this;try{const o=await Da(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:a,paths:r},{headers:l.headers}),c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(f=>we(we({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${c}`):null})),error:null}}catch(o){if(l.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}}download(r,a){const i=typeof a?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(a?.transform||{}),o=l?`?${l}`:"",c=this._getFinalPath(r),f=()=>Us(this.fetch,`${this.url}/${i}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new xx(f,this.shouldThrowOnError)}async info(r){var a=this;const i=a._getFinalPath(r);try{return{data:Sd(await Us(a.fetch,`${a.url}/object/info/${i}`,{headers:a.headers})),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(ot(l))return{data:null,error:l};throw l}}async exists(r){var a=this;const i=a._getFinalPath(r);try{return await vx(a.fetch,`${a.url}/object/${i}`,{headers:a.headers}),{data:!0,error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(ot(l)&&l instanceof _d){const o=l.originalError;if([400,404].includes(o?.status))return{data:!1,error:l}}throw l}}getPublicUrl(r,a){const i=this._getFinalPath(r),l=[],o=a?.download?`download=${a.download===!0?"":a.download}`:"";o!==""&&l.push(o);const c=typeof a?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(a?.transform||{});f!==""&&l.push(f);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${i}${m}`)}}}async remove(r){var a=this;try{return{data:await $d(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:r},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async list(r,a,i){var l=this;try{const o=we(we(we({},wx),a),{},{prefix:r||""});return{data:await Da(l.fetch,`${l.url}/object/list/${l.bucketId}`,o,{headers:l.headers},i),error:null}}catch(o){if(l.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}}async listV2(r,a){var i=this;try{const l=we({},r);return{data:await Da(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,l,{headers:i.headers},a),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(ot(l))return{data:null,error:l};throw l}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const a=[];return r.width&&a.push(`width=${r.width}`),r.height&&a.push(`height=${r.height}`),r.resize&&a.push(`resize=${r.resize}`),r.format&&a.push(`format=${r.format}`),r.quality&&a.push(`quality=${r.quality}`),a.join("&")}};const oy="2.90.1",uy={"X-Client-Info":`storage-js/${oy}`};var Sx=class{constructor(r,a={},i,l){this.shouldThrowOnError=!1;const o=new URL(r);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=we(we({},uy),a),this.fetch=Ld(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var a=this;try{const i=a.listBucketOptionsToQueryString(r);return{data:await Us(a.fetch,`${a.url}/bucket${i}`,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async getBucket(r){var a=this;try{return{data:await Us(a.fetch,`${a.url}/bucket/${r}`,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async createBucket(r,a={public:!1}){var i=this;try{return{data:await Da(i.fetch,`${i.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(ot(l))return{data:null,error:l};throw l}}async updateBucket(r,a){var i=this;try{return{data:await Ed(i.fetch,`${i.url}/bucket/${r}`,{id:r,name:r,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(ot(l))return{data:null,error:l};throw l}}async emptyBucket(r){var a=this;try{return{data:await Da(a.fetch,`${a.url}/bucket/${r}/empty`,{},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async deleteBucket(r){var a=this;try{return{data:await $d(a.fetch,`${a.url}/bucket/${r}`,{},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(r){const a={};return r&&("limit"in r&&(a.limit=String(r.limit)),"offset"in r&&(a.offset=String(r.offset)),r.search&&(a.search=r.search),r.sortColumn&&(a.sortColumn=r.sortColumn),r.sortOrder&&(a.sortOrder=r.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},Ex=class{constructor(r,a={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=we(we({},uy),a),this.fetch=Ld(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var a=this;try{return{data:await Da(a.fetch,`${a.url}/bucket`,{name:r},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async listBuckets(r){var a=this;try{const i=new URLSearchParams;r?.limit!==void 0&&i.set("limit",r.limit.toString()),r?.offset!==void 0&&i.set("offset",r.offset.toString()),r?.sortColumn&&i.set("sortColumn",r.sortColumn),r?.sortOrder&&i.set("sortOrder",r.sortOrder),r?.search&&i.set("search",r.search);const l=i.toString(),o=l?`${a.url}/bucket?${l}`:`${a.url}/bucket`;return{data:await Us(a.fetch,o,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async deleteBucket(r){var a=this;try{return{data:await $d(a.fetch,`${a.url}/bucket/${r}`,{},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}from(r){var a=this;if(!hx(r))throw new ko("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new ox({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(i,{get(o,c){const f=o[c];return typeof f!="function"?f:async(...m)=>{try{return{data:await f.apply(o,m),error:null}}catch(g){if(l)throw g;return{data:null,error:g}}}}})}};const qd={"X-Client-Info":`storage-js/${oy}`,"Content-Type":"application/json"};var cy=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function sa(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var sd=class extends cy{constructor(r,a,i){super(r),this.name="StorageVectorsApiError",this.status=a,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},jx=class extends cy{constructor(r,a){super(r),this.name="StorageVectorsUnknownError",this.originalError=a}};const Hd=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),Ax=r=>{if(typeof r!="object"||r===null)return!1;const a=Object.getPrototypeOf(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},np=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Nx=async(r,a,i)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!i?.noResolveJson){const l=r.status||500,o=r;if(typeof o.json=="function")o.json().then(c=>{const f=c?.statusCode||c?.code||l+"";a(new sd(np(c),l,f))}).catch(()=>{const c=l+"";a(new sd(o.statusText||`HTTP ${l} error`,l,c))});else{const c=l+"";a(new sd(o.statusText||`HTTP ${l} error`,l,c))}}else a(new jx(np(r),r))},Tx=(r,a,i,l)=>{const o={method:r,headers:a?.headers||{}};return l?(Ax(l)?(o.headers=we({"Content-Type":"application/json"},a?.headers),o.body=JSON.stringify(l)):o.body=l,we(we({},o),i)):o};async function Rx(r,a,i,l,o,c){return new Promise((f,m)=>{r(i,Tx(a,l,o,c)).then(g=>{if(!g.ok)throw g;if(l?.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>Nx(g,m,l))})}async function la(r,a,i,l,o){return Rx(r,"POST",a,l,o,i)}var Ox=class{constructor(r,a={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=we(we({},qd),a),this.fetch=Hd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var a=this;try{return{data:await la(a.fetch,`${a.url}/CreateIndex`,r,{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(sa(i))return{data:null,error:i};throw i}}async getIndex(r,a){var i=this;try{return{data:await la(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:r,indexName:a},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(sa(l))return{data:null,error:l};throw l}}async listIndexes(r){var a=this;try{return{data:await la(a.fetch,`${a.url}/ListIndexes`,r,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(sa(i))return{data:null,error:i};throw i}}async deleteIndex(r,a){var i=this;try{return{data:await la(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:r,indexName:a},{headers:i.headers})||{},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(sa(l))return{data:null,error:l};throw l}}},Cx=class{constructor(r,a={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=we(we({},qd),a),this.fetch=Hd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var a=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await la(a.fetch,`${a.url}/PutVectors`,r,{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(sa(i))return{data:null,error:i};throw i}}async getVectors(r){var a=this;try{return{data:await la(a.fetch,`${a.url}/GetVectors`,r,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(sa(i))return{data:null,error:i};throw i}}async listVectors(r){var a=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await la(a.fetch,`${a.url}/ListVectors`,r,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(sa(i))return{data:null,error:i};throw i}}async queryVectors(r){var a=this;try{return{data:await la(a.fetch,`${a.url}/QueryVectors`,r,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(sa(i))return{data:null,error:i};throw i}}async deleteVectors(r){var a=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await la(a.fetch,`${a.url}/DeleteVectors`,r,{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(sa(i))return{data:null,error:i};throw i}}},kx=class{constructor(r,a={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=we(we({},qd),a),this.fetch=Hd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var a=this;try{return{data:await la(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(sa(i))return{data:null,error:i};throw i}}async getBucket(r){var a=this;try{return{data:await la(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:r},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(sa(i))return{data:null,error:i};throw i}}async listBuckets(r={}){var a=this;try{return{data:await la(a.fetch,`${a.url}/ListVectorBuckets`,r,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(sa(i))return{data:null,error:i};throw i}}async deleteBucket(r){var a=this;try{return{data:await la(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(sa(i))return{data:null,error:i};throw i}}},Dx=class extends kx{constructor(r,a={}){super(r,a.headers||{},a.fetch)}from(r){return new Ux(this.url,this.headers,r,this.fetch)}async createBucket(r){var a=()=>super.createBucket,i=this;return a().call(i,r)}async getBucket(r){var a=()=>super.getBucket,i=this;return a().call(i,r)}async listBuckets(r={}){var a=()=>super.listBuckets,i=this;return a().call(i,r)}async deleteBucket(r){var a=()=>super.deleteBucket,i=this;return a().call(i,r)}},Ux=class extends Ox{constructor(r,a,i,l){super(r,a,l),this.vectorBucketName=i}async createIndex(r){var a=()=>super.createIndex,i=this;return a().call(i,we(we({},r),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(r={}){var a=()=>super.listIndexes,i=this;return a().call(i,we(we({},r),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(r){var a=()=>super.getIndex,i=this;return a().call(i,i.vectorBucketName,r)}async deleteIndex(r){var a=()=>super.deleteIndex,i=this;return a().call(i,i.vectorBucketName,r)}index(r){return new zx(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},zx=class extends Cx{constructor(r,a,i,l,o){super(r,a,o),this.vectorBucketName=i,this.indexName=l}async putVectors(r){var a=()=>super.putVectors,i=this;return a().call(i,we(we({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(r){var a=()=>super.getVectors,i=this;return a().call(i,we(we({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(r={}){var a=()=>super.listVectors,i=this;return a().call(i,we(we({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(r){var a=()=>super.queryVectors,i=this;return a().call(i,we(we({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(r){var a=()=>super.deleteVectors,i=this;return a().call(i,we(we({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},Mx=class extends Sx{constructor(r,a={},i,l){super(r,a,i,l)}from(r){return new _x(this.url,this.headers,r,this.fetch)}get vectors(){return new Dx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ex(this.url+"/iceberg",this.headers,this.fetch)}};const dy="2.90.1",yi=30*1e3,jd=3,ld=jd*yi,Bx="http://localhost:9999",Lx="supabase.auth.token",$x={"X-Client-Info":`gotrue-js/${dy}`},Ad="X-Supabase-Api-Version",hy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Hx=600*1e3;class zs extends Error{constructor(a,i,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function me(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Px extends zs{constructor(a,i,l){super(a,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function Vx(r){return me(r)&&r.name==="AuthApiError"}class Sn extends zs{constructor(a,i){super(a),this.name="AuthUnknownError",this.originalError=i}}class hr extends zs{constructor(a,i,l,o){super(a,l,o),this.name=i,this.status=l}}class na extends hr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Gx(r){return me(r)&&r.name==="AuthSessionMissingError"}class di extends hr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mo extends hr{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class go extends hr{constructor(a,i=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Yx(r){return me(r)&&r.name==="AuthImplicitGrantRedirectError"}class ip extends hr{constructor(a,i=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kx extends hr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Nd extends hr{constructor(a,i){super(a,"AuthRetryableFetchError",i,void 0)}}function od(r){return me(r)&&r.name==="AuthRetryableFetchError"}class sp extends hr{constructor(a,i,l){super(a,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class Td extends hr{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const So="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lp=` 	
\r=`.split(""),Ix=(()=>{const r=new Array(128);for(let a=0;a<r.length;a+=1)r[a]=-1;for(let a=0;a<lp.length;a+=1)r[lp[a].charCodeAt(0)]=-2;for(let a=0;a<So.length;a+=1)r[So[a].charCodeAt(0)]=a;return r})();function op(r,a,i){if(r!==null)for(a.queue=a.queue<<8|r,a.queuedBits+=8;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;i(So[l]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;i(So[l]),a.queuedBits-=6}}function fy(r,a,i){const l=Ix[r];if(l>-1)for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)i(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function up(r){const a=[],i=f=>{a.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=f=>{Xx(f,l,i)};for(let f=0;f<r.length;f+=1)fy(r.charCodeAt(f),o,c);return a.join("")}function Fx(r,a){if(r<=127){a(r);return}else if(r<=2047){a(192|r>>6),a(128|r&63);return}else if(r<=65535){a(224|r>>12),a(128|r>>6&63),a(128|r&63);return}else if(r<=1114111){a(240|r>>18),a(128|r>>12&63),a(128|r>>6&63),a(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Jx(r,a){for(let i=0;i<r.length;i+=1){let l=r.charCodeAt(i);if(l>55295&&l<=56319){const o=(l-55296)*1024&65535;l=(r.charCodeAt(i+1)-56320&65535|o)+65536,i+=1}Fx(l,a)}}function Xx(r,a,i){if(a.utf8seq===0){if(r<=127){i(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){a.utf8seq=l;break}if(a.utf8seq===2)a.codepoint=r&31;else if(a.utf8seq===3)a.codepoint=r&15;else if(a.utf8seq===4)a.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|r&63,a.utf8seq-=1,a.utf8seq===0&&i(a.codepoint)}}function Si(r){const a=[],i={queue:0,queuedBits:0},l=o=>{a.push(o)};for(let o=0;o<r.length;o+=1)fy(r.charCodeAt(o),i,l);return new Uint8Array(a)}function Qx(r){const a=[];return Jx(r,i=>a.push(i)),new Uint8Array(a)}function En(r){const a=[],i={queue:0,queuedBits:0},l=o=>{a.push(o)};return r.forEach(o=>op(o,i,l)),op(null,i,l),a.join("")}function Zx(r){return Math.round(Date.now()/1e3)+r}function Wx(){return Symbol("auth-callback")}const Mt=()=>typeof window<"u"&&typeof document<"u",bn={tested:!1,writable:!1},my=()=>{if(!Mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bn.tested)return bn.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),bn.tested=!0,bn.writable=!0}catch{bn.tested=!0,bn.writable=!1}return bn.writable};function ew(r){const a={},i=new URL(r);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((o,c)=>{a[c]=o})}catch{}return i.searchParams.forEach((l,o)=>{a[o]=l}),a}const gy=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),tw=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",vi=async(r,a,i)=>{await r.setItem(a,JSON.stringify(i))},xn=async(r,a)=>{const i=await r.getItem(a);if(!i)return null;try{return JSON.parse(i)}catch{return i}},zt=async(r,a)=>{await r.removeItem(a)};let py=class yy{constructor(){this.promise=new yy.promiseConstructor((a,i)=>{this.resolve=a,this.reject=i})}};py.promiseConstructor=Promise;function ud(r){const a=r.split(".");if(a.length!==3)throw new Td("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!qx.test(a[l]))throw new Td("JWT not in base64url format");return{header:JSON.parse(up(a[0])),payload:JSON.parse(up(a[1])),signature:Si(a[2]),raw:{header:a[0],payload:a[1]}}}async function aw(r){return await new Promise(a=>{setTimeout(()=>a(null),r)})}function rw(r,a){return new Promise((l,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await r(c);if(!a(c,null,f)){l(f);return}}catch(f){if(!a(c,f)){o(f);return}}})()})}function nw(r){return("0"+r.toString(16)).substr(-2)}function iw(){const a=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let o="";for(let c=0;c<56;c++)o+=i.charAt(Math.floor(Math.random()*l));return o}return crypto.getRandomValues(a),Array.from(a,nw).join("")}async function sw(r){const i=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(l);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function lw(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const i=await sw(r);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hi(r,a,i=!1){const l=iw();let o=l;i&&(o+="/PASSWORD_RECOVERY"),await vi(r,`${a}-code-verifier`,o);const c=await lw(l);return[c,l===c?"plain":"s256"]}const ow=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uw(r){const a=r.headers.get(Ad);if(!a||!a.match(ow))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function cw(r){if(!r)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(r<=a)throw new Error("JWT has expired")}function dw(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fi(r){if(!hw.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cd(){const r={};return new Proxy(r,{get:(a,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fw(r,a){return new Proxy(r,{get:(i,l,o)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const c=l.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,l,o)}return!a.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(i,l,o)}})}function cp(r){return JSON.parse(JSON.stringify(r))}const wn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),mw=[502,503,504];async function dp(r){var a;if(!tw(r))throw new Nd(wn(r),0);if(mw.includes(r.status))throw new Nd(wn(r),r.status);let i;try{i=await r.json()}catch(c){throw new Sn(wn(c),c)}let l;const o=uw(r);if(o&&o.getTime()>=hy["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new sp(wn(i),r.status,((a=i.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(l==="session_not_found")throw new na}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new sp(wn(i),r.status,i.weak_password.reasons);throw new Px(wn(i),r.status||500,l)}const gw=(r,a,i,l)=>{const o={method:r,headers:a?.headers||{}};return r==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),o.body=JSON.stringify(l),Object.assign(Object.assign({},o),i))};async function xe(r,a,i,l){var o;const c=Object.assign({},l?.headers);c[Ad]||(c[Ad]=hy["2024-01-01"].name),l?.jwt&&(c.Authorization=`Bearer ${l.jwt}`);const f=(o=l?.query)!==null&&o!==void 0?o:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await pw(r,a,i+m,{headers:c,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(g):{data:Object.assign({},g),error:null}}async function pw(r,a,i,l,o,c){const f=gw(a,l,o,c);let m;try{m=await r(i,Object.assign({},f))}catch(g){throw console.error(g),new Nd(wn(g),0)}if(m.ok||await dp(m),l?.noResolveJson)return m;try{return await m.json()}catch(g){await dp(g)}}function ka(r){var a;let i=null;bw(r)&&(i=Object.assign({},r),r.expires_at||(i.expires_at=Zx(r.expires_in)));const l=(a=r.user)!==null&&a!==void 0?a:r;return{data:{session:i,user:l},error:null}}function hp(r){const a=ka(r);return!a.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(a.data.weak_password=r.weak_password),a}function Pr(r){var a;return{data:{user:(a=r.user)!==null&&a!==void 0?a:r},error:null}}function yw(r){return{data:r,error:null}}function vw(r){const{action_link:a,email_otp:i,hashed_token:l,redirect_to:o,verification_type:c}=r,f=Co(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:i,hashed_token:l,redirect_to:o,verification_type:c},g=Object.assign({},f);return{data:{properties:m,user:g},error:null}}function fp(r){return r}function bw(r){return r.access_token&&r.refresh_token&&r.expires_in}const dd=["global","local","others"];class xw{constructor({url:a="",headers:i={},fetch:l}){this.url=a,this.headers=i,this.fetch=gy(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,i=dd[0]){if(dd.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dd.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(l){if(me(l))return{data:null,error:l};throw l}}async inviteUserByEmail(a,i={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Pr})}catch(l){if(me(l))return{data:{user:null},error:l};throw l}}async generateLink(a){try{const{options:i}=a,l=Co(a,["options"]),o=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(o.new_email=l?.newEmail,delete o.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:vw,redirectTo:i?.redirectTo})}catch(i){if(me(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(a){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Pr})}catch(i){if(me(i))return{data:{user:null},error:i};throw i}}async listUsers(a){var i,l,o,c,f,m,g;try{const p={nextPage:null,lastPage:0,total:0},v=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=a?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(c=(o=a?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:fp});if(v.error)throw v.error;const b=await v.json(),x=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,_=(g=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return _.length>0&&(_.forEach(j=>{const T=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(j.split(";")[1].split("=")[1]);p[`${R}Page`]=T}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(me(p))return{data:{users:[]},error:p};throw p}}async getUserById(a){fi(a);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Pr})}catch(i){if(me(i))return{data:{user:null},error:i};throw i}}async updateUserById(a,i){fi(a);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:i,headers:this.headers,xform:Pr})}catch(l){if(me(l))return{data:{user:null},error:l};throw l}}async deleteUser(a,i=!1){fi(a);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:i},xform:Pr})}catch(l){if(me(l))return{data:{user:null},error:l};throw l}}async _listFactors(a){fi(a.userId);try{const{data:i,error:l}=await xe(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:i,error:l}}catch(i){if(me(i))return{data:null,error:i};throw i}}async _deleteFactor(a){fi(a.userId),fi(a.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}}async _listOAuthClients(a){var i,l,o,c,f,m,g;try{const p={nextPage:null,lastPage:0,total:0},v=await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=a?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(c=(o=a?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:fp});if(v.error)throw v.error;const b=await v.json(),x=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,_=(g=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return _.length>0&&(_.forEach(j=>{const T=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(j.split(";")[1].split("=")[1]);p[`${R}Page`]=T}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(me(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(a){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(me(i))return{data:null,error:i};throw i}}async _getOAuthClient(a){try{return await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(me(i))return{data:null,error:i};throw i}}async _updateOAuthClient(a,i){try{return await xe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:i,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(me(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(a){try{return await xe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(a){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(me(i))return{data:null,error:i};throw i}}}function mp(r={}){return{getItem:a=>r[a]||null,setItem:(a,i)=>{r[a]=i},removeItem:a=>{delete r[a]}}}const mi={debug:!!(globalThis&&my()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vy extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class ww extends vy{}async function _w(r,a,i){mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,a);const l=new globalThis.AbortController;return a>0&&setTimeout(()=>{l.abort(),mi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async o=>{if(o){mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,o.name);try{return await i()}finally{mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,o.name)}}else{if(a===0)throw mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new ww(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(mi.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function Sw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function by(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function Ew(r){return parseInt(r,16)}function jw(r){const a=new TextEncoder().encode(r);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}function Aw(r){var a;const{chainId:i,domain:l,expirationTime:o,issuedAt:c=new Date,nonce:f,notBefore:m,requestId:g,resources:p,scheme:v,uri:b,version:x}=r;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((a=r.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const _=by(r.address),j=v?`${v}://${l}`:l,T=r.statement?`${r.statement}
`:"",R=`${j} wants you to sign in with your Ethereum account:
${_}

${T}`;let S=`URI: ${b}
Version: ${x}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${c.toISOString()}`;if(o&&(S+=`
Expiration Time: ${o.toISOString()}`),m&&(S+=`
Not Before: ${m.toISOString()}`),g&&(S+=`
Request ID: ${g}`),p){let U=`
Resources:`;for(const C of p){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);U+=`
- ${C}`}S+=U}return`${R}
${S}`}class jt extends Error{constructor({message:a,code:i,cause:l,name:o}){var c;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=(c=o??(l instanceof Error?l.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=i}}class Eo extends jt{constructor(a,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:a}),this.name="WebAuthnUnknownError",this.originalError=i}}function Nw({error:r,options:a}){var i,l,o;const{publicKey:c}=a;if(!c)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(a.signal instanceof AbortSignal)return new jt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((i=c.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new jt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(a.mediation==="conditional"&&((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new jt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new jt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new jt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new jt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return c.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new jt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new jt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const f=window.location.hostname;if(xy(f)){if(c.rp.id!==f)return new jt({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new jt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new jt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function Tw({error:r,options:a}){const{publicKey:i}=a;if(!i)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(a.signal instanceof AbortSignal)return new jt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new jt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const l=window.location.hostname;if(xy(l)){if(i.rpId!==l)return new jt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new jt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class Rw{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const Ow=new Rw;function Cw(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:a,user:i,excludeCredentials:l}=r,o=Co(r,["challenge","user","excludeCredentials"]),c=Si(a).buffer,f=Object.assign(Object.assign({},i),{id:Si(i.id).buffer}),m=Object.assign(Object.assign({},o),{challenge:c,user:f});if(l&&l.length>0){m.excludeCredentials=new Array(l.length);for(let g=0;g<l.length;g++){const p=l[g];m.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:Si(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return m}function kw(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:a,allowCredentials:i}=r,l=Co(r,["challenge","allowCredentials"]),o=Si(a).buffer,c=Object.assign(Object.assign({},l),{challenge:o});if(i&&i.length>0){c.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const m=i[f];c.allowCredentials[f]=Object.assign(Object.assign({},m),{id:Si(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return c}function Dw(r){var a;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r;return{id:r.id,rawId:r.id,response:{attestationObject:En(new Uint8Array(r.response.attestationObject)),clientDataJSON:En(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Uw(r){var a;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r,l=r.getClientExtensionResults(),o=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:En(new Uint8Array(o.authenticatorData)),clientDataJSON:En(new Uint8Array(o.clientDataJSON)),signature:En(new Uint8Array(o.signature)),userHandle:o.userHandle?En(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function xy(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function gp(){var r,a;return!!(Mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function zw(r){try{const a=await navigator.credentials.create(r);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Eo("Browser returned unexpected credential type",a)}:{data:null,error:new Eo("Empty credential response",a)}}catch(a){return{data:null,error:Nw({error:a,options:r})}}}async function Mw(r){try{const a=await navigator.credentials.get(r);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Eo("Browser returned unexpected credential type",a)}:{data:null,error:new Eo("Empty credential response",a)}}catch(a){return{data:null,error:Tw({error:a,options:r})}}}const Bw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Lw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function jo(...r){const a=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),i=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),l={};for(const o of r)if(o)for(const c in o){const f=o[c];if(f!==void 0)if(Array.isArray(f))l[c]=f;else if(i(f))l[c]=f;else if(a(f)){const m=l[c];a(m)?l[c]=jo(m,f):l[c]=jo(f)}else l[c]=f}return l}function $w(r,a){return jo(Bw,r,a||{})}function qw(r,a){return jo(Lw,r,a||{})}class Hw{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:i,friendlyName:l,signal:o},c){try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:i});if(!f)return{data:null,error:m};const g=o??Ow.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:p}=f.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${l}`),p.displayName||(p.displayName=p.name)}switch(f.webauthn.type){case"create":{const p=$w(f.webauthn.credential_options.publicKey,c?.create),{data:v,error:b}=await zw({publicKey:p,signal:g});return v?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}case"request":{const p=qw(f.webauthn.credential_options.publicKey,c?.request),{data:v,error:b}=await Mw(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:p,signal:g}));return v?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}}}catch(f){return me(f)?{data:null,error:f}:{data:null,error:new Sn("Unexpected error in challenge",f)}}}async _verify({challengeId:a,factorId:i,webauthn:l}){return this.client.mfa.verify({factorId:i,challengeId:a,webauthn:l})}async _authenticate({factorId:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!i)return{data:null,error:new zs("rpId is required for WebAuthn authentication")};try{if(!gp())return{data:null,error:new Sn("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:a,webauthn:{rpId:i,rpOrigins:l},signal:o},{request:c});if(!f)return{data:null,error:m};const{webauthn:g}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:g.type,rpId:i,rpOrigins:l,credential_response:g.credential_response}})}catch(f){return me(f)?{data:null,error:f}:{data:null,error:new Sn("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!i)return{data:null,error:new zs("rpId is required for WebAuthn registration")};try{if(!gp())return{data:null,error:new Sn("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(v=>{var b;return(b=v.data)===null||b===void 0?void 0:b.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===a&&x.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:m};const{data:g,error:p}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:l},signal:o},{create:c});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:i,rpOrigins:l,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(f){return me(f)?{data:null,error:f}:{data:null,error:new Sn("Unexpected error in register",f)}}}}Sw();const Pw={url:Bx,storageKey:Lx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$x,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function pp(r,a,i){return await i()}const gi={};class Ms{get jwks(){var a,i;return(i=(a=gi[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(a){gi[this.storageKey]=Object.assign(Object.assign({},gi[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,i;return(i=(a=gi[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){gi[this.storageKey]=Object.assign(Object.assign({},gi[this.storageKey]),{cachedAt:a})}constructor(a){var i,l,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},Pw),a);if(this.storageKey=c.storageKey,this.instanceID=(i=Ms.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Ms.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Mt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new xw({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=gy(c.fetch),this.lock=c.lock||pp,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&Mt()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=_w:this.lock=pp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Hw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:my()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mp(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=mp(this.memoryStorage)),Mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${dy}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let i={},l="none";if(Mt()&&(i=ew(window.location.href),this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce")),Mt()&&this.detectSessionInUrl&&l!=="none"){const{data:o,error:c}=await this._getSessionFromURL(i,l);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Yx(c)){const g=(a=c.details)===null||a===void 0?void 0:a.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:f,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return me(i)?this._returnResult({error:i}):this._returnResult({error:new Sn("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var i,l,o;try{const c=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=a?.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(o=a?.options)===null||o===void 0?void 0:o.captchaToken}},xform:ka}),{data:f,error:m}=c;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const g=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(c){if(me(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(a){var i,l,o;try{let c;if("email"in a){const{email:v,password:b,options:x}=a;let _=null,j=null;this.flowType==="pkce"&&([_,j]=await hi(this.storage,this.storageKey)),c=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:v,password:b,data:(i=x?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:_,code_challenge_method:j},xform:ka})}else if("phone"in a){const{phone:v,password:b,options:x}=a;c=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:b,data:(l=x?.data)!==null&&l!==void 0?l:{},channel:(o=x?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:ka})}else throw new mo("You must provide either an email or phone number and a password");const{data:f,error:m}=c;if(m||!f)return await zt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const g=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(c){if(await zt(this.storage,`${this.storageKey}-code-verifier`),me(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(a){try{let i;if("email"in a){const{email:c,password:f,options:m}=a;i=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:hp})}else if("phone"in a){const{phone:c,password:f,options:m}=a;i=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:hp})}else throw new mo("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!l||!l.session||!l.user){const c=new di;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:o})}catch(i){if(me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(a){var i,l,o,c;return await this._handleProviderSignIn(a.provider,{redirectTo:(i=a.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=a.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=a.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=a.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:i}=a;switch(i){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(a){var i,l,o,c,f,m,g,p,v,b,x;let _,j;if("message"in a)_=a.message,j=a.signature;else{const{chain:T,wallet:R,statement:S,options:U}=a;let C;if(Mt())if(typeof R=="object")C=R;else{const de=window;if("ethereum"in de&&typeof de.ethereum=="object"&&"request"in de.ethereum&&typeof de.ethereum.request=="function")C=de.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=R}const J=new URL((i=U?.url)!==null&&i!==void 0?i:window.location.href),ne=await C.request({method:"eth_requestAccounts"}).then(de=>de).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ne||ne.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Z=by(ne[0]);let k=(l=U?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!k){const de=await C.request({method:"eth_chainId"});k=Ew(de)}const ee={domain:J.host,address:Z,statement:S,uri:J.href,version:"1",chainId:k,nonce:(o=U?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(f=(c=U?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=U?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=U?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=U?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=U?.signInWithEthereum)===null||v===void 0?void 0:v.resources};_=Aw(ee),j=await C.request({method:"personal_sign",params:[jw(_),Z]})}try{const{data:T,error:R}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:j},!((b=a.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=a.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:ka});if(R)throw R;if(!T||!T.session||!T.user){const S=new di;return this._returnResult({data:{user:null,session:null},error:S})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:R})}catch(T){if(me(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(a){var i,l,o,c,f,m,g,p,v,b,x,_;let j,T;if("message"in a)j=a.message,T=a.signature;else{const{chain:R,wallet:S,statement:U,options:C}=a;let J;if(Mt())if(typeof S=="object")J=S;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))J=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=S}const ne=new URL((i=C?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in J&&J.signIn){const Z=await J.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:ne.host,uri:ne.href}),U?{statement:U}:null));let k;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")k=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)k=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)j=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),T=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in J)||typeof J.signMessage!="function"||!("publicKey"in J)||typeof J!="object"||!J.publicKey||!("toBase58"in J.publicKey)||typeof J.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${ne.host} wants you to sign in with your Solana account:`,J.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${ne.href}`,`Issued At: ${(o=(l=C?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=C?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((f=C?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((m=C?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((g=C?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((p=C?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((b=(v=C?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||b===void 0)&&b.length?["Resources",...C.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const Z=await J.signMessage(new TextEncoder().encode(j),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=Z}}try{const{data:R,error:S}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:En(T)},!((x=a.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(_=a.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:ka});if(S)throw S;if(!R||!R.session||!R.user){const U=new di;return this._returnResult({data:{user:null,session:null},error:U})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:S})}catch(R){if(me(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(a){const i=await xn(this.storage,`${this.storageKey}-code-verifier`),[l,o]=(i??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Kx;const{data:c,error:f}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:l},xform:ka});if(await zt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!c||!c.session||!c.user){const m=new di;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:f})}catch(c){if(await zt(this.storage,`${this.storageKey}-code-verifier`),me(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(a){try{const{options:i,provider:l,token:o,access_token:c,nonce:f}=a,m=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:o,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:ka}),{data:g,error:p}=m;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const v=new di;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(i){if(me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(a){var i,l,o,c,f;try{if("email"in a){const{email:m,options:g}=a;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await hi(this.storage,this.storageKey));const{error:b}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(i=g?.data)!==null&&i!==void 0?i:{},create_user:(l=g?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in a){const{phone:m,options:g}=a,{data:p,error:v}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=g?.data)!==null&&o!==void 0?o:{},create_user:(c=g?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:v})}throw new mo("You must provide either an email or phone number.")}catch(m){if(await zt(this.storage,`${this.storageKey}-code-verifier`),me(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var i,l;try{let o,c;"options"in a&&(o=(i=a.options)===null||i===void 0?void 0:i.redirectTo,c=(l=a.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:m}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:ka});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,p=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(o){if(me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(a){var i,l,o,c,f;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await hi(this.storage,this.storageKey));const p=await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(l=(i=a.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((o=a?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:yw});return!((c=p.data)===null||c===void 0)&&c.url&&Mt()&&!(!((f=a.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(m){if(await zt(this.storage,`${this.storageKey}-code-verifier`),me(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;if(l)throw l;if(!i)throw new na;const{error:o}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(a){if(me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const i=`${this.url}/resend`;if("email"in a){const{email:l,type:o,options:c}=a,{error:f}=await xe(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in a){const{phone:l,type:o,options:c}=a,{data:f,error:m}=await xe(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new mo("You must provide either an email or phone number and a type")}catch(i){if(me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(a,i){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await a(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const i=await xn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?a=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const l=a.expires_at?a.expires_at*1e3-Date.now()<ld:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",a.expires_at),!l){if(this.userStorage){const f=await xn(this.userStorage,this.storageKey+"-user");f?.user?a.user=f.user:a.user=cd()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};a.user=fw(a.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:o,error:c}=await this._callRefreshToken(a.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(a){try{return a?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Pr}):await this._useSession(async i=>{var l,o,c;const{data:f,error:m}=i;if(m)throw m;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new na}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:Pr})})}catch(i){if(me(i))return Gx(i)&&(await this._removeSession(),await zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(a,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,i))}async _updateUser(a,i={}){try{return await this._useSession(async l=>{const{data:o,error:c}=l;if(c)throw c;if(!o.session)throw new na;const f=o.session;let m=null,g=null;this.flowType==="pkce"&&a.email!=null&&([m,g]=await hi(this.storage,this.storageKey));const{data:p,error:v}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:g}),jwt:f.access_token,xform:Pr});if(v)throw v;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await zt(this.storage,`${this.storageKey}-code-verifier`),me(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new na;const i=Date.now()/1e3;let l=i,o=!0,c=null;const{payload:f}=ud(a.access_token);if(f.exp&&(l=f.exp,o=l<=i),o){const{data:m,error:g}=await this._callRefreshToken(a.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:g}=await this._getUser(a.access_token);if(g)throw g;c={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(i){if(me(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async i=>{var l;if(!a){const{data:f,error:m}=i;if(m)throw m;a=(l=f.session)!==null&&l!==void 0?l:void 0}if(!a?.refresh_token)throw new na;const{data:o,error:c}=await this._callRefreshToken(a.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(a,i){try{if(!Mt())throw new go("No browser detected.");if(a.error||a.error_description||a.error_code)throw new go(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new ip("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new go("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new ip("No code detected.");const{data:U,error:C}=await this._exchangeCodeForSession(a.code);if(C)throw C;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:o,access_token:c,refresh_token:f,expires_in:m,expires_at:g,token_type:p}=a;if(!c||!m||!f||!p)throw new go("No session defined in URL");const v=Math.round(Date.now()/1e3),b=parseInt(m);let x=v+b;g&&(x=parseInt(g));const _=x-v;_*1e3<=yi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${b}s`);const j=x-b;v-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,x,v):v-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,x,v);const{data:T,error:R}=await this._getUser(c);if(R)throw R;const S={provider_token:l,provider_refresh_token:o,access_token:c,expires_in:b,expires_at:x,refresh_token:f,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:S,redirectType:a.type},error:null})}catch(l){if(me(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const i=await xn(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&i)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:o,error:c}=i;if(c)return this._returnResult({error:c});const f=(l=o.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:m}=await this.admin.signOut(f,a);if(m&&!(Vx(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const i=Wx(),l={id:i,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(a){return await this._useSession(async i=>{var l,o;try{const{data:{session:c},error:f}=i;if(f)throw f;await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",a,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(a))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",c),console.error(c)}})}async resetPasswordForEmail(a,i={}){let l=null,o=null;this.flowType==="pkce"&&([l,o]=await hi(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:l,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(c){if(await zt(this.storage,`${this.storageKey}-code-verifier`),me(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var a;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(a=i.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var i;try{const{data:l,error:o}=await this._useSession(async c=>{var f,m,g,p,v;const{data:b,error:x}=c;if(x)throw x;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=a.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",_,{headers:this.headers,jwt:(v=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return Mt()&&!(!((i=a.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:a.provider,url:l?.url},error:null})}catch(l){if(me(l))return this._returnResult({data:{provider:a.provider,url:null},error:l});throw l}}async linkIdentityIdToken(a){return await this._useSession(async i=>{var l;try{const{error:o,data:{session:c}}=i;if(o)throw o;const{options:f,provider:m,token:g,access_token:p,nonce:v}=a,b=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=c?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:m,id_token:g,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ka}),{data:x,error:_}=b;return _?this._returnResult({data:{user:null,session:null},error:_}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new di}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:_}))}catch(o){if(await zt(this.storage,`${this.storageKey}-code-verifier`),me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(a){try{return await this._useSession(async i=>{var l,o;const{data:c,error:f}=i;if(f)throw f;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(o=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(a){const i=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await rw(async o=>(o>0&&await aw(200*Math.pow(2,o-1)),this._debug(i,"refreshing attempt",o),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:ka})),(o,c)=>{const f=200*Math.pow(2,o);return c&&od(c)&&Date.now()+f-l<yi})}catch(l){if(this._debug(i,"error",l),me(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(i,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",i,"url",l),Mt()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:a,url:l},error:null}}async _recoverAndRefresh(){var a,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const o=await xn(this.storage,this.storageKey);if(o&&this.userStorage){let f=await xn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:o.user},await vi(this.userStorage,this.storageKey+"-user",f)),o.user=(a=f?.user)!==null&&a!==void 0?a:cd()}else if(o&&!o.user&&!o.user){const f=await xn(this.storage,this.storageKey+"-user");f&&f?.user?(o.user=f.user,await zt(this.storage,this.storageKey+"-user"),await vi(this.storage,this.storageKey,o)):o.user=cd()}if(this._debug(l,"session from storage",o),!this._isValidSession(o)){this._debug(l,"session is not valid"),o!==null&&await this._removeSession();return}const c=((i=o.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<ld;if(this._debug(l,`session has${c?"":" not"} expired with margin of ${ld}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:f}=await this._callRefreshToken(o.refresh_token);f&&(console.error(f),od(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(o.access_token);!m&&f?.user?(o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(l,"error",o),console.error(o);return}finally{this._debug(l,"end")}}async _callRefreshToken(a){var i,l;if(!a)throw new na;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new py;const{data:c,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!c.session)throw new na;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={data:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(o,"error",c),me(c)){const f={data:null,error:c};return od(c)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(a,i,l=!0){const o=`#_notifyAllSubscribers(${a})`;this._debug(o,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:a,session:i});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,i)}catch(g){c.push(g)}});if(await Promise.all(f),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await zt(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},a),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await vi(this.userStorage,this.storageKey+"-user",{user:i.user});const o=Object.assign({},i);delete o.user;const c=cp(o);await vi(this.storage,this.storageKey,c)}else{const o=cp(i);await vi(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await zt(this.storage,this.storageKey),await zt(this.storage,this.storageKey+"-code-verifier"),await zt(this.storage,this.storageKey+"-user"),this.userStorage&&await zt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&Mt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),yi);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((l.expires_at*1e3-a)/yi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${yi}ms, refresh threshold is ${jd} ticks`),o<=jd&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof vy)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const i=`#_onVisibilityChanged(${a})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,i,l){const o=[`provider=${encodeURIComponent(i)}`];if(l?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&o.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[c,f]=await hi(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});o.push(m.toString())}if(l?.queryParams){const c=new URLSearchParams(l.queryParams);o.push(c.toString())}return l?.skipBrowserRedirect&&o.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${a}?${o.join("&")}`}async _unenroll(a){try{return await this._useSession(async i=>{var l;const{data:o,error:c}=i;return c?this._returnResult({data:null,error:c}):await xe(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(a){try{return await this._useSession(async i=>{var l,o;const{data:c,error:f}=i;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:g,error:p}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(a.factorType==="totp"&&g.type==="totp"&&(!((o=g?.totp)===null||o===void 0)&&o.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:o,error:c}=i;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Dw(a.webauthn.credential_response):Uw(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:g}=await xe(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:o,error:c}=i;if(c)return this._returnResult({data:null,error:c});const f=await xe(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Cw(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:kw(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(a){const{data:i,error:l}=await this._challenge({factorId:a.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:a.factorId,challengeId:i.id,code:a.code})}async _listFactors(){var a;const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(a=i?.factors)!==null&&a!==void 0?a:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var a,i;const{data:{session:l},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=ud(l.access_token);let f=null;c.aal&&(f=c.aal);let m=f;((i=(a=l.user.factors)===null||a===void 0?void 0:a.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const p=c.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async i=>{const{data:{session:l},error:o}=i;return o?this._returnResult({data:null,error:o}):l?await xe(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new na})})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(a,i){try{return await this._useSession(async l=>{const{data:{session:o},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new na});const f=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&Mt()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(me(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(a,i){try{return await this._useSession(async l=>{const{data:{session:o},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new na});const f=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&Mt()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(me(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;return l?this._returnResult({data:null,error:l}):i?await xe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new na})})}catch(a){if(me(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async i=>{const{data:{session:l},error:o}=i;return o?this._returnResult({data:null,error:o}):l?(await xe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new na})})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(a,i={keys:[]}){let l=i.keys.find(m=>m.kid===a);if(l)return l;const o=Date.now();if(l=this.jwks.keys.find(m=>m.kid===a),l&&this.jwks_cached_at+Hx>o)return l;const{data:c,error:f}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,l=c.keys.find(m=>m.kid===a),!l)?null:l}async getClaims(a,i={}){try{let l=a;if(!l){const{data:_,error:j}=await this.getSession();if(j||!_.session)return this._returnResult({data:null,error:j});l=_.session.access_token}const{header:o,payload:c,signature:f,raw:{header:m,payload:g}}=ud(l);i?.allowExpired||cw(c.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!p){const{error:_}=await this.getUser(l);if(_)throw _;return{data:{claims:c,header:o,signature:f},error:null}}const v=dw(o.alg),b=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,b,f,Qx(`${m}.${g}`)))throw new Td("Invalid JWT signature");return{data:{claims:c,header:o,signature:f},error:null}}catch(l){if(me(l))return this._returnResult({data:null,error:l});throw l}}}Ms.nextInstanceID={};const Vw=Ms,Gw="2.90.1";let As="";typeof Deno<"u"?As="deno":typeof document<"u"?As="web":typeof navigator<"u"&&navigator.product==="ReactNative"?As="react-native":As="node";const Yw={"X-Client-Info":`supabase-js-${As}/${Gw}`},Kw={headers:Yw},Iw={schema:"public"},Fw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Jw={};function Bs(r){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Bs(r)}function Xw(r,a){if(Bs(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var l=i.call(r,a);if(Bs(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function Qw(r){var a=Xw(r,"string");return Bs(a)=="symbol"?a:a+""}function Zw(r,a,i){return(a=Qw(a))in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i,r}function yp(r,a){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);a&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),i.push.apply(i,l)}return i}function mt(r){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?yp(Object(i),!0).forEach(function(l){Zw(r,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):yp(Object(i)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(i,l))})}return r}const Ww=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),e_=()=>Headers,t_=(r,a,i)=>{const l=Ww(i),o=e_();return async(c,f)=>{var m;const g=(m=await a())!==null&&m!==void 0?m:r;let p=new o(f?.headers);return p.has("apikey")||p.set("apikey",r),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),l(c,mt(mt({},f),{},{headers:p}))}};function a_(r){return r.endsWith("/")?r:r+"/"}function r_(r,a){var i,l;const{db:o,auth:c,realtime:f,global:m}=r,{db:g,auth:p,realtime:v,global:b}=a,x={db:mt(mt({},g),o),auth:mt(mt({},p),c),realtime:mt(mt({},v),f),storage:{},global:mt(mt(mt({},b),m),{},{headers:mt(mt({},(i=b?.headers)!==null&&i!==void 0?i:{}),(l=m?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return r.accessToken?x.accessToken=r.accessToken:delete x.accessToken,x}function n_(r){const a=r?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(a_(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var i_=class extends Vw{constructor(r){super(r)}},s_=class{constructor(r,a,i){var l,o;this.supabaseUrl=r,this.supabaseKey=a;const c=n_(r);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const f=`sb-${c.hostname.split(".")[0]}-auth-token`,m={db:Iw,realtime:Jw,auth:mt(mt({},Fw),{},{storageKey:f}),global:Kw},g=r_(i??{},m);if(this.storageKey=(l=g.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(o=g.global.headers)!==null&&o!==void 0?o:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=g.auth)!==null&&p!==void 0?p:{},this.headers,g.global.fetch)}this.fetch=t_(a,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(mt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new $b(new URL("rest/v1",c).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new Mx(this.storageUrl.href,this.headers,this.fetch,i?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new Ub(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,a={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,a,i)}channel(r,a={config:{}}){return this.realtime.channel(r,a)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,a,i;if(r.accessToken)return await r.accessToken();const{data:l}=await r.auth.getSession();return(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:l,userStorage:o,storageKey:c,flowType:f,lock:m,debug:g,throwOnError:p},v,b){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new i_({url:this.authUrl.href,headers:mt(mt({},x),v),storageKey:c,autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:l,userStorage:o,flowType:f,lock:m,debug:g,throwOnError:p,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new ax(this.realtimeUrl.href,mt(mt({},r),{},{params:mt(mt({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a?.access_token)})}_handleTokenChanged(r,a,i){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const l_=(r,a,i)=>new s_(r,a,i);function o_(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const a=r.version;if(a==null)return!1;const i=a.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}o_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const u_="https://dacbjmygkdlogyinikfh.supabase.co",c_="sb_publishable_kHP8ZCFxCArMkHpc1sGiLg_gPO1kcdC",re=l_(u_,c_),po=async r=>{try{const{error:a}=await re.from("logs").insert({level:r.level,message:r.message,source:r.source,context:r.context,error_stack:r.error_stack,user_id:r.user_id,order_id:r.order_id});a&&(console.error("Failed to log to database:",a),console.error("Original log",r))}catch(a){console.error("Logger error:",a),console.error("Original log:",r)}},Ao={error:(r,a,i,l)=>po({level:"error",message:r,source:a,context:i,error_stack:l?.stack}),warn:(r,a,i)=>po({level:"warn",message:r,source:a,context:i}),info:(r,a,i)=>po({level:"info",message:r,source:a,context:i}),debug:(r,a,i)=>po({level:"debug",message:r,source:a,context:i})},d_=async r=>{try{const{data:a,error:i}=await re.auth.signInWithPassword({email:r.email,password:r.password});if(i)throw await Ao.error("Admin login failed","admin_login_api",{email:r.email,error:i.message}),i;return{user:a.user,session:a.session}}catch(a){throw await Ao.error("Admin login exception","admin_login_api",{email:r.email},a),a}},h_=async()=>{const{error:r}=await re.auth.signOut();if(r)throw r;return window.location.href="/",{message:"Logged out successfully"}},wy=async r=>{if((await Pd()).role!=="super_admin")throw new Error("Unauthorized: Only super admins can add new admins");const{data:i,error:l}=await re.auth.signUp({email:r.email,password:r.password});if(l)throw l;if(!i.user)throw new Error("Failed to create user");const{error:o}=await re.from("admins").insert({id:i.user.id,name:r.name,email:r.email,role:"admin"});if(o)throw console.error("Failed to create admin profile"),o;return{user:i.user,session:i.session}},Pd=async()=>{const{data:{user:r}}=await re.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:a,error:i}=await re.from("admins").select("*").eq("id",r.id).single();if(i)throw i;return a},f_=async()=>{const{data:{user:r}}=await re.auth.getUser();if(!r)return!1;const{data:a,error:i}=await re.from("admins").select("id").eq("id",r.id).single();return i?!1:!!a},m_=async()=>{if(!await f_())throw new Error("Unauthorized: Admin access required");const{data:a,error:i}=await re.from("admins").select("*").order("created_at",{ascending:!1});if(i)throw i;return a||[]},g_=async()=>{try{return(await Pd()).role==="super_admin"}catch{return!1}},p_=async r=>{try{const{data:{session:a}}=await re.auth.getSession();if(!a)throw new Error("Not authenticated");const i=await fetch("https://dacbjmygkdlogyinikfh.supabase.co/functions/v1/delete-admin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.access_token}`},body:JSON.stringify({adminId:r})}),l=await i.json();if(!i.ok)throw new Error(l.error||"Failed to delete admin")}catch(a){throw await Ao.error("Failed to delete admin","admin_delete",{adminId:r},a),a}},y_=async()=>{const r=new Date;r.setDate(r.getDate()-14);const{error:a}=await re.from("orders").update({status:"cancelled"}).eq("status","pending_payment").lt("created_at",r.toISOString());if(a)throw a},_y=E.createContext(void 0),v_=36e5,b_=({children:r})=>{const[a,i]=E.useState(null),[l,o]=E.useState(null),[c,f]=E.useState(!0),[m,g]=E.useState(null),[p,v]=E.useState(!0),b=E.useRef(null),x=E.useCallback(async()=>{if(!a){o(null),f(!1);return}f(!0),g(null);try{const S=await Pd(),U=Ob(S);o(U)}catch(S){if(S instanceof Error&&S.name==="AbortError")return;const U=S instanceof Error?S.message:"Failed to fetch admin profile";g(U),console.error("Admin fetch error:",S),o(null)}finally{f(!1)}},[a]),_=E.useCallback(async S=>{if(!l)throw new Error("Only admin can create new Admin");g(null);try{await wy(S)}catch(U){const C=U instanceof Error?U.message:"Failed to create admin";throw g(C),console.error("Create admin error:",U),U}},[l]),j=E.useCallback(async()=>{try{b.current&&window.clearTimeout(b.current),await h_(),o(null),i(null)}catch(S){throw console.error("Sign out error:",S),S}},[]),T=E.useCallback(()=>{b.current&&window.clearTimeout(b.current),a&&(b.current=window.setTimeout(async()=>{console.log("Session expired due to inactivity"),await j(),alert("Your session has expired due to 1 hour of inactivity. Please log in again.")},v_))},[a,j]);E.useEffect(()=>{re.auth.getSession().then(({data:{session:U}})=>{i(U?.user??null),v(!1)});const{data:{subscription:S}}=re.auth.onAuthStateChange((U,C)=>{i(C?.user??null),v(!1)});return()=>S.unsubscribe()},[]),E.useEffect(()=>{p||(a?x():(o(null),f(!1)))},[a,p,x]),E.useEffect(()=>{if(!a){b.current&&window.clearTimeout(b.current);return}T();const S=["mousedown","keydown","scroll","touchstart","click"];return S.forEach(U=>{document.addEventListener(U,T)}),()=>{b.current&&window.clearTimeout(b.current),S.forEach(U=>{document.removeEventListener(U,T)})}},[a,T]);const R={admin:l,authUser:a,loading:p||c,error:m,isAdmin:!!l,refetchAdmin:x,createNewAdmin:_,signOut:j};return h.jsx(_y.Provider,{value:R,children:r})},Vd=()=>{const r=E.useContext(_y);if(r===void 0)throw new Error("useAdmin must be used within an AdminProvider");return r};var Sy=r=>{throw TypeError(r)},x_=(r,a,i)=>a.has(r)||Sy("Cannot "+i),hd=(r,a,i)=>(x_(r,a,"read from private field"),i?i.call(r):a.get(r)),w_=(r,a,i)=>a.has(r)?Sy("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(r):a.set(r,i),vp="popstate";function __(r={}){function a(o,c){let{pathname:f="/",search:m="",hash:g=""}=fr(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Ls("",{pathname:f,search:m,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,p=g.indexOf("#");m=p===-1?g:g.slice(0,p)}return m+"#"+(typeof c=="string"?c:Ha(c))}function l(o,c){ut(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return E_(a,i,l,r)}function Te(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function ut(r,a){if(!r){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function S_(){return Math.random().toString(36).substring(2,10)}function bp(r,a){return{usr:r.state,key:r.key,idx:a}}function Ls(r,a,i=null,l){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof a=="string"?fr(a):a,state:i,key:a&&a.key||l||S_()}}function Ha({pathname:r="/",search:a="",hash:i=""}){return a&&a!=="?"&&(r+=a.charAt(0)==="?"?a:"?"+a),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function fr(r){let a={};if(r){let i=r.indexOf("#");i>=0&&(a.hash=r.substring(i),r=r.substring(0,i));let l=r.indexOf("?");l>=0&&(a.search=r.substring(l),r=r.substring(0,l)),r&&(a.pathname=r)}return a}function E_(r,a,i,l={}){let{window:o=document.defaultView,v5Compat:c=!1}=l,f=o.history,m="POP",g=null,p=v();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function v(){return(f.state||{idx:null}).idx}function b(){m="POP";let R=v(),S=R==null?null:R-p;p=R,g&&g({action:m,location:T.location,delta:S})}function x(R,S){m="PUSH";let U=Ls(T.location,R,S);i&&i(U,R),p=v()+1;let C=bp(U,p),J=T.createHref(U);try{f.pushState(C,"",J)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;o.location.assign(J)}c&&g&&g({action:m,location:T.location,delta:1})}function _(R,S){m="REPLACE";let U=Ls(T.location,R,S);i&&i(U,R),p=v();let C=bp(U,p),J=T.createHref(U);f.replaceState(C,"",J),c&&g&&g({action:m,location:T.location,delta:0})}function j(R){return Ey(R)}let T={get action(){return m},get location(){return r(o,f)},listen(R){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(vp,b),g=R,()=>{o.removeEventListener(vp,b),g=null}},createHref(R){return a(o,R)},createURL:j,encodeLocation(R){let S=j(R);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:x,replace:_,go(R){return f.go(R)}};return T}function Ey(r,a=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Te(i,"No window.location.(origin|href) available to create URL");let l=typeof r=="string"?r:Ha(r);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=i+l),new URL(l,i)}var Ns,xp=class{constructor(r){if(w_(this,Ns,new Map),r)for(let[a,i]of r)this.set(a,i)}get(r){if(hd(this,Ns).has(r))return hd(this,Ns).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,a){hd(this,Ns).set(r,a)}};Ns=new WeakMap;var j_=new Set(["lazy","caseSensitive","path","id","index","children"]);function A_(r){return j_.has(r)}var N_=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function T_(r){return N_.has(r)}function R_(r){return r.index===!0}function $s(r,a,i=[],l={},o=!1){return r.map((c,f)=>{let m=[...i,String(f)],g=typeof c.id=="string"?c.id:m.join("-");if(Te(c.index!==!0||!c.children,"Cannot specify children on an index route"),Te(o||!l[g],`Found a route id collision on id "${g}".  Route id's must be globally unique within Data Router usages`),R_(c)){let p={...c,id:g};return l[g]=wp(p,a(p)),p}else{let p={...c,id:g,children:void 0};return l[g]=wp(p,a(p)),c.children&&(p.children=$s(c.children,a,m,l,o)),p}})}function wp(r,a){return Object.assign(r,{...a,...typeof a.lazy=="object"&&a.lazy!=null?{lazy:{...r.lazy,...a.lazy}}:{}})}function Vr(r,a,i="/"){return Ts(r,a,i,!1)}function Ts(r,a,i,l){let o=typeof a=="string"?fr(a):a,c=wa(o.pathname||"/",i);if(c==null)return null;let f=jy(r);C_(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=P_(c);m=q_(f[g],p,l)}return m}function O_(r,a){let{route:i,pathname:l,params:o}=r;return{id:i.id,pathname:l,params:o,data:a[i.id],loaderData:a[i.id],handle:i.handle}}function jy(r,a=[],i=[],l="",o=!1){let c=(f,m,g=o,p)=>{let v={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(l)&&g)return;Te(v.relativePath.startsWith(l),`Absolute route path "${v.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(l.length)}let b=qa([l,v.relativePath]),x=i.concat(v);f.children&&f.children.length>0&&(Te(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),jy(f.children,a,x,b,g)),!(f.path==null&&!f.index)&&a.push({path:b,score:L_(b,f.index),routesMeta:x})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))c(f,m);else for(let g of Ay(f.path))c(f,m,!0,g)}),a}function Ay(r){let a=r.split("/");if(a.length===0)return[];let[i,...l]=a,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(l.length===0)return o?[c,""]:[c];let f=Ay(l.join("/")),m=[];return m.push(...f.map(g=>g===""?c:[c,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function C_(r){r.sort((a,i)=>a.score!==i.score?i.score-a.score:$_(a.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}var k_=/^:[\w-]+$/,D_=3,U_=2,z_=1,M_=10,B_=-2,_p=r=>r==="*";function L_(r,a){let i=r.split("/"),l=i.length;return i.some(_p)&&(l+=B_),a&&(l+=U_),i.filter(o=>!_p(o)).reduce((o,c)=>o+(k_.test(c)?D_:c===""?z_:M_),l)}function $_(r,a){return r.length===a.length&&r.slice(0,-1).every((l,o)=>l===a[o])?r[r.length-1]-a[a.length-1]:0}function q_(r,a,i=!1){let{routesMeta:l}=r,o={},c="/",f=[];for(let m=0;m<l.length;++m){let g=l[m],p=m===l.length-1,v=c==="/"?a:a.slice(c.length)||"/",b=No({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),x=g.route;if(!b&&p&&i&&!l[l.length-1].route.index&&(b=No({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:qa([c,b.pathname]),pathnameBase:Y_(qa([c,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(c=qa([c,b.pathnameBase]))}return f}function No(r,a){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,l]=H_(r.path,r.caseSensitive,r.end),o=a.match(i);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:l.reduce((p,{paramName:v,isOptional:b},x)=>{if(v==="*"){let j=m[x]||"";f=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const _=m[x];return b&&!_?p[v]=void 0:p[v]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:f,pattern:r}}function H_(r,a=!1,i=!0){ut(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let l=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(l.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(l.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,a?void 0:"i"),l]}function P_(r){try{return r.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return ut(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),r}}function wa(r,a){if(a==="/")return r;if(!r.toLowerCase().startsWith(a.toLowerCase()))return null;let i=a.endsWith("/")?a.length-1:a.length,l=r.charAt(i);return l&&l!=="/"?null:r.slice(i)||"/"}function V_({basename:r,pathname:a}){return a==="/"?r:qa([r,a])}var Ny=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Do=r=>Ny.test(r);function G_(r,a="/"){let{pathname:i,search:l="",hash:o=""}=typeof r=="string"?fr(r):r,c;if(i)if(Do(i))c=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),ut(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${i}`)}i.startsWith("/")?c=Sp(i.substring(1),"/"):c=Sp(i,a)}else c=a;return{pathname:c,search:K_(l),hash:I_(o)}}function Sp(r,a){let i=a.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function fd(r,a,i,l){return`Cannot include a '${r}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ty(r){return r.filter((a,i)=>i===0||a.route.path&&a.route.path.length>0)}function Uo(r){let a=Ty(r);return a.map((i,l)=>l===a.length-1?i.pathname:i.pathnameBase)}function zo(r,a,i,l=!1){let o;typeof r=="string"?o=fr(r):(o={...r},Te(!o.pathname||!o.pathname.includes("?"),fd("?","pathname","search",o)),Te(!o.pathname||!o.pathname.includes("#"),fd("#","pathname","hash",o)),Te(!o.search||!o.search.includes("#"),fd("#","search","hash",o)));let c=r===""||o.pathname==="",f=c?"/":o.pathname,m;if(f==null)m=i;else{let b=a.length-1;if(!l&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),b-=1;o.pathname=x.join("/")}m=b>=0?a[b]:"/"}let g=G_(o,m),p=f&&f!=="/"&&f.endsWith("/"),v=(c||f===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var qa=r=>r.join("/").replace(/\/\/+/g,"/"),Y_=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),K_=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,I_=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Gs=class{constructor(r,a,i,l=!1){this.status=r,this.statusText=a||"",this.internal=l,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function qs(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Ys(r){return r.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ry=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Oy(r,a){let i=r;if(typeof i!="string"||!Ny.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let l=i,o=!1;if(Ry)try{let c=new URL(window.location.href),f=i.startsWith("//")?new URL(c.protocol+i):new URL(i),m=wa(f.pathname,a);f.origin===c.origin&&m!=null?i=m+f.search+f.hash:o=!0}catch{ut(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:o,to:i}}var Yr=Symbol("Uninstrumented");function F_(r,a){let i={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};r.forEach(o=>o({id:a.id,index:a.index,path:a.path,instrument(c){let f=Object.keys(i);for(let m of f)c[m]&&i[m].push(c[m])}}));let l={};if(typeof a.lazy=="function"&&i.lazy.length>0){let o=wi(i.lazy,a.lazy,()=>{});o&&(l.lazy=o)}if(typeof a.lazy=="object"){let o=a.lazy;["middleware","loader","action"].forEach(c=>{let f=o[c],m=i[`lazy.${c}`];if(typeof f=="function"&&m.length>0){let g=wi(m,f,()=>{});g&&(l.lazy=Object.assign(l.lazy||{},{[c]:g}))}})}return["loader","action"].forEach(o=>{let c=a[o];if(typeof c=="function"&&i[o].length>0){let f=c[Yr]??c,m=wi(i[o],f,(...g)=>Ep(g[0]));m&&(o==="loader"&&f.hydrate===!0&&(m.hydrate=!0),m[Yr]=f,l[o]=m)}}),a.middleware&&a.middleware.length>0&&i.middleware.length>0&&(l.middleware=a.middleware.map(o=>{let c=o[Yr]??o,f=wi(i.middleware,c,(...m)=>Ep(m[0]));return f?(f[Yr]=c,f):o})),l}function J_(r,a){let i={navigate:[],fetch:[]};if(a.forEach(l=>l({instrument(o){let c=Object.keys(o);for(let f of c)o[f]&&i[f].push(o[f])}})),i.navigate.length>0){let l=r.navigate[Yr]??r.navigate,o=wi(i.navigate,l,(...c)=>{let[f,m]=c;return{to:typeof f=="number"||typeof f=="string"?f:f?Ha(f):".",...jp(r,m??{})}});o&&(o[Yr]=l,r.navigate=o)}if(i.fetch.length>0){let l=r.fetch[Yr]??r.fetch,o=wi(i.fetch,l,(...c)=>{let[f,,m,g]=c;return{href:m??".",fetcherKey:f,...jp(r,g??{})}});o&&(o[Yr]=l,r.fetch=o)}return r}function wi(r,a,i){return r.length===0?null:async(...l)=>{let o=await Cy(r,i(...l),()=>a(...l),r.length-1);if(o.type==="error")throw o.value;return o.value}}async function Cy(r,a,i,l){let o=r[l],c;if(o){let f,m=async()=>(f?console.error("You cannot call instrumented handlers more than once"):f=Cy(r,a,i,l-1),c=await f,Te(c,"Expected a result"),c.type==="error"&&c.value instanceof Error?{status:"error",error:c.value}:{status:"success",error:void 0});try{await o(m,a)}catch(g){console.error("An instrumentation function threw an error:",g)}f||await m(),await f}else try{c={type:"success",value:await i()}}catch(f){c={type:"error",value:f}}return c||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Ep(r){let{request:a,context:i,params:l,unstable_pattern:o}=r;return{request:X_(a),params:{...l},unstable_pattern:o,context:Q_(i)}}function jp(r,a){return{currentUrl:Ha(r.state.location),..."formMethod"in a?{formMethod:a.formMethod}:{},..."formEncType"in a?{formEncType:a.formEncType}:{},..."formData"in a?{formData:a.formData}:{},..."body"in a?{body:a.body}:{}}}function X_(r){return{method:r.method,url:r.url,headers:{get:(...a)=>r.headers.get(...a)}}}function Q_(r){if(W_(r)){let a={...r};return Object.freeze(a),a}else return{get:a=>r.get(a)}}var Z_=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function W_(r){if(r===null||typeof r!="object")return!1;const a=Object.getPrototypeOf(r);return a===Object.prototype||a===null||Object.getOwnPropertyNames(a).sort().join("\0")===Z_}var ky=["POST","PUT","PATCH","DELETE"],eS=new Set(ky),tS=["GET",...ky],aS=new Set(tS),Dy=new Set([301,302,303,307,308]),rS=new Set([307,308]),md={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},nS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ss={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},iS=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),Uy="remix-router-transitions",zy=Symbol("ResetLoaderData");function sS(r){const a=r.window?r.window:typeof window<"u"?window:void 0,i=typeof a<"u"&&typeof a.document<"u"&&typeof a.document.createElement<"u";Te(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let l=r.hydrationRouteProperties||[],o=r.mapRouteProperties||iS,c=o;if(r.unstable_instrumentations){let A=r.unstable_instrumentations;c=M=>({...o(M),...F_(A.map(P=>P.route).filter(Boolean),M)})}let f={},m=$s(r.routes,c,void 0,f),g,p=r.basename||"/";p.startsWith("/")||(p=`/${p}`);let v=r.dataStrategy||dS,b={...r.future},x=null,_=new Set,j=null,T=null,R=null,S=r.hydrationData!=null,U=Vr(m,r.history.location,p),C=!1,J=null,ne;if(U==null&&!r.patchRoutesOnNavigation){let A=ba(404,{pathname:r.history.location.pathname}),{matches:M,route:P}=yo(m);ne=!0,U=M,J={[P.id]:A}}else if(U&&!r.hydrationData&&Zr(U,m,r.history.location.pathname).active&&(U=null),U)if(U.some(A=>A.route.lazy))ne=!1;else if(!U.some(A=>Gd(A.route)))ne=!0;else{let A=r.hydrationData?r.hydrationData.loaderData:null,M=r.hydrationData?r.hydrationData.errors:null;if(M){let P=U.findIndex(Q=>M[Q.route.id]!==void 0);ne=U.slice(0,P+1).every(Q=>!Od(Q.route,A,M))}else ne=U.every(P=>!Od(P.route,A,M))}else{ne=!1,U=[];let A=Zr(null,m,r.history.location.pathname);A.active&&A.matches&&(C=!0,U=A.matches)}let Z,k={historyAction:r.history.action,location:r.history.location,matches:U,initialized:ne,navigation:md,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||J,fetchers:new Map,blockers:new Map},ee="POP",de=null,Re=!1,Ne,Oe=!1,at=new Map,Pe=null,G=!1,B=!1,X=new Set,te=new Map,ye=0,_e=-1,O=new Map,Y=new Set,L=new Map,ae=new Map,he=new Set,Se=new Map,ze,gt=null;function it(){if(x=r.history.listen(({action:A,location:M,delta:P})=>{if(ze){ze(),ze=void 0;return}ut(Se.size===0||P!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Q=Jr({currentLocation:k.location,nextLocation:M,historyAction:A});if(Q&&P!=null){let W=new Promise(fe=>{ze=fe});r.history.go(P*-1),Ga(Q,{state:"blocked",location:M,proceed(){Ga(Q,{state:"proceeding",proceed:void 0,reset:void 0,location:M}),W.then(()=>r.history.go(P))},reset(){let fe=new Map(k.blockers);fe.set(Q,Ss),xt({blockers:fe})}}),de?.resolve(),de=null;return}return Sa(A,M)}),i){RS(a,at);let A=()=>OS(a,at);a.addEventListener("pagehide",A),Pe=()=>a.removeEventListener("pagehide",A)}return k.initialized||Sa("POP",k.location,{initialHydration:!0}),Z}function Kr(){x&&x(),Pe&&Pe(),_.clear(),Ne&&Ne.abort(),k.fetchers.forEach((A,M)=>ki(M)),k.blockers.forEach((A,M)=>Qs(M))}function Tn(A){return _.add(A),()=>_.delete(A)}function xt(A,M={}){A.matches&&(A.matches=A.matches.map(W=>{let fe=f[W.route.id],se=W.route;return se.element!==fe.element||se.errorElement!==fe.errorElement||se.hydrateFallbackElement!==fe.hydrateFallbackElement?{...W,route:fe}:W})),k={...k,...A};let P=[],Q=[];k.fetchers.forEach((W,fe)=>{W.state==="idle"&&(he.has(fe)?P.push(fe):Q.push(fe))}),he.forEach(W=>{!k.fetchers.has(W)&&!te.has(W)&&P.push(W)}),[..._].forEach(W=>W(k,{deletedFetchers:P,newErrors:A.errors??null,viewTransitionOpts:M.viewTransitionOpts,flushSync:M.flushSync===!0})),P.forEach(W=>ki(W)),Q.forEach(W=>k.fetchers.delete(W))}function Va(A,M,{flushSync:P}={}){let Q=k.actionData!=null&&k.navigation.formMethod!=null&&$t(k.navigation.formMethod)&&k.navigation.state==="loading"&&A.state?._isRedirect!==!0,W;M.actionData?Object.keys(M.actionData).length>0?W=M.actionData:W=null:Q?W=k.actionData:W=null;let fe=M.loaderData?zp(k.loaderData,M.loaderData,M.matches||[],M.errors):k.loaderData,se=k.blockers;se.size>0&&(se=new Map(se),se.forEach((ve,ge)=>se.set(ge,Ss)));let ie=G?!1:Zs(A,M.matches||k.matches),le=Re===!0||k.navigation.formMethod!=null&&$t(k.navigation.formMethod)&&A.state?._isRedirect!==!0;g&&(m=g,g=void 0),G||ee==="POP"||(ee==="PUSH"?r.history.push(A,A.state):ee==="REPLACE"&&r.history.replace(A,A.state));let ce;if(ee==="POP"){let ve=at.get(k.location.pathname);ve&&ve.has(A.pathname)?ce={currentLocation:k.location,nextLocation:A}:at.has(A.pathname)&&(ce={currentLocation:A,nextLocation:k.location})}else if(Oe){let ve=at.get(k.location.pathname);ve?ve.add(A.pathname):(ve=new Set([A.pathname]),at.set(k.location.pathname,ve)),ce={currentLocation:k.location,nextLocation:A}}xt({...M,actionData:W,loaderData:fe,historyAction:ee,location:A,initialized:!0,navigation:md,revalidation:"idle",restoreScrollPosition:ie,preventScrollReset:le,blockers:se},{viewTransitionOpts:ce,flushSync:P===!0}),ee="POP",Re=!1,Oe=!1,G=!1,B=!1,de?.resolve(),de=null,gt?.resolve(),gt=null}async function za(A,M){if(de?.resolve(),de=null,typeof A=="number"){de||(de=$p());let Me=de.promise;return r.history.go(A),Me}let P=Rd(k.location,k.matches,p,A,M?.fromRouteId,M?.relative),{path:Q,submission:W,error:fe}=Ap(!1,P,M),se=k.location,ie=Ls(k.location,Q,M&&M.state);ie={...ie,...r.history.encodeLocation(ie)};let le=M&&M.replace!=null?M.replace:void 0,ce="PUSH";le===!0?ce="REPLACE":le===!1||W!=null&&$t(W.formMethod)&&W.formAction===k.location.pathname+k.location.search&&(ce="REPLACE");let ve=M&&"preventScrollReset"in M?M.preventScrollReset===!0:void 0,ge=(M&&M.flushSync)===!0,He=Jr({currentLocation:se,nextLocation:ie,historyAction:ce});if(He){Ga(He,{state:"blocked",location:ie,proceed(){Ga(He,{state:"proceeding",proceed:void 0,reset:void 0,location:ie}),za(A,M)},reset(){let Me=new Map(k.blockers);Me.set(He,Ss),xt({blockers:Me})}});return}await Sa(ce,ie,{submission:W,pendingError:fe,preventScrollReset:ve,replace:M&&M.replace,enableViewTransition:M&&M.viewTransition,flushSync:ge,callSiteDefaultShouldRevalidate:M&&M.unstable_defaultShouldRevalidate})}function Ni(){gt||(gt=$p()),On(),xt({revalidation:"loading"});let A=gt.promise;return k.navigation.state==="submitting"?A:k.navigation.state==="idle"?(Sa(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),A):(Sa(ee||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:Oe===!0}),A)}async function Sa(A,M,P){Ne&&Ne.abort(),Ne=null,ee=A,G=(P&&P.startUninterruptedRevalidation)===!0,Qr(k.location,k.matches),Re=(P&&P.preventScrollReset)===!0,Oe=(P&&P.enableViewTransition)===!0;let Q=g||m,W=P&&P.overrideNavigation,fe=P?.initialHydration&&k.matches&&k.matches.length>0&&!C?k.matches:Vr(Q,M,p),se=(P&&P.flushSync)===!0;if(fe&&k.initialized&&!B&&bS(k.location,M)&&!(P&&P.submission&&$t(P.submission.formMethod))){Va(M,{matches:fe},{flushSync:se});return}let ie=Zr(fe,Q,M.pathname);if(ie.active&&ie.matches&&(fe=ie.matches),!fe){let{error:ct,notFoundMatches:dt,route:Be}=gr(M.pathname);Va(M,{matches:dt,loaderData:{},errors:{[Be.id]:ct}},{flushSync:se});return}Ne=new AbortController;let le=bi(r.history,M,Ne.signal,P&&P.submission),ce=r.getContext?await r.getContext():new xp,ve;if(P&&P.pendingError)ve=[Gr(fe).route.id,{type:"error",error:P.pendingError}];else if(P&&P.submission&&$t(P.submission.formMethod)){let ct=await $o(le,M,P.submission,fe,ce,ie.active,P&&P.initialHydration===!0,{replace:P.replace,flushSync:se});if(ct.shortCircuited)return;if(ct.pendingActionResult){let[dt,Be]=ct.pendingActionResult;if(ia(Be)&&qs(Be.error)&&Be.error.status===404){Ne=null,Va(M,{matches:ct.matches,loaderData:{},errors:{[dt]:Be.error}});return}}fe=ct.matches||fe,ve=ct.pendingActionResult,W=gd(M,P.submission),se=!1,ie.active=!1,le=bi(r.history,le.url,le.signal)}let{shortCircuited:ge,matches:He,loaderData:Me,errors:lt}=await Js(le,M,fe,ce,ie.active,W,P&&P.submission,P&&P.fetcherSubmission,P&&P.replace,P&&P.initialHydration===!0,se,ve,P&&P.callSiteDefaultShouldRevalidate);ge||(Ne=null,Va(M,{matches:He||fe,...Mp(ve),loaderData:Me,errors:lt}))}async function $o(A,M,P,Q,W,fe,se,ie={}){On();let le=NS(M,P);if(xt({navigation:le},{flushSync:ie.flushSync===!0}),fe){let ge=await pr(Q,M.pathname,A.signal);if(ge.type==="aborted")return{shortCircuited:!0};if(ge.type==="error"){if(ge.partialMatches.length===0){let{matches:Me,route:lt}=yo(m);return{matches:Me,pendingActionResult:[lt.id,{type:"error",error:ge.error}]}}let He=Gr(ge.partialMatches).route.id;return{matches:ge.partialMatches,pendingActionResult:[He,{type:"error",error:ge.error}]}}else if(ge.matches)Q=ge.matches;else{let{notFoundMatches:He,error:Me,route:lt}=gr(M.pathname);return{matches:He,pendingActionResult:[lt.id,{type:"error",error:Me}]}}}let ce,ve=xo(Q,M);if(!ve.route.action&&!ve.route.lazy)ce={type:"error",error:ba(405,{method:A.method,pathname:M.pathname,routeId:ve.route.id})};else{let ge=Ei(c,f,A,Q,ve,se?[]:l,W),He=await Ir(A,ge,W,null);if(ce=He[ve.route.id],!ce){for(let Me of Q)if(He[Me.route.id]){ce=He[Me.route.id];break}}if(A.signal.aborted)return{shortCircuited:!0}}if(jn(ce)){let ge;return ie&&ie.replace!=null?ge=ie.replace:ge=kp(ce.response.headers.get("Location"),new URL(A.url),p,r.history)===k.location.pathname+k.location.search,await pt(A,ce,!0,{submission:P,replace:ge}),{shortCircuited:!0}}if(ia(ce)){let ge=Gr(Q,ve.route.id);return(ie&&ie.replace)!==!0&&(ee="PUSH"),{matches:Q,pendingActionResult:[ge.route.id,ce,ve.route.id]}}return{matches:Q,pendingActionResult:[ve.route.id,ce]}}async function Js(A,M,P,Q,W,fe,se,ie,le,ce,ve,ge,He){let Me=fe||gd(M,se),lt=se||ie||Lp(Me),ct=!G&&!ce;if(W){if(ct){let yt=Rn(ge);xt({navigation:Me,...yt!==void 0?{actionData:yt}:{}},{flushSync:ve})}let Le=await pr(P,M.pathname,A.signal);if(Le.type==="aborted")return{shortCircuited:!0};if(Le.type==="error"){if(Le.partialMatches.length===0){let{matches:Ta,route:Ot}=yo(m);return{matches:Ta,loaderData:{},errors:{[Ot.id]:Le.error}}}let yt=Gr(Le.partialMatches).route.id;return{matches:Le.partialMatches,loaderData:{},errors:{[yt]:Le.error}}}else if(Le.matches)P=Le.matches;else{let{error:yt,notFoundMatches:Ta,route:Ot}=gr(M.pathname);return{matches:Ta,loaderData:{},errors:{[Ot.id]:yt}}}}let dt=g||m,{dsMatches:Be,revalidatingFetchers:Tt}=Np(A,Q,c,f,r.history,k,P,lt,M,ce?[]:l,ce===!0,B,X,he,L,Y,dt,p,r.patchRoutesOnNavigation!=null,ge,He);if(_e=++ye,!r.dataStrategy&&!Be.some(Le=>Le.shouldLoad)&&!Be.some(Le=>Le.route.middleware&&Le.route.middleware.length>0)&&Tt.length===0){let Le=Bt();return Va(M,{matches:P,loaderData:{},errors:ge&&ia(ge[1])?{[ge[0]]:ge[1].error}:null,...Mp(ge),...Le?{fetchers:new Map(k.fetchers)}:{}},{flushSync:ve}),{shortCircuited:!0}}if(ct){let Le={};if(!W){Le.navigation=Me;let yt=Rn(ge);yt!==void 0&&(Le.actionData=yt)}Tt.length>0&&(Le.fetchers=Ti(Tt)),xt(Le,{flushSync:ve})}Tt.forEach(Le=>{st(Le.key),Le.controller&&te.set(Le.key,Le.controller)});let Pt=()=>Tt.forEach(Le=>st(Le.key));Ne&&Ne.signal.addEventListener("abort",Pt);let{loaderResults:rt,fetcherResults:Aa}=await Oi(Be,Tt,A,Q);if(A.signal.aborted)return{shortCircuited:!0};Ne&&Ne.signal.removeEventListener("abort",Pt),Tt.forEach(Le=>te.delete(Le.key));let Xt=vo(rt);if(Xt)return await pt(A,Xt.result,!0,{replace:le}),{shortCircuited:!0};if(Xt=vo(Aa),Xt)return Y.add(Xt.key),await pt(A,Xt.result,!0,{replace:le}),{shortCircuited:!0};let{loaderData:Na,errors:ua}=Up(k,P,rt,ge,Tt,Aa);ce&&k.errors&&(ua={...k.errors,...ua});let Ka=Bt(),Wr=Xs(_e),en=Ka||Wr||Tt.length>0;return{matches:P,loaderData:Na,errors:ua,...en?{fetchers:new Map(k.fetchers)}:{}}}function Rn(A){if(A&&!ia(A[1]))return{[A[0]]:A[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Ti(A){return A.forEach(M=>{let P=k.fetchers.get(M.key),Q=Es(void 0,P?P.data:void 0);k.fetchers.set(M.key,Q)}),new Map(k.fetchers)}async function Ri(A,M,P,Q){st(A);let W=(Q&&Q.flushSync)===!0,fe=g||m,se=Rd(k.location,k.matches,p,P,M,Q?.relative),ie=Vr(fe,se,p),le=Zr(ie,fe,se);if(le.active&&le.matches&&(ie=le.matches),!ie){Ea(A,M,ba(404,{pathname:se}),{flushSync:W});return}let{path:ce,submission:ve,error:ge}=Ap(!0,se,Q);if(ge){Ea(A,M,ge,{flushSync:W});return}let He=r.getContext?await r.getContext():new xp,Me=(Q&&Q.preventScrollReset)===!0;if(ve&&$t(ve.formMethod)){await qo(A,M,ce,ie,He,le.active,W,Me,ve,Q&&Q.unstable_defaultShouldRevalidate);return}L.set(A,{routeId:M,path:ce}),await Ho(A,M,ce,ie,He,le.active,W,Me,ve)}async function qo(A,M,P,Q,W,fe,se,ie,le,ce){On(),L.delete(A);let ve=k.fetchers.get(A);Ht(A,TS(le,ve),{flushSync:se});let ge=new AbortController,He=bi(r.history,P,ge.signal,le);if(fe){let $e=await pr(Q,new URL(He.url).pathname,He.signal,A);if($e.type==="aborted")return;if($e.type==="error"){Ea(A,M,$e.error,{flushSync:se});return}else if($e.matches)Q=$e.matches;else{Ea(A,M,ba(404,{pathname:P}),{flushSync:se});return}}let Me=xo(Q,P);if(!Me.route.action&&!Me.route.lazy){let $e=ba(405,{method:le.formMethod,pathname:P,routeId:M});Ea(A,M,$e,{flushSync:se});return}te.set(A,ge);let lt=ye,ct=Ei(c,f,He,Q,Me,l,W),dt=await Ir(He,ct,W,A),Be=dt[Me.route.id];if(!Be){for(let $e of ct)if(dt[$e.route.id]){Be=dt[$e.route.id];break}}if(He.signal.aborted){te.get(A)===ge&&te.delete(A);return}if(he.has(A)){if(jn(Be)||ia(Be)){Ht(A,cr(void 0));return}}else{if(jn(Be))if(te.delete(A),_e>lt){Ht(A,cr(void 0));return}else return Y.add(A),Ht(A,Es(le)),pt(He,Be,!1,{fetcherSubmission:le,preventScrollReset:ie});if(ia(Be)){Ea(A,M,Be.error);return}}let Tt=k.navigation.location||k.location,Pt=bi(r.history,Tt,ge.signal),rt=g||m,Aa=k.navigation.state!=="idle"?Vr(rt,k.navigation.location,p):k.matches;Te(Aa,"Didn't find any matches after fetcher action");let Xt=++ye;O.set(A,Xt);let Na=Es(le,Be.data);k.fetchers.set(A,Na);let{dsMatches:ua,revalidatingFetchers:Ka}=Np(Pt,W,c,f,r.history,k,Aa,le,Tt,l,!1,B,X,he,L,Y,rt,p,r.patchRoutesOnNavigation!=null,[Me.route.id,Be],ce);Ka.filter($e=>$e.key!==A).forEach($e=>{let tn=$e.key,el=k.fetchers.get(tn),Di=Es(void 0,el?el.data:void 0);k.fetchers.set(tn,Di),st(tn),$e.controller&&te.set(tn,$e.controller)}),xt({fetchers:new Map(k.fetchers)});let Wr=()=>Ka.forEach($e=>st($e.key));ge.signal.addEventListener("abort",Wr);let{loaderResults:en,fetcherResults:Le}=await Oi(ua,Ka,Pt,W);if(ge.signal.aborted)return;if(ge.signal.removeEventListener("abort",Wr),O.delete(A),te.delete(A),Ka.forEach($e=>te.delete($e.key)),k.fetchers.has(A)){let $e=cr(Be.data);k.fetchers.set(A,$e)}let yt=vo(en);if(yt)return pt(Pt,yt.result,!1,{preventScrollReset:ie});if(yt=vo(Le),yt)return Y.add(yt.key),pt(Pt,yt.result,!1,{preventScrollReset:ie});let{loaderData:Ta,errors:Ot}=Up(k,Aa,en,void 0,Ka,Le);Xs(Xt),k.navigation.state==="loading"&&Xt>_e?(Te(ee,"Expected pending action"),Ne&&Ne.abort(),Va(k.navigation.location,{matches:Aa,loaderData:Ta,errors:Ot,fetchers:new Map(k.fetchers)})):(xt({errors:Ot,loaderData:zp(k.loaderData,Ta,Aa,Ot),fetchers:new Map(k.fetchers)}),B=!1)}async function Ho(A,M,P,Q,W,fe,se,ie,le){let ce=k.fetchers.get(A);Ht(A,Es(le,ce?ce.data:void 0),{flushSync:se});let ve=new AbortController,ge=bi(r.history,P,ve.signal);if(fe){let Be=await pr(Q,new URL(ge.url).pathname,ge.signal,A);if(Be.type==="aborted")return;if(Be.type==="error"){Ea(A,M,Be.error,{flushSync:se});return}else if(Be.matches)Q=Be.matches;else{Ea(A,M,ba(404,{pathname:P}),{flushSync:se});return}}let He=xo(Q,P);te.set(A,ve);let Me=ye,lt=Ei(c,f,ge,Q,He,l,W),dt=(await Ir(ge,lt,W,A))[He.route.id];if(te.get(A)===ve&&te.delete(A),!ge.signal.aborted){if(he.has(A)){Ht(A,cr(void 0));return}if(jn(dt))if(_e>Me){Ht(A,cr(void 0));return}else{Y.add(A),await pt(ge,dt,!1,{preventScrollReset:ie});return}if(ia(dt)){Ea(A,M,dt.error);return}Ht(A,cr(dt.data))}}async function pt(A,M,P,{submission:Q,fetcherSubmission:W,preventScrollReset:fe,replace:se}={}){P||(de?.resolve(),de=null),M.response.headers.has("X-Remix-Revalidate")&&(B=!0);let ie=M.response.headers.get("Location");Te(ie,"Expected a Location header on the redirect Response"),ie=kp(ie,new URL(A.url),p,r.history);let le=Ls(k.location,ie,{_isRedirect:!0});if(i){let lt=!1;if(M.response.headers.has("X-Remix-Reload-Document"))lt=!0;else if(Do(ie)){const ct=Ey(ie,!0);lt=ct.origin!==a.location.origin||wa(ct.pathname,p)==null}if(lt){se?a.location.replace(ie):a.location.assign(ie);return}}Ne=null;let ce=se===!0||M.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ve,formAction:ge,formEncType:He}=k.navigation;!Q&&!W&&ve&&ge&&He&&(Q=Lp(k.navigation));let Me=Q||W;if(rS.has(M.response.status)&&Me&&$t(Me.formMethod))await Sa(ce,le,{submission:{...Me,formAction:ie},preventScrollReset:fe||Re,enableViewTransition:P?Oe:void 0});else{let lt=gd(le,Q);await Sa(ce,le,{overrideNavigation:lt,fetcherSubmission:W,preventScrollReset:fe||Re,enableViewTransition:P?Oe:void 0})}}async function Ir(A,M,P,Q){let W,fe={};try{W=await fS(v,A,M,Q,P,!1)}catch(se){return M.filter(ie=>ie.shouldLoad).forEach(ie=>{fe[ie.route.id]={type:"error",error:se}}),fe}if(A.signal.aborted)return fe;if(!$t(A.method))for(let se of M){if(W[se.route.id]?.type==="error")break;!W.hasOwnProperty(se.route.id)&&!k.loaderData.hasOwnProperty(se.route.id)&&(!k.errors||!k.errors.hasOwnProperty(se.route.id))&&se.shouldCallHandler()&&(W[se.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${se.route.id}`)})}for(let[se,ie]of Object.entries(W))if(SS(ie)){let le=ie.result;fe[se]={type:"redirect",response:yS(le,A,se,M,p)}}else fe[se]=await pS(ie);return fe}async function Oi(A,M,P,Q){let W=Ir(P,A,Q,null),fe=Promise.all(M.map(async le=>{if(le.matches&&le.match&&le.request&&le.controller){let ve=(await Ir(le.request,le.matches,Q,le.key))[le.match.route.id];return{[le.key]:ve}}else return Promise.resolve({[le.key]:{type:"error",error:ba(404,{pathname:le.path})}})})),se=await W,ie=(await fe).reduce((le,ce)=>Object.assign(le,ce),{});return{loaderResults:se,fetcherResults:ie}}function On(){B=!0,L.forEach((A,M)=>{te.has(M)&&X.add(M),st(M)})}function Ht(A,M,P={}){k.fetchers.set(A,M),xt({fetchers:new Map(k.fetchers)},{flushSync:(P&&P.flushSync)===!0})}function Ea(A,M,P,Q={}){let W=Gr(k.matches,M);ki(A),xt({errors:{[W.route.id]:P},fetchers:new Map(k.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function Ci(A){return ae.set(A,(ae.get(A)||0)+1),he.has(A)&&he.delete(A),k.fetchers.get(A)||nS}function Po(A,M){st(A,M?.reason),Ht(A,cr(null))}function ki(A){let M=k.fetchers.get(A);te.has(A)&&!(M&&M.state==="loading"&&O.has(A))&&st(A),L.delete(A),O.delete(A),Y.delete(A),he.delete(A),X.delete(A),k.fetchers.delete(A)}function Fr(A){let M=(ae.get(A)||0)-1;M<=0?(ae.delete(A),he.add(A)):ae.set(A,M),xt({fetchers:new Map(k.fetchers)})}function st(A,M){let P=te.get(A);P&&(P.abort(M),te.delete(A))}function ja(A){for(let M of A){let P=Ci(M),Q=cr(P.data);k.fetchers.set(M,Q)}}function Bt(){let A=[],M=!1;for(let P of Y){let Q=k.fetchers.get(P);Te(Q,`Expected fetcher: ${P}`),Q.state==="loading"&&(Y.delete(P),A.push(P),M=!0)}return ja(A),M}function Xs(A){let M=[];for(let[P,Q]of O)if(Q<A){let W=k.fetchers.get(P);Te(W,`Expected fetcher: ${P}`),W.state==="loading"&&(st(P),O.delete(P),M.push(P))}return ja(M),M.length>0}function Vo(A,M){let P=k.blockers.get(A)||Ss;return Se.get(A)!==M&&Se.set(A,M),P}function Qs(A){k.blockers.delete(A),Se.delete(A)}function Ga(A,M){let P=k.blockers.get(A)||Ss;Te(P.state==="unblocked"&&M.state==="blocked"||P.state==="blocked"&&M.state==="blocked"||P.state==="blocked"&&M.state==="proceeding"||P.state==="blocked"&&M.state==="unblocked"||P.state==="proceeding"&&M.state==="unblocked",`Invalid blocker state transition: ${P.state} -> ${M.state}`);let Q=new Map(k.blockers);Q.set(A,M),xt({blockers:Q})}function Jr({currentLocation:A,nextLocation:M,historyAction:P}){if(Se.size===0)return;Se.size>1&&ut(!1,"A router only supports one blocker at a time");let Q=Array.from(Se.entries()),[W,fe]=Q[Q.length-1],se=k.blockers.get(W);if(!(se&&se.state==="proceeding")&&fe({currentLocation:A,nextLocation:M,historyAction:P}))return W}function gr(A){let M=ba(404,{pathname:A}),P=g||m,{matches:Q,route:W}=yo(P);return{notFoundMatches:Q,route:W,error:M}}function Ya(A,M,P){if(j=A,R=M,T=P||null,!S&&k.navigation===md){S=!0;let Q=Zs(k.location,k.matches);Q!=null&&xt({restoreScrollPosition:Q})}return()=>{j=null,R=null,T=null}}function Xr(A,M){return T&&T(A,M.map(Q=>O_(Q,k.loaderData)))||A.key}function Qr(A,M){if(j&&R){let P=Xr(A,M);j[P]=R()}}function Zs(A,M){if(j){let P=Xr(A,M),Q=j[P];if(typeof Q=="number")return Q}return null}function Zr(A,M,P){if(r.patchRoutesOnNavigation)if(A){if(Object.keys(A[0].params).length>0)return{active:!0,matches:Ts(M,P,p,!0)}}else return{active:!0,matches:Ts(M,P,p,!0)||[]};return{active:!1,matches:null}}async function pr(A,M,P,Q){if(!r.patchRoutesOnNavigation)return{type:"success",matches:A};let W=A;for(;;){let fe=g==null,se=g||m,ie=f;try{await r.patchRoutesOnNavigation({signal:P,path:M,matches:W,fetcherKey:Q,patch:(ve,ge)=>{P.aborted||Tp(ve,ge,se,ie,c,!1)}})}catch(ve){return{type:"error",error:ve,partialMatches:W}}finally{fe&&!P.aborted&&(m=[...m])}if(P.aborted)return{type:"aborted"};let le=Vr(se,M,p),ce=null;if(le){if(Object.keys(le[0].params).length===0)return{type:"success",matches:le};if(ce=Ts(se,M,p,!0),!(ce&&W.length<ce.length&&yr(W,ce.slice(0,W.length))))return{type:"success",matches:le}}if(ce||(ce=Ts(se,M,p,!0)),!ce||yr(W,ce))return{type:"success",matches:null};W=ce}}function yr(A,M){return A.length===M.length&&A.every((P,Q)=>P.route.id===M[Q].route.id)}function Go(A){f={},g=$s(A,c,void 0,f)}function Ws(A,M,P=!1){let Q=g==null;Tp(A,M,g||m,f,c,P),Q&&(m=[...m],xt({}))}return Z={get basename(){return p},get future(){return b},get state(){return k},get routes(){return m},get window(){return a},initialize:it,subscribe:Tn,enableScrollRestoration:Ya,navigate:za,fetch:Ri,revalidate:Ni,createHref:A=>r.history.createHref(A),encodeLocation:A=>r.history.encodeLocation(A),getFetcher:Ci,resetFetcher:Po,deleteFetcher:Fr,dispose:Kr,getBlocker:Vo,deleteBlocker:Qs,patchRoutes:Ws,_internalFetchControllers:te,_internalSetRoutes:Go,_internalSetStateDoNotUseOrYouWillBreakYourApp(A){xt(A)}},r.unstable_instrumentations&&(Z=J_(Z,r.unstable_instrumentations.map(A=>A.router).filter(Boolean))),Z}function lS(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Rd(r,a,i,l,o,c){let f,m;if(o){f=[];for(let p of a)if(f.push(p),p.route.id===o){m=p;break}}else f=a,m=a[a.length-1];let g=zo(l||".",Uo(f),wa(r.pathname,i)||r.pathname,c==="path");if(l==null&&(g.search=r.search,g.hash=r.hash),(l==null||l===""||l===".")&&m){let p=Kd(g.search);if(m.route.index&&!p)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&p){let v=new URLSearchParams(g.search),b=v.getAll("index");v.delete("index"),b.filter(_=>_).forEach(_=>v.append("index",_));let x=v.toString();g.search=x?`?${x}`:""}}return i!=="/"&&(g.pathname=V_({basename:i,pathname:g.pathname})),Ha(g)}function Ap(r,a,i){if(!i||!lS(i))return{path:a};if(i.formMethod&&!AS(i.formMethod))return{path:a,error:ba(405,{method:i.formMethod})};let l=()=>({path:a,error:ba(400,{type:"invalid-body"})}),c=(i.formMethod||"get").toUpperCase(),f=Hy(a);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!$t(c))return l();let b=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((x,[_,j])=>`${x}${_}=${j}
`,""):String(i.body);return{path:a,submission:{formMethod:c,formAction:f,formEncType:i.formEncType,formData:void 0,json:void 0,text:b}}}else if(i.formEncType==="application/json"){if(!$t(c))return l();try{let b=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:a,submission:{formMethod:c,formAction:f,formEncType:i.formEncType,formData:void 0,json:b,text:void 0}}}catch{return l()}}}Te(typeof FormData=="function","FormData is not available in this environment");let m,g;if(i.formData)m=kd(i.formData),g=i.formData;else if(i.body instanceof FormData)m=kd(i.body),g=i.body;else if(i.body instanceof URLSearchParams)m=i.body,g=Dp(m);else if(i.body==null)m=new URLSearchParams,g=new FormData;else try{m=new URLSearchParams(i.body),g=Dp(m)}catch{return l()}let p={formMethod:c,formAction:f,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if($t(p.formMethod))return{path:a,submission:p};let v=fr(a);return r&&v.search&&Kd(v.search)&&m.append("index",""),v.search=`?${m}`,{path:Ha(v),submission:p}}function Np(r,a,i,l,o,c,f,m,g,p,v,b,x,_,j,T,R,S,U,C,J){let ne=C?ia(C[1])?C[1].error:C[1].data:void 0,Z=o.createURL(c.location),k=o.createURL(g),ee;if(v&&c.errors){let G=Object.keys(c.errors)[0];ee=f.findIndex(B=>B.route.id===G)}else if(C&&ia(C[1])){let G=C[0];ee=f.findIndex(B=>B.route.id===G)-1}let de=C?C[1].statusCode:void 0,Re=de&&de>=400,Ne={currentUrl:Z,currentParams:c.matches[0]?.params||{},nextUrl:k,nextParams:f[0].params,...m,actionResult:ne,actionStatus:de},Oe=Ys(f),at=f.map((G,B)=>{let{route:X}=G,te=null;if(ee!=null&&B>ee?te=!1:X.lazy?te=!0:Gd(X)?v?te=Od(X,c.loaderData,c.errors):oS(c.loaderData,c.matches[B],G)&&(te=!0):te=!1,te!==null)return Cd(i,l,r,Oe,G,p,a,te);let ye=!1;typeof J=="boolean"?ye=J:Re?ye=!1:(b||Z.pathname+Z.search===k.pathname+k.search||Z.search!==k.search||uS(c.matches[B],G))&&(ye=!0);let _e={...Ne,defaultShouldRevalidate:ye},O=Cs(G,_e);return Cd(i,l,r,Oe,G,p,a,O,_e,J)}),Pe=[];return j.forEach((G,B)=>{if(v||!f.some(ae=>ae.route.id===G.routeId)||_.has(B))return;let X=c.fetchers.get(B),te=X&&X.state!=="idle"&&X.data===void 0,ye=Vr(R,G.path,S);if(!ye){if(U&&te)return;Pe.push({key:B,routeId:G.routeId,path:G.path,matches:null,match:null,request:null,controller:null});return}if(T.has(B))return;let _e=xo(ye,G.path),O=new AbortController,Y=bi(o,G.path,O.signal),L=null;if(x.has(B))x.delete(B),L=Ei(i,l,Y,ye,_e,p,a);else if(te)b&&(L=Ei(i,l,Y,ye,_e,p,a));else{let ae;typeof J=="boolean"?ae=J:Re?ae=!1:ae=b;let he={...Ne,defaultShouldRevalidate:ae};Cs(_e,he)&&(L=Ei(i,l,Y,ye,_e,p,a,he))}L&&Pe.push({key:B,routeId:G.routeId,path:G.path,matches:L,match:_e,request:Y,controller:O})}),{dsMatches:at,revalidatingFetchers:Pe}}function Gd(r){return r.loader!=null||r.middleware!=null&&r.middleware.length>0}function Od(r,a,i){if(r.lazy)return!0;if(!Gd(r))return!1;let l=a!=null&&r.id in a,o=i!=null&&i[r.id]!==void 0;return!l&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!l&&!o}function oS(r,a,i){let l=!a||i.route.id!==a.route.id,o=!r.hasOwnProperty(i.route.id);return l||o}function uS(r,a){let i=r.route.path;return r.pathname!==a.pathname||i!=null&&i.endsWith("*")&&r.params["*"]!==a.params["*"]}function Cs(r,a){if(r.route.shouldRevalidate){let i=r.route.shouldRevalidate(a);if(typeof i=="boolean")return i}return a.defaultShouldRevalidate}function Tp(r,a,i,l,o,c){let f;if(r){let p=l[r];Te(p,`No route found to patch children into: routeId = ${r}`),p.children||(p.children=[]),f=p.children}else f=i;let m=[],g=[];if(a.forEach(p=>{let v=f.find(b=>My(p,b));v?g.push({existingRoute:v,newRoute:p}):m.push(p)}),m.length>0){let p=$s(m,o,[r||"_","patch",String(f?.length||"0")],l);f.push(...p)}if(c&&g.length>0)for(let p=0;p<g.length;p++){let{existingRoute:v,newRoute:b}=g[p],x=v,[_]=$s([b],o,[],{},!0);Object.assign(x,{element:_.element?_.element:x.element,errorElement:_.errorElement?_.errorElement:x.errorElement,hydrateFallbackElement:_.hydrateFallbackElement?_.hydrateFallbackElement:x.hydrateFallbackElement})}}function My(r,a){return"id"in r&&"id"in a&&r.id===a.id?!0:r.index===a.index&&r.path===a.path&&r.caseSensitive===a.caseSensitive?(!r.children||r.children.length===0)&&(!a.children||a.children.length===0)?!0:r.children.every((i,l)=>a.children?.some(o=>My(i,o))):!1}var Rp=new WeakMap,By=({key:r,route:a,manifest:i,mapRouteProperties:l})=>{let o=i[a.id];if(Te(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let c=o.lazy[r];if(!c)return;let f=Rp.get(o);f||(f={},Rp.set(o,f));let m=f[r];if(m)return m;let g=(async()=>{let p=A_(r),b=o[r]!==void 0&&r!=="hasErrorBoundary";if(p)ut(!p,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),f[r]=Promise.resolve();else if(b)ut(!1,`Route "${o.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let x=await c();x!=null&&(Object.assign(o,{[r]:x}),Object.assign(o,l(o)))}typeof o.lazy=="object"&&(o.lazy[r]=void 0,Object.values(o.lazy).every(x=>x===void 0)&&(o.lazy=void 0))})();return f[r]=g,g},Op=new WeakMap;function cS(r,a,i,l,o){let c=i[r.id];if(Te(c,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let v=Op.get(c);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let b=(async()=>{Te(typeof r.lazy=="function","No lazy route function found");let x=await r.lazy(),_={};for(let j in x){let T=x[j];if(T===void 0)continue;let R=T_(j),U=c[j]!==void 0&&j!=="hasErrorBoundary";R?ut(!R,"Route property "+j+" is not a supported property to be returned from a lazy route function. This property will be ignored."):U?ut(!U,`Route "${c.id}" has a static property "${j}" defined but its lazy function is also returning a value for this property. The lazy route property "${j}" will be ignored.`):_[j]=T}Object.assign(c,_),Object.assign(c,{...l(c),lazy:void 0})})();return Op.set(c,b),b.catch(()=>{}),{lazyRoutePromise:b,lazyHandlerPromise:b}}let f=Object.keys(r.lazy),m=[],g;for(let v of f){if(o&&o.includes(v))continue;let b=By({key:v,route:r,manifest:i,mapRouteProperties:l});b&&(m.push(b),v===a&&(g=b))}let p=m.length>0?Promise.all(m).then(()=>{}):void 0;return p?.catch(()=>{}),g?.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:g}}async function Cp(r){let a=r.matches.filter(o=>o.shouldLoad),i={};return(await Promise.all(a.map(o=>o.resolve()))).forEach((o,c)=>{i[a[c].route.id]=o}),i}async function dS(r){return r.matches.some(a=>a.route.middleware)?Ly(r,()=>Cp(r)):Cp(r)}function Ly(r,a){return hS(r,a,l=>{if(jS(l))throw l;return l},wS,i);function i(l,o,c){if(c)return Promise.resolve(Object.assign(c.value,{[o]:{type:"error",result:l}}));{let{matches:f}=r,m=Math.min(Math.max(f.findIndex(p=>p.route.id===o),0),Math.max(f.findIndex(p=>p.shouldCallHandler()),0)),g=Gr(f,f[m].route.id).route.id;return Promise.resolve({[g]:{type:"error",result:l}})}}}async function hS(r,a,i,l,o){let{matches:c,request:f,params:m,context:g,unstable_pattern:p}=r,v=c.flatMap(x=>x.route.middleware?x.route.middleware.map(_=>[x.route.id,_]):[]);return await $y({request:f,params:m,context:g,unstable_pattern:p},v,a,i,l,o)}async function $y(r,a,i,l,o,c,f=0){let{request:m}=r;if(m.signal.aborted)throw m.signal.reason??new Error(`Request aborted: ${m.method} ${m.url}`);let g=a[f];if(!g)return await i();let[p,v]=g,b,x=async()=>{if(b)throw new Error("You may only call `next()` once per middleware");try{return b={value:await $y(r,a,i,l,o,c,f+1)},b.value}catch(_){return b={value:await c(_,p,b)},b.value}};try{let _=await v(r,x),j=_!=null?l(_):void 0;return o(j)?j:b?j??b.value:(b={value:await x()},b.value)}catch(_){return await c(_,p,b)}}function qy(r,a,i,l,o){let c=By({key:"middleware",route:l.route,manifest:a,mapRouteProperties:r}),f=cS(l.route,$t(i.method)?"action":"loader",a,r,o);return{middleware:c,route:f.lazyRoutePromise,handler:f.lazyHandlerPromise}}function Cd(r,a,i,l,o,c,f,m,g=null,p){let v=!1,b=qy(r,a,i,o,c);return{...o,_lazyPromises:b,shouldLoad:m,shouldRevalidateArgs:g,shouldCallHandler(x){return v=!0,g?typeof p=="boolean"?Cs(o,{...g,defaultShouldRevalidate:p}):typeof x=="boolean"?Cs(o,{...g,defaultShouldRevalidate:x}):Cs(o,g):m},resolve(x){let{lazy:_,loader:j,middleware:T}=o.route,R=v||m||x&&!$t(i.method)&&(_||j),S=T&&T.length>0&&!j&&!_;return R&&($t(i.method)||!S)?mS({request:i,unstable_pattern:l,match:o,lazyHandlerPromise:b?.handler,lazyRoutePromise:b?.route,handlerOverride:x,scopedContext:f}):Promise.resolve({type:"data",result:void 0})}}}function Ei(r,a,i,l,o,c,f,m=null){return l.map(g=>g.route.id!==o.route.id?{...g,shouldLoad:!1,shouldRevalidateArgs:m,shouldCallHandler:()=>!1,_lazyPromises:qy(r,a,i,g,c),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Cd(r,a,i,Ys(l),g,c,f,!0,m))}async function fS(r,a,i,l,o,c){i.some(p=>p._lazyPromises?.middleware)&&await Promise.all(i.map(p=>p._lazyPromises?.middleware));let f={request:a,unstable_pattern:Ys(i),params:i[0].params,context:o,matches:i},g=await r({...f,fetcherKey:l,runClientMiddleware:p=>{let v=f;return Ly(v,()=>p({...v,fetcherKey:l,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(i.flatMap(p=>[p._lazyPromises?.handler,p._lazyPromises?.route]))}catch{}return g}async function mS({request:r,unstable_pattern:a,match:i,lazyHandlerPromise:l,lazyRoutePromise:o,handlerOverride:c,scopedContext:f}){let m,g,p=$t(r.method),v=p?"action":"loader",b=x=>{let _,j=new Promise((S,U)=>_=U);g=()=>_(),r.signal.addEventListener("abort",g);let T=S=>typeof x!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${v}" [routeId: ${i.route.id}]`)):x({request:r,unstable_pattern:a,params:i.params,context:f},...S!==void 0?[S]:[]),R=(async()=>{try{return{type:"data",result:await(c?c(U=>T(U)):T())}}catch(S){return{type:"error",result:S}}})();return Promise.race([R,j])};try{let x=p?i.route.action:i.route.loader;if(l||o)if(x){let _,[j]=await Promise.all([b(x).catch(T=>{_=T}),l,o]);if(_!==void 0)throw _;m=j}else{await l;let _=p?i.route.action:i.route.loader;if(_)[m]=await Promise.all([b(_),o]);else if(v==="action"){let j=new URL(r.url),T=j.pathname+j.search;throw ba(405,{method:r.method,pathname:T,routeId:i.route.id})}else return{type:"data",result:void 0}}else if(x)m=await b(x);else{let _=new URL(r.url),j=_.pathname+_.search;throw ba(404,{pathname:j})}}catch(x){return{type:"error",result:x}}finally{g&&r.signal.removeEventListener("abort",g)}return m}async function gS(r){let a=r.headers.get("Content-Type");return a&&/\bapplication\/json\b/.test(a)?r.body==null?null:r.json():r.text()}async function pS(r){let{result:a,type:i}=r;if(Yd(a)){let l;try{l=await gS(a)}catch(o){return{type:"error",error:o}}return i==="error"?{type:"error",error:new Gs(a.status,a.statusText,l),statusCode:a.status,headers:a.headers}:{type:"data",data:l,statusCode:a.status,headers:a.headers}}return i==="error"?Bp(a)?a.data instanceof Error?{type:"error",error:a.data,statusCode:a.init?.status,headers:a.init?.headers?new Headers(a.init.headers):void 0}:{type:"error",error:xS(a),statusCode:qs(a)?a.status:void 0,headers:a.init?.headers?new Headers(a.init.headers):void 0}:{type:"error",error:a,statusCode:qs(a)?a.status:void 0}:Bp(a)?{type:"data",data:a.data,statusCode:a.init?.status,headers:a.init?.headers?new Headers(a.init.headers):void 0}:{type:"data",data:a}}function yS(r,a,i,l,o){let c=r.headers.get("Location");if(Te(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!Do(c)){let f=l.slice(0,l.findIndex(m=>m.route.id===i)+1);c=Rd(new URL(a.url),f,o,c),r.headers.set("Location",c)}return r}function kp(r,a,i,l){let o=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Do(r)){let c=r,f=c.startsWith("//")?new URL(a.protocol+c):new URL(c);if(o.includes(f.protocol))throw new Error("Invalid redirect location");let m=wa(f.pathname,i)!=null;if(f.origin===a.origin&&m)return f.pathname+f.search+f.hash}try{let c=l.createURL(r);if(o.includes(c.protocol))throw new Error("Invalid redirect location")}catch{}return r}function bi(r,a,i,l){let o=r.createURL(Hy(a)).toString(),c={signal:i};if(l&&$t(l.formMethod)){let{formMethod:f,formEncType:m}=l;c.method=f.toUpperCase(),m==="application/json"?(c.headers=new Headers({"Content-Type":m}),c.body=JSON.stringify(l.json)):m==="text/plain"?c.body=l.text:m==="application/x-www-form-urlencoded"&&l.formData?c.body=kd(l.formData):c.body=l.formData}return new Request(o,c)}function kd(r){let a=new URLSearchParams;for(let[i,l]of r.entries())a.append(i,typeof l=="string"?l:l.name);return a}function Dp(r){let a=new FormData;for(let[i,l]of r.entries())a.append(i,l);return a}function vS(r,a,i,l=!1,o=!1){let c={},f=null,m,g=!1,p={},v=i&&ia(i[1])?i[1].error:void 0;return r.forEach(b=>{if(!(b.route.id in a))return;let x=b.route.id,_=a[x];if(Te(!jn(_),"Cannot handle redirect results in processLoaderData"),ia(_)){let j=_.error;if(v!==void 0&&(j=v,v=void 0),f=f||{},o)f[x]=j;else{let T=Gr(r,x);f[T.route.id]==null&&(f[T.route.id]=j)}l||(c[x]=zy),g||(g=!0,m=qs(_.error)?_.error.status:500),_.headers&&(p[x]=_.headers)}else c[x]=_.data,_.statusCode&&_.statusCode!==200&&!g&&(m=_.statusCode),_.headers&&(p[x]=_.headers)}),v!==void 0&&i&&(f={[i[0]]:v},i[2]&&(c[i[2]]=void 0)),{loaderData:c,errors:f,statusCode:m||200,loaderHeaders:p}}function Up(r,a,i,l,o,c){let{loaderData:f,errors:m}=vS(a,i,l);return o.filter(g=>!g.matches||g.matches.some(p=>p.shouldLoad)).forEach(g=>{let{key:p,match:v,controller:b}=g;if(b&&b.signal.aborted)return;let x=c[p];if(Te(x,"Did not find corresponding fetcher result"),ia(x)){let _=Gr(r.matches,v?.route.id);m&&m[_.route.id]||(m={...m,[_.route.id]:x.error}),r.fetchers.delete(p)}else if(jn(x))Te(!1,"Unhandled fetcher revalidation redirect");else{let _=cr(x.data);r.fetchers.set(p,_)}}),{loaderData:f,errors:m}}function zp(r,a,i,l){let o=Object.entries(a).filter(([,c])=>c!==zy).reduce((c,[f,m])=>(c[f]=m,c),{});for(let c of i){let f=c.route.id;if(!a.hasOwnProperty(f)&&r.hasOwnProperty(f)&&c.route.loader&&(o[f]=r[f]),l&&l.hasOwnProperty(f))break}return o}function Mp(r){return r?ia(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Gr(r,a){return(a?r.slice(0,r.findIndex(l=>l.route.id===a)+1):[...r]).reverse().find(l=>l.route.hasErrorBoundary===!0)||r[0]}function yo(r){let a=r.length===1?r[0]:r.find(i=>i.index||!i.path||i.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:a}],route:a}}function ba(r,{pathname:a,routeId:i,method:l,type:o,message:c}={}){let f="Unknown Server Error",m="Unknown @remix-run/router error";return r===400?(f="Bad Request",l&&a&&i?m=`You made a ${l} request to "${a}" but did not provide a \`loader\` for route "${i}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):r===403?(f="Forbidden",m=`Route "${i}" does not match URL "${a}"`):r===404?(f="Not Found",m=`No route matches URL "${a}"`):r===405&&(f="Method Not Allowed",l&&a&&i?m=`You made a ${l.toUpperCase()} request to "${a}" but did not provide an \`action\` for route "${i}", so there is no way to handle the request.`:l&&(m=`Invalid request method "${l.toUpperCase()}"`)),new Gs(r||500,f,new Error(m),!0)}function vo(r){let a=Object.entries(r);for(let i=a.length-1;i>=0;i--){let[l,o]=a[i];if(jn(o))return{key:l,result:o}}}function Hy(r){let a=typeof r=="string"?fr(r):r;return Ha({...a,hash:""})}function bS(r,a){return r.pathname!==a.pathname||r.search!==a.search?!1:r.hash===""?a.hash!=="":r.hash===a.hash?!0:a.hash!==""}function xS(r){return new Gs(r.init?.status??500,r.init?.statusText??"Internal Server Error",r.data)}function wS(r){return r!=null&&typeof r=="object"&&Object.entries(r).every(([a,i])=>typeof a=="string"&&_S(i))}function _S(r){return r!=null&&typeof r=="object"&&"type"in r&&"result"in r&&(r.type==="data"||r.type==="error")}function SS(r){return Yd(r.result)&&Dy.has(r.result.status)}function ia(r){return r.type==="error"}function jn(r){return(r&&r.type)==="redirect"}function Bp(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function Yd(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function ES(r){return Dy.has(r)}function jS(r){return Yd(r)&&ES(r.status)&&r.headers.has("Location")}function AS(r){return aS.has(r.toUpperCase())}function $t(r){return eS.has(r.toUpperCase())}function Kd(r){return new URLSearchParams(r).getAll("index").some(a=>a==="")}function xo(r,a){let i=typeof a=="string"?fr(a).search:a.search;if(r[r.length-1].route.index&&Kd(i||""))return r[r.length-1];let l=Ty(r);return l[l.length-1]}function Lp(r){let{formMethod:a,formAction:i,formEncType:l,text:o,formData:c,json:f}=r;if(!(!a||!i||!l)){if(o!=null)return{formMethod:a,formAction:i,formEncType:l,formData:void 0,json:void 0,text:o};if(c!=null)return{formMethod:a,formAction:i,formEncType:l,formData:c,json:void 0,text:void 0};if(f!==void 0)return{formMethod:a,formAction:i,formEncType:l,formData:void 0,json:f,text:void 0}}}function gd(r,a){return a?{state:"loading",location:r,formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function NS(r,a){return{state:"submitting",location:r,formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text}}function Es(r,a){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:a}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:a}}function TS(r,a){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:a?a.data:void 0}}function cr(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function RS(r,a){try{let i=r.sessionStorage.getItem(Uy);if(i){let l=JSON.parse(i);for(let[o,c]of Object.entries(l||{}))c&&Array.isArray(c)&&a.set(o,new Set(c||[]))}}catch{}}function OS(r,a){if(a.size>0){let i={};for(let[l,o]of a)i[l]=[...o];try{r.sessionStorage.setItem(Uy,JSON.stringify(i))}catch(l){ut(!1,`Failed to save applied view transitions in sessionStorage (${l}).`)}}}function $p(){let r,a,i=new Promise((l,o)=>{r=async c=>{l(c);try{await i}catch{}},a=async c=>{o(c);try{await i}catch{}}});return{promise:i,resolve:r,reject:a}}var Nn=E.createContext(null);Nn.displayName="DataRouter";var Ks=E.createContext(null);Ks.displayName="DataRouterState";var Py=E.createContext(!1);function CS(){return E.useContext(Py)}var Id=E.createContext({isTransitioning:!1});Id.displayName="ViewTransition";var Vy=E.createContext(new Map);Vy.displayName="Fetchers";var kS=E.createContext(null);kS.displayName="Await";var oa=E.createContext(null);oa.displayName="Navigation";var Is=E.createContext(null);Is.displayName="Location";var _a=E.createContext({outlet:null,matches:[],isDataRoute:!1});_a.displayName="Route";var Fd=E.createContext(null);Fd.displayName="RouteError";var Gy="REACT_ROUTER_ERROR",DS="REDIRECT",US="ROUTE_ERROR_RESPONSE";function zS(r){if(r.startsWith(`${Gy}:${DS}:{`))try{let a=JSON.parse(r.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function MS(r){if(r.startsWith(`${Gy}:${US}:{`))try{let a=JSON.parse(r.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new Gs(a.status,a.statusText,a.data)}catch{}}function BS(r,{relative:a}={}){Te(Ai(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:l}=E.useContext(oa),{hash:o,pathname:c,search:f}=Fs(r,{relative:a}),m=c;return i!=="/"&&(m=c==="/"?i:qa([i,c])),l.createHref({pathname:m,search:f,hash:o})}function Ai(){return E.useContext(Is)!=null}function Pa(){return Te(Ai(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Is).location}function LS(){return E.useContext(Is).navigationType}var Yy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ky(r){E.useContext(oa).static||E.useLayoutEffect(r)}function mr(){let{isDataRoute:r}=E.useContext(_a);return r?WS():$S()}function $S(){Te(Ai(),"useNavigate() may be used only in the context of a <Router> component.");let r=E.useContext(Nn),{basename:a,navigator:i}=E.useContext(oa),{matches:l}=E.useContext(_a),{pathname:o}=Pa(),c=JSON.stringify(Uo(l)),f=E.useRef(!1);return Ky(()=>{f.current=!0}),E.useCallback((g,p={})=>{if(ut(f.current,Yy),!f.current)return;if(typeof g=="number"){i.go(g);return}let v=zo(g,JSON.parse(c),o,p.relative==="path");r==null&&a!=="/"&&(v.pathname=v.pathname==="/"?a:qa([a,v.pathname])),(p.replace?i.replace:i.push)(v,p.state,p)},[a,i,c,o,r])}var qS=E.createContext(null);function HS(r){let a=E.useContext(_a).outlet;return E.useMemo(()=>a&&E.createElement(qS.Provider,{value:r},a),[a,r])}function Iy(){let{matches:r}=E.useContext(_a),a=r[r.length-1];return a?a.params:{}}function Fs(r,{relative:a}={}){let{matches:i}=E.useContext(_a),{pathname:l}=Pa(),o=JSON.stringify(Uo(i));return E.useMemo(()=>zo(r,JSON.parse(o),l,a==="path"),[r,o,l,a])}function PS(r,a,i,l,o){Te(Ai(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=E.useContext(oa),{matches:f}=E.useContext(_a),m=f[f.length-1],g=m?m.params:{},p=m?m.pathname:"/",v=m?m.pathnameBase:"/",b=m&&m.route;{let U=b&&b.path||"";Jy(p,!b||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let x=Pa(),_;_=x;let j=_.pathname||"/",T=j;if(v!=="/"){let U=v.replace(/^\//,"").split("/");T="/"+j.replace(/^\//,"").split("/").slice(U.length).join("/")}let R=Vr(r,{pathname:T});return ut(b||R!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),ut(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),IS(R&&R.map(U=>Object.assign({},U,{params:Object.assign({},g,U.params),pathname:qa([v,c.encodeLocation?c.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?v:qa([v,c.encodeLocation?c.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),f,i,l,o)}function VS(){let r=ZS(),a=qs(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,l="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:l},c={padding:"2px 4px",backgroundColor:l},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:c},"ErrorBoundary")," or"," ",E.createElement("code",{style:c},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},a),i?E.createElement("pre",{style:o},i):null,f)}var GS=E.createElement(VS,null),Fy=class extends E.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,a){return a.location!==r.location||a.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:a.error,location:a.location,revalidation:r.revalidation||a.revalidation}}componentDidCatch(r,a){this.props.onError?this.props.onError(r,a):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const i=MS(r.digest);i&&(r=i)}let a=r!==void 0?E.createElement(_a.Provider,{value:this.props.routeContext},E.createElement(Fd.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?E.createElement(YS,{error:r},a):a}};Fy.contextType=Py;var pd=new WeakMap;function YS({children:r,error:a}){let{basename:i}=E.useContext(oa);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let l=zS(a.digest);if(l){let o=pd.get(a);if(o)throw o;let c=Oy(l.location,i);if(Ry&&!pd.get(a))if(c.isExternal||l.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:l.replace}));throw pd.set(a,f),f}return E.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return r}function KS({routeContext:r,match:a,children:i}){let l=E.useContext(Nn);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),E.createElement(_a.Provider,{value:r},i)}function IS(r,a=[],i=null,l=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(a.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,f=i?.errors;if(f!=null){let v=c.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);Te(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let m=!1,g=-1;if(i)for(let v=0;v<c.length;v++){let b=c[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=v),b.route.id){let{loaderData:x,errors:_}=i,j=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!_||_[b.route.id]===void 0);if(b.route.lazy||j){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let p=i&&l?(v,b)=>{l(v,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:Ys(i.matches),errorInfo:b})}:void 0;return c.reduceRight((v,b,x)=>{let _,j=!1,T=null,R=null;i&&(_=f&&b.route.id?f[b.route.id]:void 0,T=b.route.errorElement||GS,m&&(g<0&&x===0?(Jy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,R=null):g===x&&(j=!0,R=b.route.hydrateFallbackElement||null)));let S=a.concat(c.slice(0,x+1)),U=()=>{let C;return _?C=T:j?C=R:b.route.Component?C=E.createElement(b.route.Component,null):b.route.element?C=b.route.element:C=v,E.createElement(KS,{match:b,routeContext:{outlet:v,matches:S,isDataRoute:i!=null},children:C})};return i&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?E.createElement(Fy,{location:i.location,revalidation:i.revalidation,component:T,error:_,children:U(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:p}):U()},null)}function Jd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FS(r){let a=E.useContext(Nn);return Te(a,Jd(r)),a}function JS(r){let a=E.useContext(Ks);return Te(a,Jd(r)),a}function XS(r){let a=E.useContext(_a);return Te(a,Jd(r)),a}function Xd(r){let a=XS(r),i=a.matches[a.matches.length-1];return Te(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function QS(){return Xd("useRouteId")}function ZS(){let r=E.useContext(Fd),a=JS("useRouteError"),i=Xd("useRouteError");return r!==void 0?r:a.errors?.[i]}function WS(){let{router:r}=FS("useNavigate"),a=Xd("useNavigate"),i=E.useRef(!1);return Ky(()=>{i.current=!0}),E.useCallback(async(o,c={})=>{ut(i.current,Yy),i.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:a,...c}))},[r,a])}var qp={};function Jy(r,a,i){!a&&!qp[r]&&(qp[r]=!0,ut(!1,i))}var Hp={};function Pp(r,a){!r&&!Hp[a]&&(Hp[a]=!0,console.warn(a))}var e1="useOptimistic",Vp=Sb[e1],t1=()=>{};function a1(r){return Vp?Vp(r):[r,t1]}function r1(r){let a={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&ut(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(a,{element:E.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&ut(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(a,{hydrateFallbackElement:E.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&ut(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(a,{errorElement:E.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),a}var n1=["HydrateFallback","hydrateFallbackElement"],i1=class{constructor(){this.status="pending",this.promise=new Promise((r,a)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",r(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",a(i))}})}};function s1({router:r,flushSync:a,onError:i,unstable_useTransitions:l}){l=CS()||l;let[c,f]=E.useState(r.state),[m,g]=a1(c),[p,v]=E.useState(),[b,x]=E.useState({isTransitioning:!1}),[_,j]=E.useState(),[T,R]=E.useState(),[S,U]=E.useState(),C=E.useRef(new Map),J=E.useCallback((ee,{deletedFetchers:de,newErrors:Re,flushSync:Ne,viewTransitionOpts:Oe})=>{Re&&i&&Object.values(Re).forEach(Pe=>i(Pe,{location:ee.location,params:ee.matches[0]?.params??{},unstable_pattern:Ys(ee.matches)})),ee.fetchers.forEach((Pe,G)=>{Pe.data!==void 0&&C.current.set(G,Pe.data)}),de.forEach(Pe=>C.current.delete(Pe)),Pp(Ne===!1||a!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let at=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(Pp(Oe==null||at,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!Oe||!at){a&&Ne?a(()=>f(ee)):l===!1?f(ee):E.startTransition(()=>{l===!0&&g(Pe=>Gp(Pe,ee)),f(ee)});return}if(a&&Ne){a(()=>{T&&(_?.resolve(),T.skipTransition()),x({isTransitioning:!0,flushSync:!0,currentLocation:Oe.currentLocation,nextLocation:Oe.nextLocation})});let Pe=r.window.document.startViewTransition(()=>{a(()=>f(ee))});Pe.finished.finally(()=>{a(()=>{j(void 0),R(void 0),v(void 0),x({isTransitioning:!1})})}),a(()=>R(Pe));return}T?(_?.resolve(),T.skipTransition(),U({state:ee,currentLocation:Oe.currentLocation,nextLocation:Oe.nextLocation})):(v(ee),x({isTransitioning:!0,flushSync:!1,currentLocation:Oe.currentLocation,nextLocation:Oe.nextLocation}))},[r.window,a,T,_,l,g,i]);E.useLayoutEffect(()=>r.subscribe(J),[r,J]),E.useEffect(()=>{b.isTransitioning&&!b.flushSync&&j(new i1)},[b]),E.useEffect(()=>{if(_&&p&&r.window){let ee=p,de=_.promise,Re=r.window.document.startViewTransition(async()=>{l===!1?f(ee):E.startTransition(()=>{l===!0&&g(Ne=>Gp(Ne,ee)),f(ee)}),await de});Re.finished.finally(()=>{j(void 0),R(void 0),v(void 0),x({isTransitioning:!1})}),R(Re)}},[p,_,r.window,l,g]),E.useEffect(()=>{_&&p&&m.location.key===p.location.key&&_.resolve()},[_,T,m.location,p]),E.useEffect(()=>{!b.isTransitioning&&S&&(v(S.state),x({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),U(void 0))},[b.isTransitioning,S]);let ne=E.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:ee=>r.navigate(ee),push:(ee,de,Re)=>r.navigate(ee,{state:de,preventScrollReset:Re?.preventScrollReset}),replace:(ee,de,Re)=>r.navigate(ee,{replace:!0,state:de,preventScrollReset:Re?.preventScrollReset})}),[r]),Z=r.basename||"/",k=E.useMemo(()=>({router:r,navigator:ne,static:!1,basename:Z,onError:i}),[r,ne,Z,i]);return E.createElement(E.Fragment,null,E.createElement(Nn.Provider,{value:k},E.createElement(Ks.Provider,{value:m},E.createElement(Vy.Provider,{value:C.current},E.createElement(Id.Provider,{value:b},E.createElement(c1,{basename:Z,location:m.location,navigationType:m.historyAction,navigator:ne,unstable_useTransitions:l},E.createElement(l1,{routes:r.routes,future:r.future,state:m,onError:i})))))),null)}function Gp(r,a){return{...r,navigation:a.navigation.state!=="idle"?a.navigation:r.navigation,revalidation:a.revalidation!=="idle"?a.revalidation:r.revalidation,actionData:a.navigation.state!=="submitting"?a.actionData:r.actionData,fetchers:a.fetchers}}var l1=E.memo(o1);function o1({routes:r,future:a,state:i,onError:l}){return PS(r,void 0,i,l,a)}function Xy({to:r,replace:a,state:i,relative:l}){Te(Ai(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=E.useContext(oa);ut(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=E.useContext(_a),{pathname:f}=Pa(),m=mr(),g=zo(r,Uo(c),f,l==="path"),p=JSON.stringify(g);return E.useEffect(()=>{m(JSON.parse(p),{replace:a,state:i,relative:l})},[m,p,l,a,i]),null}function u1(r){return HS(r.context)}function c1({basename:r="/",children:a=null,location:i,navigationType:l="POP",navigator:o,static:c=!1,unstable_useTransitions:f}){Te(!Ai(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=E.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:f,future:{}}),[m,o,c,f]);typeof i=="string"&&(i=fr(i));let{pathname:p="/",search:v="",hash:b="",state:x=null,key:_="default"}=i,j=E.useMemo(()=>{let T=wa(p,m);return T==null?null:{location:{pathname:T,search:v,hash:b,state:x,key:_},navigationType:l}},[m,p,v,b,x,_,l]);return ut(j!=null,`<Router basename="${m}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:E.createElement(oa.Provider,{value:g},E.createElement(Is.Provider,{children:a,value:j}))}var wo="get",_o="application/x-www-form-urlencoded";function Mo(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function d1(r){return Mo(r)&&r.tagName.toLowerCase()==="button"}function h1(r){return Mo(r)&&r.tagName.toLowerCase()==="form"}function f1(r){return Mo(r)&&r.tagName.toLowerCase()==="input"}function m1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function g1(r,a){return r.button===0&&(!a||a==="_self")&&!m1(r)}var bo=null;function p1(){if(bo===null)try{new FormData(document.createElement("form"),0),bo=!1}catch{bo=!0}return bo}var y1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yd(r){return r!=null&&!y1.has(r)?(ut(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_o}"`),null):r}function v1(r,a){let i,l,o,c,f;if(h1(r)){let m=r.getAttribute("action");l=m?wa(m,a):null,i=r.getAttribute("method")||wo,o=yd(r.getAttribute("enctype"))||_o,c=new FormData(r)}else if(d1(r)||f1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(l=g?wa(g,a):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||wo,o=yd(r.getAttribute("formenctype"))||yd(m.getAttribute("enctype"))||_o,c=new FormData(m,r),!p1()){let{name:p,type:v,value:b}=r;if(v==="image"){let x=p?`${p}.`:"";c.append(`${x}x`,"0"),c.append(`${x}y`,"0")}else p&&c.append(p,b)}}else{if(Mo(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=wo,l=null,o=_o,f=r}return c&&o==="text/plain"&&(f=c,c=void 0),{action:l,method:i.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qd(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function b1(r,a,i,l){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${l}`:o.pathname=`${o.pathname}.${l}`:o.pathname==="/"?o.pathname=`_root.${l}`:a&&wa(o.pathname,a)==="/"?o.pathname=`${a.replace(/\/$/,"")}/_root.${l}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${l}`,o}async function x1(r,a){if(r.id in a)return a[r.id];try{let i=await import(r.module);return a[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function w1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function _1(r,a,i){let l=await Promise.all(r.map(async o=>{let c=a.routes[o.route.id];if(c){let f=await x1(c,i);return f.links?f.links():[]}return[]}));return A1(l.flat(1).filter(w1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Yp(r,a,i,l,o,c){let f=(g,p)=>i[p]?g.route.id!==i[p].route.id:!0,m=(g,p)=>i[p].pathname!==g.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==g.params["*"];return c==="assets"?a.filter((g,p)=>f(g,p)||m(g,p)):c==="data"?a.filter((g,p)=>{let v=l.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function S1(r,a,{includeHydrateFallback:i}={}){return E1(r.map(l=>{let o=a.routes[l.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function E1(r){return[...new Set(r)]}function j1(r){let a={},i=Object.keys(r).sort();for(let l of i)a[l]=r[l];return a}function A1(r,a){let i=new Set;return new Set(a),r.reduce((l,o)=>{let c=JSON.stringify(j1(o));return i.has(c)||(i.add(c),l.push({key:c,link:o})),l},[])}function Qy(){let r=E.useContext(Nn);return Qd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function N1(){let r=E.useContext(Ks);return Qd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Zd=E.createContext(void 0);Zd.displayName="FrameworkContext";function Zy(){let r=E.useContext(Zd);return Qd(r,"You must render this element inside a <HydratedRouter> element"),r}function T1(r,a){let i=E.useContext(Zd),[l,o]=E.useState(!1),[c,f]=E.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=a,x=E.useRef(null);E.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let T=S=>{S.forEach(U=>{f(U.isIntersecting)})},R=new IntersectionObserver(T,{threshold:.5});return x.current&&R.observe(x.current),()=>{R.disconnect()}}},[r]),E.useEffect(()=>{if(l){let T=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(T)}}},[l]);let _=()=>{o(!0)},j=()=>{o(!1),f(!1)};return i?r!=="intent"?[c,x,{}]:[c,x,{onFocus:js(m,_),onBlur:js(g,j),onMouseEnter:js(p,_),onMouseLeave:js(v,j),onTouchStart:js(b,_)}]:[!1,x,{}]}function js(r,a){return i=>{r&&r(i),i.defaultPrevented||a(i)}}function R1({page:r,...a}){let{router:i}=Qy(),l=E.useMemo(()=>Vr(i.routes,r,i.basename),[i.routes,r,i.basename]);return l?E.createElement(C1,{page:r,matches:l,...a}):null}function O1(r){let{manifest:a,routeModules:i}=Zy(),[l,o]=E.useState([]);return E.useEffect(()=>{let c=!1;return _1(r,a,i).then(f=>{c||o(f)}),()=>{c=!0}},[r,a,i]),l}function C1({page:r,matches:a,...i}){let l=Pa(),{future:o,manifest:c,routeModules:f}=Zy(),{basename:m}=Qy(),{loaderData:g,matches:p}=N1(),v=E.useMemo(()=>Yp(r,a,p,c,l,"data"),[r,a,p,c,l]),b=E.useMemo(()=>Yp(r,a,p,c,l,"assets"),[r,a,p,c,l]),x=E.useMemo(()=>{if(r===l.pathname+l.search+l.hash)return[];let T=new Set,R=!1;if(a.forEach(U=>{let C=c.routes[U.route.id];!C||!C.hasLoader||(!v.some(J=>J.route.id===U.route.id)&&U.route.id in g&&f[U.route.id]?.shouldRevalidate||C.hasClientLoader?R=!0:T.add(U.route.id))}),T.size===0)return[];let S=b1(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return R&&T.size>0&&S.searchParams.set("_routes",a.filter(U=>T.has(U.route.id)).map(U=>U.route.id).join(",")),[S.pathname+S.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,l,c,v,a,r,f]),_=E.useMemo(()=>S1(b,c),[b,c]),j=O1(b);return E.createElement(E.Fragment,null,x.map(T=>E.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...i})),_.map(T=>E.createElement("link",{key:T,rel:"modulepreload",href:T,...i})),j.map(({key:T,link:R})=>E.createElement("link",{key:T,nonce:i.nonce,...R})))}function k1(...r){return a=>{r.forEach(i=>{typeof i=="function"?i(a):i!=null&&(i.current=a)})}}var D1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{D1&&(window.__reactRouterVersion="7.12.0")}catch{}function U1(r,a){return sS({basename:a?.basename,getContext:a?.getContext,future:a?.future,history:__({window:a?.window}),hydrationData:z1(),routes:r,mapRouteProperties:r1,hydrationRouteProperties:n1,dataStrategy:a?.dataStrategy,patchRoutesOnNavigation:a?.patchRoutesOnNavigation,window:a?.window,unstable_instrumentations:a?.unstable_instrumentations}).initialize()}function z1(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:M1(r.errors)}),r}function M1(r){if(!r)return null;let a=Object.entries(r),i={};for(let[l,o]of a)if(o&&o.__type==="RouteErrorResponse")i[l]=new Gs(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let c=window[o.__subType];if(typeof c=="function")try{let f=new c(o.message);f.stack="",i[l]=f}catch{}}if(i[l]==null){let c=new Error(o.message);c.stack="",i[l]=c}}else i[l]=o;return i}var Wy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bo=E.forwardRef(function({onClick:a,discover:i="render",prefetch:l="none",relative:o,reloadDocument:c,replace:f,state:m,target:g,to:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x,..._},j){let{basename:T,unstable_useTransitions:R}=E.useContext(oa),S=typeof p=="string"&&Wy.test(p),U=Oy(p,T);p=U.to;let C=BS(p,{relative:o}),[J,ne,Z]=T1(l,_),k=q1(p,{replace:f,state:m,target:g,preventScrollReset:v,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:x,unstable_useTransitions:R});function ee(Re){a&&a(Re),Re.defaultPrevented||k(Re)}let de=E.createElement("a",{..._,...Z,href:U.absoluteURL||C,onClick:U.isExternal||c?a:ee,ref:k1(j,ne),target:g,"data-discover":!S&&i==="render"?"true":void 0});return J&&!S?E.createElement(E.Fragment,null,de,E.createElement(R1,{page:C})):de});Bo.displayName="Link";var B1=E.forwardRef(function({"aria-current":a="page",caseSensitive:i=!1,className:l="",end:o=!1,style:c,to:f,viewTransition:m,children:g,...p},v){let b=Fs(f,{relative:p.relative}),x=Pa(),_=E.useContext(Ks),{navigator:j,basename:T}=E.useContext(oa),R=_!=null&&Y1(b)&&m===!0,S=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,U=x.pathname,C=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(U=U.toLowerCase(),C=C?C.toLowerCase():null,S=S.toLowerCase()),C&&T&&(C=wa(C,T)||C);const J=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let ne=U===S||!o&&U.startsWith(S)&&U.charAt(J)==="/",Z=C!=null&&(C===S||!o&&C.startsWith(S)&&C.charAt(S.length)==="/"),k={isActive:ne,isPending:Z,isTransitioning:R},ee=ne?a:void 0,de;typeof l=="function"?de=l(k):de=[l,ne?"active":null,Z?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let Re=typeof c=="function"?c(k):c;return E.createElement(Bo,{...p,"aria-current":ee,className:de,ref:v,style:Re,to:f,viewTransition:m},typeof g=="function"?g(k):g)});B1.displayName="NavLink";var L1=E.forwardRef(({discover:r="render",fetcherKey:a,navigate:i,reloadDocument:l,replace:o,state:c,method:f=wo,action:m,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x,..._},j)=>{let{unstable_useTransitions:T}=E.useContext(oa),R=V1(),S=G1(m,{relative:p}),U=f.toLowerCase()==="get"?"get":"post",C=typeof m=="string"&&Wy.test(m),J=ne=>{if(g&&g(ne),ne.defaultPrevented)return;ne.preventDefault();let Z=ne.nativeEvent.submitter,k=Z?.getAttribute("formmethod")||f,ee=()=>R(Z||ne.currentTarget,{fetcherKey:a,method:k,navigate:i,replace:o,state:c,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x});T&&i!==!1?E.startTransition(()=>ee()):ee()};return E.createElement("form",{ref:j,method:U,action:S,onSubmit:l?g:J,..._,"data-discover":!C&&r==="render"?"true":void 0})});L1.displayName="Form";function $1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e0(r){let a=E.useContext(Nn);return Te(a,$1(r)),a}function q1(r,{target:a,replace:i,state:l,preventScrollReset:o,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=mr(),v=Pa(),b=Fs(r,{relative:c});return E.useCallback(x=>{if(g1(x,a)){x.preventDefault();let _=i!==void 0?i:Ha(v)===Ha(b),j=()=>p(r,{replace:_,state:l,preventScrollReset:o,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:m});g?E.startTransition(()=>j()):j()}},[v,p,b,i,l,a,r,o,c,f,m,g])}var H1=0,P1=()=>`__${String(++H1)}__`;function V1(){let{router:r}=e0("useSubmit"),{basename:a}=E.useContext(oa),i=QS(),l=r.fetch,o=r.navigate;return E.useCallback(async(c,f={})=>{let{action:m,method:g,encType:p,formData:v,body:b}=v1(c,a);if(f.navigate===!1){let x=f.fetcherKey||P1();await l(x,i,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:b,formMethod:f.method||g,formEncType:f.encType||p,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:b,formMethod:f.method||g,formEncType:f.encType||p,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[l,o,a,i])}function G1(r,{relative:a}={}){let{basename:i}=E.useContext(oa),l=E.useContext(_a);Te(l,"useFormAction must be used inside a RouteContext");let[o]=l.matches.slice(-1),c={...Fs(r||".",{relative:a})},f=Pa();if(r==null){c.search=f.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(v=>v==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let v=m.toString();c.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:qa([i,c.pathname])),Ha(c)}function Y1(r,{relative:a}={}){let i=E.useContext(Id);Te(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=e0("useViewTransitionState"),o=Fs(r,{relative:a});if(!i.isTransitioning)return!1;let c=wa(i.currentLocation.pathname,l)||i.currentLocation.pathname,f=wa(i.nextLocation.pathname,l)||i.nextLocation.pathname;return No(o.pathname,f)!=null||No(o.pathname,c)!=null}var K1=ty();function I1(r){return E.createElement(s1,{flushSync:K1.flushSync,...r})}const F1=()=>{const{pathname:r}=Pa(),a=LS();return E.useEffect(()=>{a!=="POP"&&window.scrollTo(0,0)},[r,a]),null};const J1=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X1=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,i,l)=>l?l.toUpperCase():i.toLowerCase()),Kp=r=>{const a=X1(r);return a.charAt(0).toUpperCase()+a.slice(1)},t0=(...r)=>r.filter((a,i,l)=>!!a&&a.trim()!==""&&l.indexOf(a)===i).join(" ").trim(),Q1=r=>{for(const a in r)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var Z1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const W1=E.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,iconNode:f,...m},g)=>E.createElement("svg",{ref:g,...Z1,width:a,height:a,stroke:r,strokeWidth:l?Number(i)*24/Number(a):i,className:t0("lucide",o),...!c&&!Q1(m)&&{"aria-hidden":"true"},...m},[...f.map(([p,v])=>E.createElement(p,v)),...Array.isArray(c)?c:[c]]));const Ye=(r,a)=>{const i=E.forwardRef(({className:l,...o},c)=>E.createElement(W1,{ref:c,iconNode:a,className:t0(`lucide-${J1(Kp(r))}`,`lucide-${r}`,l),...o}));return i.displayName=Kp(r),i};const eE=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Wd=Ye("arrow-left",eE);const tE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],aE=Ye("chevron-down",tE);const rE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nE=Ye("chevron-left",rE);const iE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sE=Ye("chevron-right",iE);const lE=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],oE=Ye("chevron-up",lE);const uE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],To=Ye("circle-alert",uE);const cE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Dd=Ye("circle-check-big",cE);const dE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ip=Ye("circle-x",dE);const hE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],a0=Ye("clock",hE);const fE=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],r0=Ye("eye-off",fE);const mE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],n0=Ye("eye",mE);const gE=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],pE=Ye("house",gE);const yE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],vE=Ye("info",yE);const bE=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],xa=Ye("loader-circle",bE);const xE=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wE=Ye("log-out",xE);const _E=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ud=Ye("map-pin",_E);const SE=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],EE=Ye("menu",SE);const jE=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],AE=Ye("message-square",jE);const NE=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],An=Ye("package",NE);const TE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ro=Ye("pen",TE);const RE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Hs=Ye("plus",RE);const OE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Oo=Ye("save",OE);const CE=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kE=Ye("settings",CE);const DE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9 12h6",key:"1c52cq"}],["path",{d:"M12 9v6",key:"199k2o"}]],UE=Ye("shield-plus",DE);const zE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ME=Ye("shield",zE);const BE=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],i0=Ye("shopping-bag",BE);const LE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Fp=Ye("star",LE);const $E=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Jp=Ye("tag",$E);const qE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ji=Ye("trash-2",qE);const HE=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],s0=Ye("upload",HE);const PE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zd=Ye("users",PE);const VE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ps=Ye("x",VE),Xp="/saisoku-admin/assets/logo-gabadak-transparent-Du-TxF25.png",GE=[{path:"/admin",label:"Dashboard",icon:h.jsx(pE,{size:20})},{path:"/admin/orders",label:"Orders",icon:h.jsx(i0,{size:20})},{path:"/admin/products",label:"Products",icon:h.jsx(An,{size:20})},{path:"/admin/admins",label:"Admins",icon:h.jsx(zd,{size:20})},{path:"/admin/settings",label:"Settings",icon:h.jsx(kE,{size:20})}];function YE(){const r=Pa(),a=mr(),{admin:i,signOut:l}=Vd(),[o,c]=E.useState(!1),[f,m]=E.useState(!1),g=async()=>{confirm("Are you sure you want to logout?")&&(await l(),a("/admin",{replace:!0}))},p=v=>v==="/admin"?r.pathname==="/admin":r.pathname.startsWith(v);return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 h-16 bg-white border-b border-gray-200 flex items-center justify-between px-4 z-50",children:[h.jsx("img",{src:Xp,alt:"Logo",className:"h-20"}),h.jsx("button",{onClick:()=>m(!f),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:f?h.jsx(Ps,{size:24}):h.jsx(EE,{size:24})})]}),h.jsxs("aside",{className:`
    fixed top-0 left-0 h-screen bg-white border-r border-gray-200 z-50 transition-all duration-300
    ${f?"translate-x-0":"-translate-x-full lg:translate-x-0"}
    ${o?"lg:w-20":"lg:w-64"}
    w-64
  `,children:[h.jsx("div",{className:"h-20 flex items-center justify-center border-b border-gray-200 px-4",children:o?h.jsxs("div",{className:"w-12 h-12 bg-[#0ABAB5] rounded-lg flex items-center justify-center text-white font-bold text-lg",children:[" ","S"]}):h.jsx("img",{src:Xp,alt:"Logo",className:"h-30"})}),!o&&h.jsx("div",{className:"p-4 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-[#0ABAB5] rounded-full flex items-center justify-center text-white font-semibold",children:i?.name?.charAt(0).toUpperCase()||"A"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:i?.name||"Admin"}),h.jsx("p",{className:"text-xs text-gray-500 truncate",children:i?.email})]})]})}),h.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:GE.map(v=>h.jsxs(Bo,{to:v.path,onClick:()=>m(!1),className:`
                flex items-center gap-3 px-4 py-3 mx-2 rounded-lg transition-colors no-underline
                ${p(v.path)?"bg-[#0ABAB5] text-white":"text-gray-700 hover:bg-gray-100"}
                ${o?"justify-center":""}
              `,title:o?v.label:void 0,children:[v.icon,!o&&h.jsx("span",{className:"text-sm font-medium",children:v.label})]},v.path))}),h.jsx("div",{className:"border-t border-gray-200 p-4",children:h.jsxs("button",{onClick:g,className:`
              flex items-center gap-3 w-full px-4 py-3 rounded-lg text-red-600 hover:bg-red-50 transition-colors
              ${o?"justify-center":""}
            `,title:o?"Logout":void 0,children:[h.jsx(wE,{size:20}),!o&&h.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})}),h.jsx("button",{onClick:()=>c(!o),className:"hidden lg:flex absolute -right-3 top-24 w-8 h-8 bg-white border border-gray-200 rounded-full items-center justify-center hover:bg-gray-50 transition shadow-sm",children:o?h.jsx(sE,{size:18}):h.jsx(nE,{size:18})})]}),h.jsx("div",{className:`
          ${o?"lg:ml-20":"lg:ml-64"}
          pt-16 lg:pt-0 transition-all duration-300
        `})]})}const KE=()=>h.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[h.jsx(F1,{}),h.jsx(YE,{}),h.jsx("main",{className:"flex flex-col min-h-screen w-full",children:h.jsx(u1,{})})]}),IE="/saisoku-admin/assets/saisoku-wall_2-C4nVa4Fj.jpg",l0=E.createContext(void 0),FE=({children:r})=>{const[a,i]=E.useState([]),l=E.useCallback(c=>{const f=Date.now(),m={id:f,message:c.message,type:c.type||"info",duration:c.duration||3e3};i(g=>[...g,m]),setTimeout(()=>{i(g=>g.filter(p=>p.id!==f))},m.duration)},[]),o=c=>{i(f=>f.filter(m=>m.id!==c))};return h.jsxs(l0.Provider,{value:{showToast:l},children:[r,h.jsx("div",{className:"fixed top-20 right-4 z-[100] space-y-2",children:a.map(c=>h.jsx(JE,{message:c.message,type:c.type,onClose:()=>o(c.id)},c.id))})]})},JE=({message:r,type:a,onClose:i})=>{const l={success:"bg-green-500 text-white",error:"bg-red-500 text-white",warning:"bg-yellow-500 text-gray-900",info:"bg-blue-500 text-white"},o={success:h.jsx(Dd,{size:20}),error:h.jsx(To,{size:20}),warning:h.jsx(To,{size:20}),info:h.jsx(vE,{size:20})};return h.jsxs("div",{className:`${l[a]} px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 animate-slide-in-right max-w-md`,style:{fontFamily:"Poppins, sans-serif"},children:[o[a],h.jsx("span",{className:"flex-1 font-medium",children:r}),h.jsx("button",{onClick:i,className:"hover:opacity-70 transition-opacity",children:h.jsx(Ps,{size:20})})]})},Lo=()=>{const r=E.useContext(l0);if(!r)throw new Error("useToast must be used within ToastProvider");return r},XE=()=>{const r=mr(),[a,i]=E.useState(""),[l,o]=E.useState(""),[c,f]=E.useState(""),[m,g]=E.useState(!1),[p,v]=E.useState(!1),{showToast:b}=Lo(),x=async _=>{_.preventDefault(),f(""),g(!0);try{console.log("Attempting admin login"),await d_({email:a,password:l}),console.log("Admin profile loaded, redirecting..."),b({message:"Login successful!",type:"success"}),console.log("Fetching admin profile"),r("/admin",{replace:!0})}catch(j){b({message:j.message||"Login failed. Please check your credentials.",type:"error",duration:5e3}),Ao.error(j.message||"Login failed","admin_login",{email:a},j)}finally{g(!1)}};return h.jsxs("div",{className:"min-h-screen w-full flex flex-col lg:flex-row overflow-hidden",children:[h.jsxs("div",{className:"w-full lg:w-1/2 h-64 sm:h-80 lg:min-h-screen relative",style:{backgroundImage:`url(${IE})`,backgroundSize:"cover",backgroundPosition:"center"},children:[h.jsx("div",{className:"absolute inset-0 bg-black/50"}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsxs("div",{className:"text-white text-center px-4",children:[h.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-4",style:{fontFamily:"Poppins, sans-serif"},children:"Sa'isoku Official"}),h.jsx("p",{className:"text-lg sm:text-xl opacity-90",style:{fontFamily:"Poppins, sans-serif"},children:"Admin Page"})]})})]}),h.jsx("div",{className:"w-full lg:w-1/2 bg-white flex items-center justify-center px-4 sm:px-6 lg:px-8 py-8 sm:py-10 lg:py-12 overflow-y-auto",children:h.jsxs("div",{className:"w-full max-w-md",children:[h.jsx("h1",{className:"text-black text-2xl sm:text-3xl lg:text-4xl font-bold text-center mb-1 sm:mb-2",style:{fontFamily:"Poppins, sans-serif"},children:"Admin Login"}),h.jsx("p",{className:"text-gray-600 text-sm sm:text-base text-center mb-6 sm:mb-8 lg:mb-12",style:{fontFamily:"Poppins, sans-serif"},children:"Enter your credentials to access the admin panel"}),c&&h.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mb-4 text-center text-sm",children:c}),h.jsxs("form",{onSubmit:x,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-black font-medium mb-2",style:{fontFamily:"Poppins, sans-serif"},children:"Email"}),h.jsx("input",{type:"email",placeholder:"Enter your admin email",value:a,onChange:_=>i(_.target.value),className:"w-full px-4 sm:px-5 lg:px-6 py-2.5 sm:py-3 border-gray-200 rounded-full text-sm sm:text-base text-gray-700 border-2 focus:border-[#0ABAB5] focus:outline-none focus:ring-0",style:{fontFamily:"Poppins, sans-serif"},required:!0,autoComplete:"email"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-black font-medium mb-2",style:{fontFamily:"Poppins, sans-serif"},children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:p?"text":"password",placeholder:"Enter your password",value:l,onChange:_=>o(_.target.value),className:"w-full px-4 sm:px-5 lg:px-6 py-2.5 sm:py-3 border-gray-200 rounded-full text-sm sm:text-base text-gray-700 border-2 focus:border-[#0ABAB5] focus:outline-none focus:ring-0",style:{fontFamily:"Poppins, sans-serif"},required:!0,autoComplete:"current-password"}),h.jsx("button",{type:"button",onClick:_=>{_.preventDefault(),_.stopPropagation(),v(!p)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 cursor-pointer","aria-label":p?"Hide password":"Show password",children:p?h.jsx(r0,{size:18}):h.jsx(n0,{size:18})})]})]}),h.jsx("button",{type:"submit",disabled:m,className:"w-full bg-[#0ABAB5] text-white font-bold text-lg py-3 rounded-full hover:bg-[#2E8B57] transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed cursor-pointer",style:{fontFamily:"Poppins, sans-serif"},children:m?"Logging in...":"Login"})]}),h.jsx("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg border border-gray-200",children:h.jsx("p",{className:"text-gray-600 text-xs text-center",style:{fontFamily:"Poppins, sans-serif"},children:"This is a secure admin area. All login attempts are monitored and logged."})})]})})]})},QE=async r=>{const{status:a,page:i=0,limit:l=10,searchQuery:o}=r||{};let c=re.from("orders").select(`
      *,
      order_items (
        id,
        order_id,
        variant_id,
        quantity,
        price_at_purchase,
        variant_snapshot,
        created_at
      )
    `,{count:"exact"}).order("created_at",{ascending:!1});a&&(c=c.eq("status",a)),o&&o.trim()&&(c=c.or(`order_number.ilike.%${o}%,recipient_name.ilike.%${o}%`));const f=i*l,m=f+l-1;c=c.range(f,m);const{data:g,error:p,count:v}=await c;if(p)throw p;const b=v||0,x=Math.ceil(b/l);return{orders:g||[],total:b,page:i,totalPages:x}},ZE=async r=>{const{data:a,error:i}=await re.from("orders").select(`
      *,
      order_items (
        id,
        order_id,
        variant_id,
        quantity,
        price_at_purchase,
        variant_snapshot,
        created_at
      )
    `).eq("id",r).single();if(i)throw i;return a},o0=async(r,a)=>{const{data:i,error:l}=await re.from("orders").update({status:a,updated_at:new Date().toISOString()}).eq("id",r).select(`
      *,
      order_items (
        id,
        order_id,
        variant_id,
        quantity,
        price_at_purchase,
        variant_snapshot,
        created_at
      )
    `).single();if(l)throw l;return i},WE=async r=>{const{data:a,error:i}=await re.from("payment_proofs").select("*").eq("order_id",r).order("uploaded_at",{ascending:!1}).limit(1).maybeSingle();if(i)throw console.error("Error fetching payment proof:",i),i;if(!a)return console.log("No payment proof found for order:",r),null;console.log("Payment proof data:",a);const l="OrderReceipts";let o="";if(a.image_url.includes("/storage/v1/object/public/OrderReceipts/")?o=a.image_url.split("/storage/v1/object/public/OrderReceipts/")[1]:a.image_url.includes("/storage/v1/object/OrderReceipts/")&&(o=a.image_url.split("/storage/v1/object/OrderReceipts/")[1]),!o)return console.error("Could not extract path from URL:",a.image_url),a;console.log("Extracted image path:",o);const{data:c,error:f}=await re.storage.from(l).createSignedUrl(o,3600);return f?(console.error("Failed to create signed URL:",f),a):(console.log("Signed URL generated successfully"),{...a,image_url:c.signedUrl})},ej=async(r,a)=>{const{data:{user:i}}=await re.auth.getUser();if(!i)throw new Error("Not authenticated");const{error:l}=await re.from("payment_proofs").update({status:"verified",verified_at:new Date().toISOString(),verified_by:i.id,admin_notes:a}).eq("order_id",r);if(l)throw l;const{error:o}=await re.from("orders").update({status:"processing",updated_at:new Date().toISOString()}).eq("id",r);if(o)throw o},tj=async(r,a)=>{const{data:{user:i}}=await re.auth.getUser();if(!i)throw new Error("Not authenticated");const{error:l}=await re.from("payment_proofs").update({status:"rejected",verified_at:new Date().toISOString(),verified_by:i.id,admin_notes:a}).eq("order_id",r);if(l)throw l;const{error:o}=await re.from("orders").update({status:"pending_payment",updated_at:new Date().toISOString()}).eq("id",r);if(o)throw o},aj=async()=>{const{data:r,error:a}=await re.from("orders").select("status");if(a)throw a;const i={total:r.length,pending_payment:0,payment_uploaded:0,processing:0,shipped:0,delivered:0,cancelled:0};return r.forEach(l=>{const o=l.status;o in i&&i[o]++}),i};function rj(r){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r)}function nj(r){return new Date(r).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})}function ij(){const[r,a]=E.useState([]),[i,l]=E.useState(!0),[o,c]=E.useState("all"),{showToast:f}=Lo();E.useEffect(()=>{p()},[o]);const m=["pending_payment","payment_uploaded","processing","shipped","delivered","cancelled"],g=["processing","shipped"],p=async()=>{try{l(!0),await y_();const x=await QE({status:o==="all"?void 0:o});a(x.orders)}catch(b){console.error("Failed to load orders:",b)}finally{l(!1)}},v=async(b,x)=>{const _=r.find(j=>j.id===b);if(x==="processing"&&_?.status!=="payment_uploaded"){f({message:"Cannot process order: Payment proof must be uploaded first",type:"warning"});return}try{await o0(b,x),a(j=>j.map(T=>T.id===b?{...T,status:x}:T))}catch(j){console.error("Failed to update status:",j),alert("Failed to update order status")}};return h.jsxs("div",{className:"p-6 lg:p-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Orders"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all customer orders"})]}),h.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by status:"}),h.jsxs("select",{value:o,onChange:b=>c(b.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[h.jsx("option",{value:"all",children:"All Orders"}),m.map(b=>h.jsx("option",{value:b,children:b.replace(/_/g," ").toUpperCase()},b))]})]}),h.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Order Number"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Customer"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Date"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Total"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200",children:i?h.jsx("tr",{children:h.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"Loading orders..."})}):r.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"No orders found"})}):r.map(b=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4",children:h.jsx(Bo,{to:`/admin/orders/${b.id}`,className:"text-blue-600 hover:text-blue-800 font-medium hover:underline",children:b.order_number})}),h.jsx("td",{className:"px-6 py-4 text-gray-900",children:b.recipient_name}),h.jsx("td",{className:"px-6 py-4 text-gray-600 text-sm",children:nj(b.created_at)}),h.jsx("td",{className:"px-6 py-4 text-right font-medium text-gray-900",children:rj(b.total_amount)}),h.jsx("td",{className:"px-6 py-4",children:h.jsxs("select",{value:b.status,onChange:x=>v(b.id,x.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[!g.includes(b.status)&&h.jsx("option",{value:b.status,disabled:!0,children:b.status.replace(/_/g," ").toUpperCase()}),g.map(x=>h.jsx("option",{value:x,children:x.replace(/_/g," ").toUpperCase()},x))]})})]},b.id))})]})})}),!i&&r.length>0&&h.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Total: ",h.jsx("span",{className:"font-semibold",children:r.length})," orders"]})]})}function Qp({children:r,requireSuperAdmin:a=!1}){const{authUser:i,admin:l,isAdmin:o,loading:c}=Vd();return c?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx(xa,{className:"w-12 h-12 text-[#0ABAB5] animate-spin mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Verifying access..."})]})}):!i||!o?h.jsx(Xy,{to:"/",replace:!0}):a&&l?.role!=="super_admin"?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx("span",{className:"text-3xl",children:""})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"You need super admin privileges to access this page."}),h.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-2 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] transition",children:"Go Back"})]})}):h.jsx(h.Fragment,{children:r})}const sj={pending_payment:"bg-yellow-100 text-yellow-800 border-yellow-300",payment_uploaded:"bg-blue-100 text-blue-800 border-blue-300",processing:"bg-purple-100 text-purple-800 border-purple-300",shipped:"bg-indigo-100 text-indigo-800 border-indigo-300",delivered:"bg-green-100 text-green-800 border-green-300",cancelled:"bg-red-100 text-red-800 border-red-300"},lj=["pending_payment","payment_uploaded","processing","shipped","delivered","cancelled"];function Zp(r){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r)}function Wp(r){return new Date(r).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}function oj(){const r=mr(),{orderId:a}=Iy(),[i,l]=E.useState(null),[o,c]=E.useState(null),[f,m]=E.useState(!0),[g,p]=E.useState(!1),[v,b]=E.useState(null);E.useEffect(()=>{a&&x()},[a]);const x=async()=>{m(!0),b(null);try{const R=await ZE(a);l(R);try{const S=await WE(a);c(S)}catch{c(null)}}catch(R){console.error("Failed to load order:",R),b(R.message||"Failed to load order")}finally{m(!1)}},_=async()=>{if(confirm("Approve this payment? Order status will be changed to PROCESSING.")){p(!0);try{await ej(a),await new Promise(R=>setTimeout(R,500)),await x(),alert("Payment approved successfully!")}catch(R){alert(R.message||"Failed to approve payment")}finally{p(!1)}}},j=async()=>{const R=prompt("Reason for rejection (will be shown to customer):");if(R){p(!0);try{await tj(a,R),await x(),alert("Payment rejected. Customer has been notified.")}catch(S){alert(S.message||"Failed to reject payment")}finally{p(!1)}}},T=async R=>{if(confirm(`Change order status to ${R.replace(/_/g," ").toUpperCase()}?`)){p(!0);try{await o0(a,R),await x()}catch(S){alert(S.message||"Failed to update status")}finally{p(!1)}}};return f?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0ABAB5] mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Loading order..."})]})}):v||!i?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-md max-w-md",children:[h.jsx(An,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Order Not Found"}),h.jsx("p",{className:"text-gray-600 mb-6",children:v||"Order does not exist"}),h.jsx("button",{onClick:()=>r("/admin/orders"),className:"w-full bg-[#0ABAB5] text-white py-3 rounded-lg hover:bg-[#099490] transition",children:"Back to Orders"})]})}):h.jsx("div",{className:"min-h-screen bg-gray-50 p-6 lg:p-6",children:h.jsxs("div",{className:"w-full",children:[h.jsxs("button",{onClick:()=>r("/admin/orders"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6 transition",children:[h.jsx(Wd,{size:20}),h.jsx("span",{className:"font-medium",children:"Back to Orders"})]}),h.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6 border border-gray-200",children:h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:["Order ",i.order_number]}),h.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:["Placed on ",Wp(i.created_at)]})]}),h.jsxs("select",{value:i.status,onChange:R=>T(R.target.value),disabled:g||o?.status==="pending",className:`w-full sm:w-auto px-4 py-2 rounded-lg border-2 font-semibold text-sm cursor-pointer transition ${sj[i.status]} ${o?.status==="pending"?"opacity-50 cursor-not-allowed":""}`,children:[" ",lj.map(R=>h.jsx("option",{value:R,children:R.replace(/_/g," ").toUpperCase()},R))]})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[h.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(An,{className:"text-[#0ABAB5]",size:24}),h.jsx("h2",{className:"text-xl font-semibold",children:"Order Items"})]}),h.jsx("div",{className:"space-y-4",children:i.order_items.map(R=>h.jsxs("div",{className:"flex gap-4 pb-4 border-b border-gray-100 last:border-0",children:[h.jsx("img",{src:R.variant_snapshot.image_url||"/placeholder.jpg",alt:R.variant_snapshot.variant_name,className:"w-20 h-20 object-cover rounded-lg"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-gray-800",children:R.variant_snapshot.variant_name}),h.jsxs("p",{className:"text-sm text-gray-600",children:[R.variant_snapshot.size&&`Size: ${R.variant_snapshot.size}`,R.variant_snapshot.color&&`  Color: ${R.variant_snapshot.color}`]}),h.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",R.quantity]}),h.jsx("p",{className:"font-bold text-[#0ABAB5]",children:Zp(R.price_at_purchase*R.quantity)})]})]},R.id))}),h.jsx("div",{className:"mt-4 pt-4 border-t",children:h.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[h.jsx("span",{children:"Total Amount"}),h.jsx("span",{className:"text-[#0ABAB5]",children:Zp(i.total_amount)})]})})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(Ud,{className:"text-[#0ABAB5]",size:24}),h.jsx("h2",{className:"text-xl font-semibold",children:"Shipping Address"})]}),h.jsxs("div",{className:"space-y-2 text-gray-700",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Recipient:"})," ",i.recipient_name]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Phone:"})," ",i.phone]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Address:"}),h.jsx("br",{}),i.address,i.address_optional&&`, ${i.address_optional}`,h.jsx("br",{}),i.district,", ",i.city,h.jsx("br",{}),i.region,", ",i.country," ",i.postcode]})]})]})]}),h.jsx("div",{className:"lg:col-span-1",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 sticky top-6",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Payment Proof"}),o?h.jsxs("div",{children:[h.jsx("img",{src:o.image_url,alt:"Payment proof",className:"w-full rounded-lg border border-gray-200 mb-4"}),h.jsxs("div",{className:"mb-4",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Status:"}),h.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${o.status==="pending"?"bg-blue-100 text-blue-800":o.status==="verified"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o.status.toUpperCase()})]}),o.admin_notes&&h.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[h.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Admin Notes:"}),h.jsx("p",{className:"text-sm text-gray-800",children:o.admin_notes})]}),h.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Uploaded: ",Wp(o.uploaded_at)]}),o.status==="pending"&&h.jsxs("div",{className:"space-y-2",children:[h.jsxs("button",{onClick:_,disabled:g,className:"w-full flex items-center justify-center gap-2 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition disabled:opacity-50",children:[h.jsx(Dd,{size:18}),"Approve"]}),h.jsxs("button",{onClick:j,disabled:g,className:"w-full flex items-center justify-center gap-2 bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition disabled:opacity-50",children:[h.jsx(Ip,{size:18}),"Reject"]})]}),o.status==="verified"&&h.jsxs("div",{className:"text-center py-3 bg-green-50 rounded-lg",children:[h.jsx(Dd,{className:"text-green-600 mx-auto mb-2",size:32}),h.jsx("p",{className:"text-sm font-semibold text-green-800",children:"Payment Verified"})]}),o.status==="rejected"&&h.jsxs("div",{className:"text-center py-3 bg-red-50 rounded-lg",children:[h.jsx(Ip,{className:"text-red-600 mx-auto mb-2",size:32}),h.jsx("p",{className:"text-sm font-semibold text-red-800",children:"Payment Rejected"})]})]}):h.jsxs("div",{className:"text-center py-8",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full mx-auto mb-3 flex items-center justify-center",children:h.jsx(An,{className:"text-gray-400",size:32})}),h.jsx("p",{className:"text-sm text-gray-500",children:"No payment proof uploaded yet"})]}),i.order_notes&&h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mt-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(AE,{className:"text-[#0ABAB5]",size:24}),h.jsx("h2",{className:"text-lg font-semibold",children:"Customer Notes"})]}),h.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:h.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:i.order_notes})})]})]})})]})]})})}const Jt={async getAllProductsAdmin(){const{data:r,error:a}=await re.from("products").select(`
        *,
        variants (*),
        categories!category_id (
          name
        )
      `).order("created_at",{ascending:!1});if(a)throw console.error("Error fetching products:",a),a;return(r||[]).map(i=>({...i,category_name:i.categories?.name||null}))},async createProduct(r){const{data:a,error:i}=await re.from("products").insert({name:r.name,category_id:r.category_id,description:r.description,description_english:r.description_english,display_mode:r.display_mode||"individual",is_featured:r.is_featured||!1,is_active:r.is_active!==void 0?r.is_active:!0}).select().single();if(i)throw console.error("Error creating product:",i),i;return a},async updateProduct(r,a){const i={};a.name!==void 0&&(i.name=a.name),a.category_id!==void 0&&(i.category_id=a.category_id),a.description!==void 0&&(i.description=a.description),a.description_english!==void 0&&(i.description_english=a.description_english),a.display_mode!==void 0&&(i.display_mode=a.display_mode),a.is_featured!==void 0&&(i.is_featured=a.is_featured),a.is_active!==void 0&&(i.is_active=a.is_active);const{data:l,error:o}=await re.from("products").update(i).eq("id",r).select().single();if(o)throw console.error("Error updating product:",o),o;return l},async deleteProduct(r){const{count:a}=await re.from("variants").select("id",{count:"exact",head:!0}).eq("product_id",r);if(a&&a>0)throw new Error(`Cannot delete product. It has ${a} variant(s). Delete variants first.`);const{error:i}=await re.from("products").delete().eq("id",r);if(i)throw console.error("Error deleting product:",i),i},async createVariant(r){const{data:a,error:i}=await re.from("variants").insert({product_id:r.product_id,sku:r.sku,slug:r.slug,variant_name:r.variant_name,size:r.size,color:r.color,color_hex:r.color_hex,price:r.price,stock:r.stock,image_url:r.image_url,is_active:r.is_active!==void 0?r.is_active:!0}).select().single();if(i)throw console.error("Error creating variant:",i),i;return a},async updateVariant(r,a){const i={};a.sku!==void 0&&(i.sku=a.sku),a.slug!==void 0&&(i.slug=a.slug),a.variant_name!==void 0&&(i.variant_name=a.variant_name),a.size!==void 0&&(i.size=a.size),a.color!==void 0&&(i.color=a.color),a.color_hex!==void 0&&(i.color_hex=a.color_hex),a.price!==void 0&&(i.price=a.price),a.stock!==void 0&&(i.stock=a.stock),a.image_url!==void 0&&(i.image_url=a.image_url),a.is_active!==void 0&&(i.is_active=a.is_active);const{data:l,error:o}=await re.from("variants").update(i).eq("id",r).select().single();if(o)throw console.error("Error updating variant:",o),o;return l},async deleteVariant(r){const{error:a}=await re.from("variant_images").delete().eq("variant_id",r);a&&console.error("Error deleting variant images:",a);const{error:i}=await re.from("variants").delete().eq("id",r);if(i)throw console.error("Error deleting variant:",i),i},async uploadVariantImage(r,a,i=0,l=!1){const o=a.name.split(".").pop(),f=`variant-images/${`${r}/${Date.now()}.${o}`}`,{error:m}=await re.storage.from("saisokuphotos").upload(f,a);if(m)throw console.error("Error uploading image:",m),m;const{data:g,error:p}=await re.storage.from("saisokuphotos").createSignedUrl(f,31536e4);if(p)throw console.error("Error creating signed URL:",p),p;l&&await re.from("variant_images").update({is_primary:!1}).eq("variant_id",r);const{data:v,error:b}=await re.from("variant_images").insert({variant_id:r,image_url:g.signedUrl,display_order:i,is_primary:l}).select().single();if(b)throw console.error("Error creating image record:",b),b;return l&&await re.from("variants").update({image_url:g.signedUrl}).eq("id",r),v},async updateVariantImage(r,a){const i={};a.display_order!==void 0&&(i.display_order=a.display_order),a.is_primary!==void 0&&(i.is_primary=a.is_primary);const{data:l,error:o}=await re.from("variant_images").update(i).eq("id",r).select().single();if(o)throw console.error("Error updating image:",o),o;return l},async setPrimaryImage(r,a){await re.from("variant_images").update({is_primary:!1}).eq("variant_id",a);const{data:i,error:l}=await re.from("variant_images").update({is_primary:!0}).eq("id",r).select("image_url").single();if(l)throw console.error("Error setting primary image:",l),l;await re.from("variants").update({image_url:i.image_url}).eq("id",a)},async deleteVariantImage(r,a,i){const{data:l}=await re.from("variant_images").select("is_primary").eq("id",r).single();try{const c=a.match(/variant-images\/.+?(?=\?)/);c&&await re.storage.from("saisokuphotos").remove([c[0]])}catch(c){console.error("Error deleting from storage:",c)}const{error:o}=await re.from("variant_images").delete().eq("id",r);if(o)throw o;if(l?.is_primary){const{data:c}=await re.from("variant_images").select("image_url").eq("variant_id",i).order("display_order").limit(1);await re.from("variants").update({image_url:c?.[0]?.image_url||null}).eq("id",i)}},async getVariantImages(r){const{data:a,error:i}=await re.from("variant_images").select("*").eq("variant_id",r).order("display_order",{ascending:!0});if(i)throw console.error("Error fetching variant images:",i),i;return a||[]},async getProductStats(){const{data:r,error:a}=await re.from("variants").select("stock, product_id").eq("is_active",!0);if(a)throw a;const i=new Set(r?.map(p=>p.product_id)||[]),l=r?.filter(p=>p.stock>0&&p.stock<10).length||0,o=r?.filter(p=>p.stock===0).length||0,{data:c,error:f}=await re.from("products").select(`
      category_id,
      categories!category_id (
        name
      )
    `).eq("is_active",!0);if(f)throw f;const m=new Map;c?.forEach(p=>{const v=p.categories?.name||"Uncategorized";m.set(v,(m.get(v)||0)+1)});const g=Array.from(m.entries()).map(([p,v])=>({category_name:p,product_count:v})).sort((p,v)=>v.product_count-p.product_count);return{total_products:i.size,low_stock_count:l,out_of_stock_count:o,total_variants:r?.length||0,by_category:g}}};function uj(){const{admin:r}=Vd(),[a,i]=E.useState({total:0,pending_payment:0,payment_uploaded:0,processing:0,shipped:0,delivered:0,cancelled:0}),[l,o]=E.useState({total_products:0,low_stock_count:0,out_of_stock_count:0,total_variants:0,by_category:[]}),[c,f]=E.useState(!0),m=mr();E.useEffect(()=>{(async()=>{try{const[v,b]=await Promise.all([aj(),Jt.getProductStats()]);i(v),o(b)}catch(v){console.error("Failed to fetch stats:",v)}finally{f(!1)}})()},[]);const g=p=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(p);return c?h.jsx("div",{className:"p-6 lg:p-8",children:h.jsxs("div",{className:"animate-pulse",children:[h.jsx("div",{className:"h-8 bg-gray-200 rounded w-64 mb-8"}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx("div",{className:"h-48 bg-gray-200 rounded-xl"}),h.jsx("div",{className:"h-48 bg-gray-200 rounded-xl"}),h.jsx("div",{className:"h-48 bg-gray-200 rounded-xl"})]})]})}):h.jsxs("div",{className:"p-6 lg:p-6",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",r?.name||"Admin","!"]}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Here's what's happening with your store today."})]}),h.jsx("div",{className:"mb-6",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 px-4 py-6 hover:shadow-md transition-shadow",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("div",{className:"w-12 h-12 bg-[#0ABAB5] bg-opacity-10 rounded-lg flex items-center justify-center",children:h.jsx(i0,{className:"text-[#FFFFFF]",size:24})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Orders Overview"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Total orders in system"})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("div",{className:"text-4xl font-bold text-gray-900",children:a.total}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Total Orders"})]}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsxs("div",{className:"bg-yellow-50 rounded-lg p-2 border border-yellow-200 flex-1 min-w-[140px]",children:[h.jsx("div",{className:"text-xl font-bold text-yellow-700",children:a.pending_payment}),h.jsx("div",{className:"text-xs text-yellow-600",children:"Pending Payment"})]}),h.jsxs("div",{className:"bg-blue-50 rounded-lg p-2 border border-blue-200 flex-1 min-w-[140px]",children:[h.jsx("div",{className:"text-xl font-bold text-blue-700",children:a.payment_uploaded}),h.jsx("div",{className:"text-xs text-blue-600",children:"Payment Uploaded"})]}),h.jsxs("div",{className:"bg-purple-50 rounded-lg p-2 border border-purple-200 flex-1 min-w-[140px]",children:[h.jsx("div",{className:"text-xl font-bold text-purple-700",children:a.processing}),h.jsx("div",{className:"text-xs text-purple-600",children:"Processing"})]}),h.jsxs("div",{className:"bg-indigo-50 rounded-lg p-2 border border-indigo-200 flex-1 min-w-[140px]",children:[h.jsx("div",{className:"text-xl font-bold text-indigo-700",children:a.shipped}),h.jsx("div",{className:"text-xs text-indigo-600",children:"Shipped"})]}),h.jsxs("div",{className:"bg-green-50 rounded-lg p-2 border border-green-200 flex-1 min-w-[140px]",children:[h.jsx("div",{className:"text-xl font-bold text-green-700",children:a.delivered}),h.jsx("div",{className:"text-xs text-green-600",children:"Delivered"})]}),h.jsxs("div",{className:"bg-red-50 rounded-lg p-2 border border-red-200 flex-1 min-w-[140px]",children:[h.jsx("div",{className:"text-xl font-bold text-red-700",children:a.cancelled}),h.jsx("div",{className:"text-xs text-red-600",children:"Cancelled"})]})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 px-4 py-6 hover:shadow-md transition-shadow flex flex-col",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-[#0ABAB5] rounded-lg flex items-center justify-center",children:h.jsx(An,{className:"text-[#FFFFFF]",size:24})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Products"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Inventory overview"})]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-1",children:l.total_products}),h.jsx("p",{className:"text-sm text-gray-600",children:"Total Products"})]}),h.jsxs("div",{className:"space-y-3 flex-1",children:[h.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200",children:[h.jsx("span",{className:"text-sm text-blue-700",children:"Total Variants"}),h.jsx("span",{className:"text-lg font-bold text-blue-700",children:l.total_variants})]}),l.low_stock_count>0&&h.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg border border-orange-200",children:[h.jsx("span",{className:"text-sm text-orange-700 font-medium",children:"Low Stock (<10)"}),h.jsx("span",{className:"text-lg font-bold text-orange-700",children:l.low_stock_count})]}),l.out_of_stock_count>0&&h.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg border border-red-200",children:[h.jsx("span",{className:"text-sm text-red-700 font-medium",children:"Out of Stock"}),h.jsx("span",{className:"text-lg font-bold text-red-600",children:l.out_of_stock_count})]}),l.low_stock_count===0&&l.out_of_stock_count===0&&h.jsx("div",{className:"flex items-center justify-center p-3 bg-green-50 rounded-lg border border-green-200",children:h.jsx("span",{className:"text-sm text-green-700 font-medium",children:"All products in stock"})}),l.by_category.length>0&&h.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[h.jsx("p",{className:"text-xs text-gray-600 font-medium mb-2",children:"By Category"}),h.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:l.by_category.map(p=>h.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition",children:[h.jsx("span",{className:"text-sm text-gray-700",children:p.category_name}),h.jsx("span",{className:"text-sm font-semibold text-gray-900",children:p.product_count})]},p.category_name))})]})]})]}),h.jsxs("button",{onClick:()=>m("/admin/admins"),className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-lg hover:scale-[1.02] transition-all cursor-pointer text-left w-full flex flex-col",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-[#0ABAB5] bg-opacity-10 rounded-lg flex items-center justify-center",children:h.jsx(a0,{className:"text-[#FFFFFF]",size:24})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Last Login"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Admin account details"})]})]}),h.jsxs("div",{className:"space-y-3 flex-1",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Admin"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r?.name||"N/A"}),r?.role==="super_admin"&&h.jsx("span",{className:"px-2 py-0.5 bg-yellow-400 text-yellow-900 text-xs rounded-full font-semibold",children:"SUPER"})]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),h.jsx("p",{className:"text-sm font-medium text-gray-900",children:r?.email||"N/A"})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Last Login"}),h.jsx("p",{className:"text-sm font-medium text-gray-900",children:r?.lastLogin?g(r.lastLogin):"Never logged in"})]}),h.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[h.jsx("p",{className:"text-xs text-gray-500",children:"Account created"}),h.jsx("p",{className:"text-sm font-medium text-gray-900",children:r?.createdAt?g(r.createdAt):"N/A"})]})]}),h.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:h.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Click to manage admin accounts"})})]})]})]})}function cj(r){const a=[];return r.name?.trim()||a.push("Name is required"),r.address?.trim()||a.push("Address is required"),r.city?.trim()||a.push("City is required"),r.phone?.trim()||a.push("Phone is required"),{valid:a.length===0,errors:a}}const dj=async()=>{const{data:r,error:a}=await re.from("store_locations").select("*").order("is_default",{ascending:!1}).order("created_at",{ascending:!1});if(a)throw a;return r},hj=async r=>{const a=cj(r);if(!a.valid)throw new Error(`Validation failed: ${a.errors.join(", ")}`);const{count:i}=await re.from("store_locations").select("*",{count:"exact",head:!0}),l=i===0,{data:o,error:c}=await re.from("store_locations").insert({...r,is_active:r.is_active??!0,is_default:l}).select().single();if(c)throw c;return o},u0=async(r,a)=>{if(a.is_default===!0){const{error:o}=await re.from("store_locations").update({is_default:!1}).neq("id",r);if(o)throw o}const{data:i,error:l}=await re.from("store_locations").update({...a,updated_at:new Date().toISOString()}).eq("id",r).select().single();if(l)throw l;if(!i)throw new Error("Store location not found");return i},fj=async r=>{const{count:a}=await re.from("store_locations").select("*",{count:"exact",head:!0});if(a===1)throw new Error("Cannot delete the last store location");const{data:i}=await re.from("store_locations").select("is_default").eq("id",r).single();if(i?.is_default)throw new Error("Cannot delete the default store location. Please set another location as default first.");const{error:l}=await re.from("store_locations").delete().eq("id",r);if(l)throw l},mj=async r=>u0(r,{is_default:!0}),_i={async getAllCategories(){const{data:r,error:a}=await re.from("categories").select("*").order("name",{ascending:!0});if(a)throw console.error("Error fetching categories:",a),a;return r||[]},async getCategoriesWithCount(){const{data:r,error:a}=await re.from("categories").select(`
        *,
        products!category_id(count)
      `).order("name",{ascending:!0});if(a)throw console.error("Error fetching categories with count:",a),a;return(r||[]).map(l=>({id:l.id,name:l.name,default_display_mode:l.default_display_mode,created_at:l.created_at,updated_at:l.updated_at,product_count:l.products?.[0]?.count||0}))},async getCategoryById(r){const{data:a,error:i}=await re.from("categories").select("*").eq("id",r).single();if(i)throw console.error("Error fetching category:",i),i;return a},async createCategory(r){const{data:a}=await re.from("categories").select("id").ilike("name",r.name).single();if(a)throw new Error(`Category "${r.name}" already exists`);const{data:i,error:l}=await re.from("categories").insert({name:r.name.trim(),default_display_mode:r.default_display_mode}).select().single();if(l)throw console.error("Error creating category:",l),l;return i},async updateCategory(r,a){if(a.name){const{data:c}=await re.from("categories").select("id").ilike("name",a.name).neq("id",r).single();if(c)throw new Error(`Category "${a.name}" already exists`)}const i={};a.name!==void 0&&(i.name=a.name.trim()),a.default_display_mode!==void 0&&(i.default_display_mode=a.default_display_mode);const{data:l,error:o}=await re.from("categories").update(i).eq("id",r).select().single();if(o)throw console.error("Error updating category:",o),o;return l},async deleteCategory(r){const{count:a,error:i}=await re.from("products").select("id",{count:"exact",head:!0}).eq("category_id",r);if(i)throw console.error("Error checking category usage:",i),i;if(a&&a>0)throw new Error(`Cannot delete category. It has ${a} product(s) assigned to it.`);const{error:l}=await re.from("categories").delete().eq("id",r);if(l)throw console.error("Error deleting category:",l),l}};function gj(){const[r,a]=E.useState("categories"),[i,l]=E.useState([]),[o,c]=E.useState(!0),[f,m]=E.useState(!1),[g,p]=E.useState(null),[v,b]=E.useState(!1),[x,_]=E.useState({name:"",address:"",city:"",region:"",district:"",postcode:"",phone:"",email:"",maps_url:"",is_active:!0}),[j,T]=E.useState([]),[R,S]=E.useState(!0),[U,C]=E.useState(!1),[J,ne]=E.useState(null),[Z,k]=E.useState(!1),[ee,de]=E.useState({name:"",default_display_mode:"individual"});E.useEffect(()=>{Re(),X()},[]);const Re=async()=>{c(!0);try{const L=await dj();l(L)}catch(L){console.error("Failed to load locations:",L),alert("Failed to load locations")}finally{c(!1)}},Ne=L=>{p(L.id),_({name:L.name,address:L.address,city:L.city,region:L.region||"",district:L.district||"",postcode:L.postcode||"",phone:L.phone,email:L.email||"",maps_url:L.maps_url||"",is_active:L.is_active}),b(!1)},Oe=()=>{b(!0),p(null),_({name:"",address:"",city:"",region:"",district:"",postcode:"",phone:"",email:"",maps_url:"",is_active:!0})},at=()=>{p(null),b(!1),_({name:"",address:"",city:"",region:"",district:"",postcode:"",phone:"",email:"",maps_url:"",is_active:!0})},Pe=async()=>{if(!x.name||!x.address||!x.city||!x.phone){alert("Please fill in all required fields (Name, Address, City, Phone)");return}m(!0);try{v?(await hj(x),alert("Location added successfully!")):g&&(await u0(g,x),alert("Location updated successfully!")),at(),await Re()}catch(L){console.error("Failed to save location:",L),alert(L.message||"Failed to save location")}finally{m(!1)}},G=async L=>{if(confirm("Are you sure you want to delete this location?"))try{await fj(L),alert("Location deleted successfully!"),await Re()}catch(ae){console.error("Failed to delete location:",ae),alert(ae.message||"Failed to delete location")}},B=async L=>{try{await mj(L),alert("Default location updated!"),await Re()}catch(ae){console.error("Failed to set default location:",ae),alert(ae.message||"Failed to set default location")}},X=async()=>{S(!0);try{const L=await _i.getCategoriesWithCount();T(L)}catch(L){console.error("Failed to load categories:",L),alert("Failed to load categories")}finally{S(!1)}},te=L=>{ne(L.id),de({name:L.name,default_display_mode:L.default_display_mode}),k(!1)},ye=()=>{k(!0),ne(null),de({name:"",default_display_mode:"individual"})},_e=()=>{ne(null),k(!1),de({name:"",default_display_mode:"individual"})},O=async()=>{if(!ee.name.trim()){alert("Please enter a category name");return}C(!0);try{Z?(await _i.createCategory({name:ee.name.trim(),default_display_mode:ee.default_display_mode}),alert("Category added successfully!")):J&&(await _i.updateCategory(J,{name:ee.name.trim(),default_display_mode:ee.default_display_mode}),alert("Category updated successfully!")),_e(),await X()}catch(L){console.error("Failed to save category:",L),alert(L.message||"Failed to save category")}finally{C(!1)}},Y=async(L,ae)=>{if(ae>0){alert(`Cannot delete this category. It has ${ae} product(s) assigned to it.`);return}if(confirm("Are you sure you want to delete this category?"))try{await _i.deleteCategory(L),alert("Category deleted successfully!"),await X()}catch(he){console.error("Failed to delete category:",he),alert(he.message||"Failed to delete category")}};return o&&r==="location"?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsx(xa,{className:"w-12 h-12 text-[#0ABAB5] animate-spin"})}):h.jsx("div",{className:"min-h-screen bg-gray-50 p-4 lg:p-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),h.jsx("p",{className:"text-gray-600",children:"Manage your store configuration"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[h.jsx("div",{className:"lg:col-span-1",children:h.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:h.jsxs("nav",{className:"space-y-1",children:[h.jsxs("button",{onClick:()=>a("categories"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition ${r==="categories"?"bg-[#0ABAB5] text-white":"text-gray-700 hover:bg-gray-100"}`,children:[h.jsx(Jp,{size:20}),h.jsx("span",{className:"font-medium",children:"Categories"})]}),h.jsxs("button",{onClick:()=>a("location"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition ${r==="location"?"bg-[#0ABAB5] text-white":"text-gray-700 hover:bg-gray-100"}`,children:[h.jsx(Ud,{size:20}),h.jsx("span",{className:"font-medium",children:"Store Location"})]})]})})}),h.jsxs("div",{className:"lg:col-span-3",children:[r==="categories"&&h.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Product Categories"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product categories and their default display modes."})]}),h.jsxs("button",{onClick:ye,className:"flex items-center gap-2 px-4 py-2 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] transition",children:[h.jsx(Hs,{size:20}),h.jsx("span",{className:"hidden sm:inline",children:"Add Category"})]})]}),(Z||J)&&h.jsxs("div",{className:"p-6 bg-blue-50 border-b border-blue-200",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:Z?"Add New Category":"Edit Category"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category Name *"}),h.jsx("input",{type:"text",value:ee.name,onChange:L=>de({...ee,name:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"e.g., Tas, Boneka, Gelang"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Display Mode *"}),h.jsxs("select",{value:ee.default_display_mode,onChange:L=>de({...ee,default_display_mode:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5] bg-white",children:[h.jsx("option",{value:"individual",children:"Individual (Each variant shown separately)"}),h.jsx("option",{value:"grouped",children:"Grouped (Variants grouped by product)"})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This sets the default display mode for products in this category."})]})]}),h.jsxs("div",{className:"flex gap-3 mt-6",children:[h.jsxs("button",{onClick:O,disabled:U,className:"flex items-center gap-2 px-6 py-2 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] transition disabled:opacity-50",children:[U?h.jsx(xa,{size:20,className:"animate-spin"}):h.jsx(Oo,{size:20}),"Save Category"]}),h.jsxs("button",{onClick:_e,disabled:U,className:"flex items-center gap-2 px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition",children:[h.jsx(Ps,{size:20}),"Cancel"]})]})]}),h.jsx("div",{className:"p-6",children:R?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx(xa,{className:"w-8 h-8 text-[#0ABAB5] animate-spin"})}):j.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Jp,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"No categories added yet"}),h.jsx("button",{onClick:ye,className:"mt-4 px-6 py-2 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] transition",children:"Add Your First Category"})]}):h.jsx("div",{className:"space-y-4",children:j.map(L=>h.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:L.name}),h.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${L.default_display_mode==="grouped"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:L.default_display_mode==="grouped"?"Grouped":"Individual"})]}),h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[h.jsx(An,{size:16}),h.jsxs("span",{children:[L.product_count," product(s)"]})]})]}),h.jsxs("div",{className:"flex gap-2 ml-4",children:[h.jsx("button",{onClick:()=>te(L),className:"p-2 text-[#0ABAB5] hover:bg-teal-50 rounded-lg transition",title:"Edit category",children:h.jsx(Ro,{size:20})}),h.jsx("button",{onClick:()=>Y(L.id,L.product_count),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:L.product_count>0,title:L.product_count>0?"Cannot delete category with products":"Delete category",children:h.jsx(ji,{size:20})})]})]})},L.id))})})]}),r==="location"&&h.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Store Locations"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your store locations. The default location is used for courier calculations."})]}),h.jsxs("button",{onClick:Oe,className:"flex items-center gap-2 px-4 py-2 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] transition",children:[h.jsx(Hs,{size:20}),h.jsx("span",{className:"hidden sm:inline",children:"Add Location"})]})]}),(v||g)&&h.jsxs("div",{className:"p-6 bg-blue-50 border-b border-blue-200",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:v?"Add New Location":"Edit Location"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Store Name *"}),h.jsx("input",{type:"text",value:x.name||"",onChange:L=>_({...x,name:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"Main Store"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),h.jsx("input",{type:"tel",value:x.phone||"",onChange:L=>_({...x,phone:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"+628123456789"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsx("input",{type:"email",value:x.email||"",onChange:L=>_({...x,email:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"store@example.com"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),h.jsx("input",{type:"text",value:x.city||"",onChange:L=>_({...x,city:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"Jakarta"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Region/Province"}),h.jsx("input",{type:"text",value:x.region||"",onChange:L=>_({...x,region:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"DKI Jakarta"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"District"}),h.jsx("input",{type:"text",value:x.district||"",onChange:L=>_({...x,district:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"Menteng"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code"}),h.jsx("input",{type:"text",value:x.postcode||"",onChange:L=>_({...x,postcode:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"10310"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Google Maps URL"}),h.jsx("input",{type:"url",value:x.maps_url||"",onChange:L=>_({...x,maps_url:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"https://maps.google.com/..."})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),h.jsx("textarea",{value:x.address||"",onChange:L=>_({...x,address:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",rows:2,placeholder:"Jl. Merdeka No. 123"})]})]}),h.jsxs("div",{className:"flex gap-3 mt-6",children:[h.jsxs("button",{onClick:Pe,disabled:f,className:"flex items-center gap-2 px-6 py-2 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] transition disabled:opacity-50",children:[f?h.jsx(xa,{size:20,className:"animate-spin"}):h.jsx(Oo,{size:20}),"Save Changes"]}),h.jsxs("button",{onClick:at,disabled:f,className:"flex items-center gap-2 px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition",children:[h.jsx(Ps,{size:20}),"Cancel"]})]})]}),h.jsx("div",{className:"p-6",children:i.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Ud,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"No locations added yet"}),h.jsx("button",{onClick:Oe,className:"mt-4 px-6 py-2 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] transition",children:"Add Your First Location"})]}):h.jsx("div",{className:"space-y-4",children:i.map(L=>h.jsx("div",{className:`border rounded-lg p-4 ${L.is_default?"border-[#0ABAB5] bg-teal-50":"border-gray-200"}`,children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:L.name}),L.is_default&&h.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-[#0ABAB5] text-white text-xs rounded-full",children:[h.jsx(Fp,{size:12}),"Default"]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600",children:[h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"Address:"})," ",L.address]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"City:"})," ",L.city]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"Phone:"})," ",L.phone]})]})]}),h.jsxs("div",{className:"flex gap-2 ml-4",children:[!L.is_default&&h.jsx("button",{onClick:()=>B(L.id),className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded-lg transition",children:h.jsx(Fp,{size:20})}),h.jsx("button",{onClick:()=>Ne(L),className:"p-2 text-[#0ABAB5] hover:bg-teal-50 rounded-lg transition",children:h.jsx(Ro,{size:20})}),h.jsx("button",{onClick:()=>G(L.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition disabled:opacity-50",disabled:L.is_default,children:h.jsx(ji,{size:20})})]})]})},L.id))})})]})]})]})]})})}function pj(){const r=mr(),[a,i]=E.useState([]),[l,o]=E.useState(!0),[c,f]=E.useState(null),[m,g]=E.useState(""),[p,v]=E.useState("all");E.useEffect(()=>{b()},[]);const b=async()=>{o(!0);try{const S=await Jt.getAllProductsAdmin();i(S)}catch(S){console.error("Failed to load products:",S),alert("Failed to load products")}finally{o(!1)}},x=async(S,U)=>{if(confirm(`Delete product "${U}"? This cannot be undone.`))try{await Jt.deleteProduct(S),alert("Product deleted successfully!"),b()}catch(C){console.error("Failed to delete product:",C),alert(C.message||"Failed to delete product")}},_=S=>{f(c===S?null:S)},j=S=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(S),T=["all",...new Set(a.map(S=>S.category_name).filter(Boolean))],R=a.filter(S=>{const U=S.name.toLowerCase().includes(m.toLowerCase()),C=p==="all"||S.category_name===p;return U&&C});return l?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsx(xa,{className:"w-12 h-12 text-[#0ABAB5] animate-spin"})}):h.jsx("div",{className:"min-h-screen bg-gray-50 p-4 lg:p-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Products"}),h.jsx("p",{className:"text-gray-600",children:"Manage your product catalog and variants"})]}),h.jsxs("button",{onClick:()=>r("/admin/products/new"),className:"flex items-center gap-2 px-6 py-3 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] transition font-semibold",children:[h.jsx(Hs,{size:20}),"Add Product"]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[h.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[h.jsx("div",{className:"flex-1",children:h.jsx("input",{type:"text",placeholder:"Search products...",value:m,onChange:S=>g(S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5] focus:border-transparent"})}),h.jsx("div",{children:h.jsx("select",{value:p,onChange:S=>v(S.target.value),className:"w-full md:w-48 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5] bg-white",children:T.map(S=>h.jsx("option",{value:S,children:S==="all"?"All Categories":S},S))})})]}),h.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Showing ",R.length," of ",a.length," products"]})]}),h.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:R.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(An,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600 mb-2",children:"No products found"}),h.jsx("button",{onClick:()=>r("/admin/products/new"),className:"mt-4 px-6 py-2 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] transition",children:"Add Your First Product"})]}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Variants"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Display Mode"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200",children:R.map(S=>{const U=c===S.id,C=S.variants.reduce((J,ne)=>J+ne.stock,0);return h.jsxs(h.Fragment,{children:[h.jsxs("tr",{className:`hover:bg-gray-50 transition ${S.is_active?"":"bg-gray-100 opacity-60"}`,children:[h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:()=>_(S.id),className:"text-gray-400 hover:text-gray-600",children:U?h.jsx(oE,{size:20}):h.jsx(aE,{size:20})}),h.jsxs("div",{children:[h.jsxs("div",{className:"font-medium text-gray-900 flex items-center gap-2",children:[S.name,!S.is_active&&h.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 text-xs rounded-full font-semibold",children:"INACTIVE"})]}),S.is_featured&&h.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full",children:"Featured"})]})]})})," ",h.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:S.category_name||"-"}),h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"text-sm",children:[h.jsxs("div",{className:"font-medium text-gray-900",children:[S.variants.length," variant(s)"]}),h.jsxs("div",{className:"text-gray-500",children:["Stock: ",C]})]})}),h.jsx("td",{className:"px-6 py-4",children:h.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${S.display_mode==="grouped"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:S.display_mode==="grouped"?"Grouped":"Individual"})}),h.jsx("td",{className:"px-6 py-4",children:S.is_active?h.jsxs("span",{className:"flex items-center gap-1 text-green-600 text-sm",children:[h.jsx(n0,{size:16}),"Active"]}):h.jsxs("span",{className:"flex items-center gap-1 text-gray-400 text-sm",children:[h.jsx(r0,{size:16}),"Inactive"]})}),h.jsx("td",{className:"px-6 py-4 text-right",children:h.jsxs("div",{className:"flex items-center justify-end gap-2",children:[h.jsx("button",{onClick:()=>r(`/admin/products/${S.id}/edit`),className:"p-2 text-[#0ABAB5] hover:bg-teal-50 rounded-lg transition",title:"Edit product",children:h.jsx(Ro,{size:18})}),h.jsx("button",{onClick:()=>x(S.id,S.name),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete product",children:h.jsx(ji,{size:18})})]})})]},S.id),U&&h.jsx("tr",{children:h.jsx("td",{colSpan:6,className:"px-6 py-4 bg-gray-50",children:h.jsxs("div",{className:"space-y-2",children:[h.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Variants (",S.variants.length,")"]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:S.variants.map(J=>h.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-medium text-sm text-gray-900",children:J.variant_name}),h.jsxs("div",{className:"text-xs text-gray-500",children:["SKU: ",J.sku]})]}),J.color_hex&&h.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-gray-300",style:{backgroundColor:J.color_hex}})]}),h.jsxs("div",{className:"flex items-center justify-between text-xs",children:[h.jsx("span",{className:"text-[#0ABAB5] font-semibold",children:j(J.price)}),h.jsxs("span",{className:`${J.stock>10?"text-green-600":J.stock>0?"text-orange-600":"text-red-600"}`,children:["Stock: ",J.stock]})]})]},J.id))})]})})})]})})})]})})})]})})}const ey={Tas:"grouped",Boneka:"individual",Gelang:"grouped",Gantungan:"individual"},yj={async getAllProducts(r){let a=re.from("products").select(`
        *,
        variants (*)
      `).eq("is_active",!0);r?.category&&(a=a.eq("category",r.category));const{data:i,error:l}=await a;if(l)throw console.error("Error fetching products:",l),l;return i||[]},async getProductById(r){const{data:a,error:i}=await re.from("products").select(`
      *,
      variants (
        *,
        images:variant_images(*)
      )
    `).eq("id",r).single();if(i)throw console.error("Error fetching product:",i),i;return a&&a.variants&&a.variants.forEach(l=>{l.images&&Array.isArray(l.images)&&l.images.sort((o,c)=>o.display_order-c.display_order)}),a},async getProductByVariantId(r){const{data:a,error:i}=await re.from("variants").select("product_id").eq("id",r).single();if(i||!a)throw console.error("Error fetching variant:",i),i;const{data:l,error:o}=await re.from("products").select(`
      *,
      variants (
        *,
        images:variant_images(*)
      )
    `).eq("id",a.product_id).single();if(o)throw console.error("Error fetching product:",o),o;return l&&l.variants&&l.variants.forEach(c=>{c.images&&Array.isArray(c.images)&&c.images.sort((f,m)=>f.display_order-m.display_order)}),l},async getProductBySku(r){const{data:a,error:i}=await re.from("variants").select(`
        *,
        products (
          *,
          variants (*)
        )
      `).eq("sku",r).single();if(i)throw console.error("Error fetching product by SKU:",i),i;return a?.products||null},async getProductsByCategory(r){const{data:a,error:i}=await re.from("products").select(`
        *,
        variants (*)
      `).eq("category",r).eq("is_active",!0);if(i)throw console.error("Error fetching products by category:",i),i;return a||[]},async getVariantsByProductId(r){const{data:a,error:i}=await re.from("variants").select("*").eq("product_id",r).eq("is_active",!0);if(i)throw console.error("Error fetching variants:",i),i;return a||[]},async updateVariantStock(r,a){const{data:i,error:l}=await re.from("variants").update({stock:a}).eq("id",r).select().single();if(l)throw console.error("Error updating stock:",l),l;return i},async decreaseVariantStock(r,a){const{data:i,error:l}=await re.from("variants").select("stock").eq("id",r).single();if(l)throw console.error("Error fetching variant stock:",l),l;const o=Math.max(0,i.stock-a),{data:c,error:f}=await re.from("variants").update({stock:o}).eq("id",r).select().single();if(f)throw console.error("Error decreasing stock:",f),f;return c},async getCategories(){const{data:r,error:a}=await re.from("products").select("category").eq("is_active",!0);if(a)throw console.error("Error fetching categories:",a),a;return[...new Set(r?.map(l=>l.category).filter(Boolean))]},async searchProducts(r){const{data:a,error:i}=await re.from("products").select(`
        *,
        variants (*)
      `).ilike("name",`%${r}%`).eq("is_active",!0);if(i)throw console.error("Error searching products:",i),i;return a||[]},async getVariantsPaginated(r){const{page:a,size:i,category:l,sortBy:o,search:c,featured:f}=r;let m=re.from("variants").select(`
        *,
        products!inner (*),
        images:variant_images(*)
      `,{count:"exact"}).eq("is_active",!0).eq("products.is_active",!0);switch(l&&l!=="all"&&(m=m.eq("products.category",l)),c&&(m=m.ilike("variant_name",`%${c}%`)),f&&(m=m.eq("products.is_featured",!0)),o){case"price-low":m=m.order("price",{ascending:!0});break;case"price-high":m=m.order("price",{ascending:!1});break;case"newest":m=m.order("created_at",{ascending:!1});break;default:m=m.order("variant_name",{ascending:!0});break}const g=a*i,p=g+i-1;m=m.range(g,p);const{data:v,error:b,count:x}=await m;if(b)throw console.error("Error fetching variants:",b),b;return{data:(v||[]).map(j=>(j.images&&Array.isArray(j.images)&&j.images.sort((T,R)=>T.display_order-R.display_order),{...j,products:Array.isArray(j.products)?j.products[0]:j.products})),total:x||0}},async getProductsGroupedPaginated(r){const{page:a,size:i,category:l,sortBy:o}=r,{data:c}=await this.getVariantsPaginated({...r,page:0,size:1e3}),f=!l||l==="all",m=l&&l!=="all"?ey[l]||"individual":null;if(m==="individual"){const _=a*i,j=_+i;return{data:c.slice(_,j).map(R=>({...R,isGrouped:!1})),total:c.length,displayMode:"individual"}}const g=[],p=new Set;c.forEach(_=>{const j=_.product_id;if(p.has(j))return;const T=Array.isArray(_.products)?_.products[0]:_.products;if(T?.display_mode?T.display_mode==="grouped":ey[T?.category||""]==="grouped"){const S=c.filter(C=>C.product_id===j),U=S.map(C=>C.price);g.push({product:T,variants:S,primaryVariant:S[0],priceRange:{min:Math.min(...U),max:Math.max(...U)},isGrouped:!0}),p.add(j)}else g.push({..._,isGrouped:!1}),p.add(j)}),g.sort((_,j)=>{let T,R;return o==="price-low"||o==="price-high"?(T=_.isGrouped?_.priceRange.min:_.price,R=j.isGrouped?j.priceRange.min:j.price,o==="price-low"?T-R:R-T):o==="newest"?(T=_.isGrouped?_.primaryVariant.created_at:_.created_at,R=j.isGrouped?j.primaryVariant.created_at:j.created_at,new Date(R).getTime()-new Date(T).getTime()):(T=_.isGrouped?_.product.name:_.variant_name,R=j.isGrouped?j.product.name:j.variant_name,T.localeCompare(R))});const v=a*i,b=v+i;return{data:g.slice(v,b),total:g.length,displayMode:f?"mixed":m==="grouped"?"grouped":"individual"}}},vj=r=>r.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),bj=(r,a,i)=>{const l=[r,a,i].filter(Boolean);return vj(l.join(" "))},xj=async(r,a)=>{let i=re.from("variants").select("id").eq("slug",r);a&&(i=i.neq("id",a));const{data:l,error:o}=await i;return o?(console.error("Error checking slug:",o),!1):l&&l.length>0},wj=async(r,a)=>{let i=r,l=1;for(;await xj(i,a);)i=`${r}-${l}`,l++;return i},c0=async(r,a,i,l)=>{const o=bj(r,a,i);return await wj(o,l)};function _j(){const{id:r}=Iy(),a=mr(),[i,l]=E.useState(null),[o,c]=E.useState([]),[f,m]=E.useState(!0),[g,p]=E.useState(!1),{showToast:v}=Lo(),[b,x]=E.useState(null),[_,j]=E.useState(!1),[T,R]=E.useState({sku:"",slug:"",variant_name:"",size:"",color:"",color_hex:"",price:0,stock:0}),[S,U]=E.useState(null),[C,J]=E.useState({name:"",category_id:"",description:"",description_english:"",display_mode:"individual",is_featured:!1,is_active:!0}),ne=E.useRef(null);E.useEffect(()=>{Z()},[r]);const Z=async()=>{if(r){m(!0);try{const[G,B]=await Promise.all([yj.getProductById(r),_i.getAllCategories()]);G&&(l(G),J({name:G.name,category_id:G.category_id||"",description:G.description||"",description_english:G.description_english||"",display_mode:G.display_mode||"individual",is_featured:G.is_featured,is_active:G.is_active})),c(B)}catch(G){console.error("Failed to load data:",G),v({message:"Failed to load product",type:"error"})}finally{m(!1)}}},k=async()=>{if(r){p(!0);try{await Jt.updateProduct(r,C),v({message:"Product updated successfully!",type:"success"}),Z()}catch(G){v({message:G.message||"Failed to update product",type:"error"})}finally{p(!1)}}},ee=()=>{j(!0),x(null),R({sku:"",slug:"",variant_name:"",size:"",color:"",color_hex:"",price:0,stock:0}),setTimeout(()=>{ne.current?.scrollIntoView({behavior:"smooth",block:"start"})},100)},de=G=>{x(G.id),j(!1),R({sku:G.sku,slug:G.slug,variant_name:G.variant_name,size:G.size||"",color:G.color||"",color_hex:G.color_hex||"",price:G.price,stock:G.stock}),setTimeout(()=>{ne.current?.scrollIntoView({behavior:"smooth",block:"start"})},100)},Re=async()=>{if(r){p(!0);try{_?(await Jt.createVariant({product_id:r,...T}),v({message:"Variant added successfully!",type:"success"})):b&&(await Jt.updateVariant(b,T),v({message:"Variant updated successfully!",type:"success"})),j(!1),x(null),Z()}catch(G){v({message:G.message||"Failed to save variant",type:"error"})}finally{p(!1)}}},Ne=async G=>{if(confirm("Delete this variant?"))try{await Jt.deleteVariant(G),v({message:"Variant deleted successfully!",type:"success"}),Z()}catch(B){v({message:B.message||"Failed to delete variant",type:"error"})}},Oe=async(G,B)=>{U(G);try{const X=await Jt.getVariantImages(G),te=X.length>0,ye=Array.from(B).map((_e,O)=>Jt.uploadVariantImage(G,_e,X.length+O,!te&&O===0));await Promise.all(ye),v({message:`${B.length} image(s) uploaded successfully!`,type:"success"}),Z()}catch(X){v({message:X.message||"Failed to upload images",type:"error"})}finally{U(null)}},at=async(G,B,X)=>{if(confirm("Delete this image?"))try{await Jt.deleteVariantImage(G,B,X),v({message:"Image deleted successfully!",type:"success"}),Z()}catch(te){v({message:te.message||"Failed to delete image",type:"error"})}},Pe=async(G,B)=>{try{await Jt.setPrimaryImage(G,B),v({message:"Primary image updated!",type:"success"}),Z()}catch(X){v({message:X.message||"Failed to set primary image",type:"error"})}};return f?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsx(xa,{className:"w-12 h-12 text-[#0ABAB5] animate-spin"})}):i?h.jsx("div",{className:"min-h-screen bg-gray-50 p-4 lg:p-6",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsxs("div",{className:"mb-6",children:[h.jsxs("button",{onClick:()=>a("/admin/products"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[h.jsx(Wd,{size:20}),"Back to Products"]}),h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Edit Product"})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Product Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),h.jsx("input",{type:"text",value:C.name,onChange:G=>J({...C,name:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),h.jsx("select",{value:C.category_id,onChange:G=>J({...C,category_id:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5] bg-white",children:o.map(G=>h.jsx("option",{value:G.id,children:G.name},G.id))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Mode"}),h.jsxs("select",{value:C.display_mode,onChange:G=>J({...C,display_mode:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5] bg-white",children:[h.jsx("option",{value:"individual",children:"Individual"}),h.jsx("option",{value:"grouped",children:"Grouped"})]})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),h.jsx("textarea",{value:C.description,onChange:G=>J({...C,description:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",rows:3})]}),h.jsxs("div",{className:"md:col-span-2 flex gap-4",children:[h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",checked:C.is_featured,onChange:G=>J({...C,is_featured:G.target.checked}),className:"w-4 h-4 text-[#0ABAB5] border-gray-300 rounded"}),"Featured"]}),h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",checked:C.is_active,onChange:G=>J({...C,is_active:G.target.checked}),className:"w-4 h-4 text-[#0ABAB5] border-gray-300 rounded"}),"Active"]})]})]}),h.jsxs("button",{onClick:k,disabled:g,className:"mt-4 flex items-center gap-2 px-6 py-2 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] disabled:opacity-50",children:[g?h.jsx(xa,{size:20,className:"animate-spin"}):h.jsx(Oo,{size:20}),"Save Product"]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Variants (",i.variants.length,")"]}),h.jsxs("button",{onClick:ee,className:"flex items-center gap-2 px-4 py-2 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490]",children:[h.jsx(Hs,{size:20}),"Add Variant"]})]}),(_||b)&&h.jsxs("div",{ref:ne,className:"bg-blue-50 rounded-lg p-4 mb-4",children:[h.jsx("h3",{className:"font-semibold mb-3",children:_?"Add New Variant":"Edit Variant"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1",children:"SKU *"}),h.jsx("input",{type:"text",value:T.sku,onChange:G=>R({...T,sku:G.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name *"}),h.jsx("input",{type:"text",value:T.variant_name,onChange:G=>R({...T,variant_name:G.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium mb-1",children:"URL Slug *"}),h.jsx("input",{type:"text",value:T.slug,onChange:G=>R({...T,slug:G.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"e.g., mickey-mouse-xl-red"}),h.jsx("button",{type:"button",onClick:async()=>{const G=await c0(T.variant_name,T.color,T.size,b||void 0);R({...T,slug:G})},className:"mt-1 text-sm text-[#0ABAB5] hover:underline",children:"Auto-generate slug"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1",children:"Color Name"}),h.jsx("input",{type:"text",value:T.color,onChange:G=>R({...T,color:G.target.value}),placeholder:"e.g., Purple, Red, Blue",className:"w-full px-3 py-2 border rounded-lg"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1",children:"Color HEX"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"color",value:T.color_hex||"#000000",onChange:G=>R({...T,color_hex:G.target.value}),className:"w-12 h-10 border rounded cursor-pointer"}),h.jsx("input",{type:"text",value:T.color_hex,onChange:G=>R({...T,color_hex:G.target.value}),placeholder:"#000000",className:"flex-1 px-3 py-2 border rounded-lg font-mono",maxLength:7})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1",children:"Size"}),h.jsx("input",{type:"text",value:T.size,onChange:G=>R({...T,size:G.target.value}),placeholder:"e.g., S, M, L, XL",className:"w-full px-3 py-2 border rounded-lg"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price *"}),h.jsx("input",{type:"number",value:T.price,onChange:G=>R({...T,price:parseFloat(G.target.value)||0}),className:"w-full px-3 py-2 border rounded-lg"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1",children:"Stock *"}),h.jsx("input",{type:"number",value:T.stock,onChange:G=>R({...T,stock:parseInt(G.target.value)||0}),className:"w-full px-3 py-2 border rounded-lg"})]})]}),h.jsxs("div",{className:"flex gap-2 mt-3",children:[h.jsx("button",{onClick:Re,disabled:g,className:"px-4 py-2 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] disabled:opacity-50",children:g?"Saving...":"Save Variant"}),h.jsx("button",{onClick:()=>{j(!1),x(null)},className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"})]})]}),h.jsx("div",{className:"space-y-3",children:i.variants.map(G=>h.jsxs("div",{className:"border rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium",children:G.variant_name}),h.jsxs("p",{className:"text-sm text-gray-600",children:["SKU: ",G.sku]}),h.jsxs("p",{className:"text-sm",children:["Price: Rp ",G.price.toLocaleString()," | Stock:"," ",G.stock]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>de(G),className:"p-2 text-[#0ABAB5] hover:bg-teal-50 rounded-lg",title:"Edit variant",children:h.jsx(Ro,{size:18})}),h.jsx("button",{onClick:()=>Ne(G.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Delete variant",children:h.jsx(ji,{size:18})})]})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("input",{type:"file",id:`upload-${G.id}`,accept:"image/jpeg,image/jpg,image/png,image/webp,image/heif,image/heic",multiple:!0,className:"hidden",disabled:S===G.id,onChange:B=>{const X=B.target.files;X&&X.length>0&&Oe(G.id,X)}}),h.jsx("label",{htmlFor:`upload-${G.id}`,className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 cursor-pointer w-fit",children:S===G.id?h.jsxs(h.Fragment,{children:[h.jsx(xa,{size:18,className:"animate-spin"}),"Uploading..."]}):h.jsxs(h.Fragment,{children:[h.jsx(s0,{size:18}),"Upload Images"]})}),h.jsxs("p",{className:"text-xs text-yellow-600 mt-1 flex items-center gap-1",children:[h.jsx(To,{size:14}),"Some type of images may not display correctly in all browsers, consult IT if it happens"]})]}),G.images&&G.images.length>0&&h.jsxs("div",{children:[h.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:["Images (",G.images.length,")"]}),h.jsx("div",{className:"grid grid-cols-4 gap-2",children:G.images.map(B=>h.jsxs("div",{className:"relative group",children:[h.jsx("img",{src:B.image_url,alt:"",className:"w-full h-24 object-cover rounded border-2 border-gray-200"}),B.is_primary&&h.jsx("span",{className:"absolute top-1 left-1 bg-yellow-400 text-xs font-semibold px-2 py-0.5 rounded",children:"Primary"}),h.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all rounded flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100",children:[!B.is_primary&&h.jsx("button",{onClick:()=>Pe(B.id,G.id),className:"bg-yellow-500 text-white p-1.5 rounded text-xs font-medium hover:bg-yellow-600",title:"Set as primary",children:"Set Primary"}),h.jsx("button",{onClick:()=>at(B.id,B.image_url,G.id),className:"bg-red-500 text-white p-1.5 rounded hover:bg-red-600",title:"Delete image",children:h.jsx(ji,{size:14})})]})]},B.id))})]})]},G.id))})]})]})}):h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-gray-600",children:"Product not found"}),h.jsx("button",{onClick:()=>a("/admin/products"),className:"mt-4 text-[#0ABAB5] hover:underline",children:"Back to Products"})]})})}function Sj(){const r=mr(),[a,i]=E.useState([]),[l,o]=E.useState(!1),[c,f]=E.useState(!0),[m,g]=E.useState([]),{showToast:p}=Lo(),[v,b]=E.useState({name:"",category_id:"",description:"",description_english:"",display_mode:"individual",is_featured:!1,is_active:!0}),[x,_]=E.useState({sku:"",slug:"",variant_name:"",size:"",color:"",color_hex:"",price:0,stock:0});E.useEffect(()=>{j()},[]);const j=async()=>{f(!0);try{const S=await _i.getAllCategories();i(S),S.length>0&&b(U=>({...U,category_id:S[0].id,display_mode:S[0].default_display_mode}))}catch(S){console.error("Failed to load categories:",S),p({message:"Failed to load categories",type:"error"})}finally{f(!1)}},T=S=>{const U=a.find(C=>C.id===S);b({...v,category_id:S,display_mode:U?.default_display_mode||"individual"})},R=async S=>{if(S.preventDefault(),!v.name.trim()){p({message:"Product name is required",type:"error"});return}if(!v.category_id){p({message:"Please select a category",type:"error"});return}if(!x.sku.trim()){p({message:"Variant SKU is required",type:"error"});return}if(!x.variant_name.trim()){p({message:"Variant name is required",type:"error"});return}if(x.price<=0){p({message:"Price must be greater than 0",type:"error"});return}o(!0);try{const U=await Jt.createProduct(v),C={product_id:U.id,sku:x.sku.trim(),slug:x.slug.trim(),variant_name:x.variant_name.trim(),size:x.size||void 0,color:x.color||void 0,color_hex:x.color_hex||void 0,price:x.price,stock:x.stock,is_active:!0},J=await Jt.createVariant(C);if(m.length>0){const ne=m.map((Z,k)=>Jt.uploadVariantImage(J.id,Z,k,k===0));await Promise.all(ne)}p({message:"Product created successfully!",type:"success"}),r(`/admin/products/${U.id}/edit`)}catch(U){console.error("Failed to create product:",U),p({message:U.message||"Failed to create product",type:"error"})}finally{o(!1)}};return h.jsx("div",{className:"min-h-screen bg-gray-50 p-4 lg:p-6",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"mb-6",children:[h.jsxs("button",{onClick:()=>r("/admin/products"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[h.jsx(Wd,{size:20}),"Back to Products"]}),h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create New Product"}),h.jsx("p",{className:"text-gray-600",children:"Add product details and create the first variant"})]}),h.jsxs("form",{onSubmit:R,className:"space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Product Information"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),h.jsx("input",{type:"text",value:v.name,onChange:S=>b({...v,name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"e.g., Mickey Mouse Doll",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),h.jsx("select",{value:v.category_id,onChange:S=>T(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5] bg-white",required:!0,children:a.map(S=>h.jsx("option",{value:S.id,children:S.name},S.id))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Mode"}),h.jsxs("select",{value:v.display_mode,onChange:S=>b({...v,display_mode:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5] bg-white",children:[h.jsx("option",{value:"individual",children:"Individual"}),h.jsx("option",{value:"grouped",children:"Grouped"})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-filled from category default"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),h.jsx("textarea",{value:v.description,onChange:S=>b({...v,description:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",rows:3,placeholder:"Product description in Indonesian"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (English)"}),h.jsx("textarea",{value:v.description_english,onChange:S=>b({...v,description_english:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",rows:3,placeholder:"Product description in English"})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",checked:v.is_featured,onChange:S=>b({...v,is_featured:S.target.checked}),className:"w-4 h-4 text-[#0ABAB5] border-gray-300 rounded focus:ring-[#0ABAB5]"}),h.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Featured Product"})]}),h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",checked:v.is_active,onChange:S=>b({...v,is_active:S.target.checked}),className:"w-4 h-4 text-[#0ABAB5] border-gray-300 rounded focus:ring-[#0ABAB5]"}),h.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]})]})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"First Variant *"}),h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"You can add more variants and images after creating the product."}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU *"}),h.jsx("input",{type:"text",value:x.sku,onChange:S=>_({...x,sku:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"e.g., MICKEY-XL-RED",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Variant Name *"}),h.jsx("input",{type:"text",value:x.variant_name,onChange:S=>_({...x,variant_name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"e.g., Mickey Mouse Doll - XL Red",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL Slug *"}),h.jsx("input",{type:"text",value:x.slug,onChange:S=>_({...x,slug:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"e.g., mickey-mouse-xl-red",required:!0}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated from variant name, color, and size. You can customize it."}),h.jsx("button",{type:"button",onClick:async()=>{const S=await c0(x.variant_name,x.color,x.size);_({...x,slug:S})},className:"mt-1 text-sm text-[#0ABAB5] hover:underline",children:"Auto-generate slug"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Size"}),h.jsx("input",{type:"text",value:x.size,onChange:S=>_({...x,size:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"e.g., XL, L, M"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),h.jsx("input",{type:"text",value:x.color,onChange:S=>_({...x,color:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"e.g., Red, Blue"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color Hex"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",value:x.color_hex,onChange:S=>_({...x,color_hex:S.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"#FF0000"}),h.jsx("input",{type:"color",value:x.color_hex||"#000000",onChange:S=>_({...x,color_hex:S.target.value}),className:"w-12 h-10 border border-gray-300 rounded-lg"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (IDR) *"}),h.jsx("input",{type:"number",value:x.price,onChange:S=>_({...x,price:parseFloat(S.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"150000",min:"0",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock *"}),h.jsx("input",{type:"number",value:x.stock,onChange:S=>_({...x,stock:parseInt(S.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"10",min:"0",required:!0})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Images (Optional)"}),h.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 hover:border-[#0ABAB5] transition",children:[h.jsx("input",{type:"file",id:"product-images",accept:"image/jpeg,image/jpg,image/png,image/webp,image/heif,image/heic",multiple:!0,onChange:S=>{S.target.files&&g(Array.from(S.target.files))},className:"hidden"}),h.jsx("label",{htmlFor:"product-images",className:"cursor-pointer block",children:h.jsxs("div",{className:"text-center py-4",children:[h.jsx(s0,{className:"mx-auto h-12 w-12 text-gray-400 mb-2"}),h.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Click to upload images"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, WebP up to 10MB each"}),h.jsxs("p",{className:"text-xs text-yellow-600 mt-1 flex items-center justify-center gap-1",children:[h.jsx(To,{size:14}),"Some type of images may not display correctly in all browsers, consult IT if it happens"]})]})}),m.length>0&&h.jsxs("div",{className:"mt-4",children:[h.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[m.length," image(s) selected"]}),h.jsx("div",{className:"grid grid-cols-4 gap-2",children:m.map((S,U)=>h.jsxs("div",{className:"relative group",children:[h.jsx("img",{src:URL.createObjectURL(S),alt:`Preview ${U+1}`,className:"w-full h-20 object-cover rounded border-2 border-gray-200"}),U===0&&h.jsx("span",{className:"absolute top-1 left-1 bg-yellow-400 text-xs font-semibold px-2 py-0.5 rounded",children:"Primary"}),h.jsx("button",{type:"button",onClick:()=>{g(m.filter((C,J)=>J!==U))},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm hover:bg-red-600 opacity-0 group-hover:opacity-100 transition",children:""})]},U))})]})]})]})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{type:"submit",disabled:l,className:"flex items-center gap-2 px-6 py-3 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] transition font-semibold disabled:opacity-50",children:l?h.jsxs(h.Fragment,{children:[h.jsx(xa,{size:20,className:"animate-spin"}),"Creating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Oo,{size:20}),"Create Product"]})}),h.jsxs("button",{type:"button",onClick:()=>r("/admin/products"),disabled:l,className:"flex items-center gap-2 px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition font-semibold",children:[h.jsx(Ps,{size:20}),"Cancel"]})]})]})]})})}function Ej(){const[r,a]=E.useState("list"),[i,l]=E.useState([]),[o,c]=E.useState(!0),[f,m]=E.useState(null),[g,p]=E.useState(!1),[v,b]=E.useState(!1),[x,_]=E.useState({name:"",email:"",password:"",role:"admin"});E.useEffect(()=>{R(),j()},[]);const j=async()=>{const C=await g_();p(C)},T=C=>{if(!C)return"Never";const ne=new Date().getTime()-C.getTime(),Z=Math.floor(ne/6e4),k=Math.floor(ne/36e5),ee=Math.floor(ne/864e5);return Z<1?"Just now":Z<60?`${Z} min${Z>1?"s":""} ago`:k<24?`${k} hour${k>1?"s":""} ago`:ee<7?`${ee} day${ee>1?"s":""} ago`:C.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},R=async()=>{c(!0);try{const J=(await m_()).sort((ne,Z)=>ne.lastLogin?Z.lastLogin?new Date(Z.lastLogin).getTime()-new Date(ne.lastLogin).getTime():-1:1);l(J)}catch(C){console.error("Failed to load admins:",C),alert(C.message||"Failed to load admins")}finally{c(!1)}},S=async()=>{if(!x.name||!x.email||!x.password){alert("Please fill in all fields");return}if(x.password.length<6){alert("Password must be at least 6 characters");return}b(!0);try{await wy({name:x.name,email:x.email,password:x.password,role:x.role}),alert("Admin added successfully!"),_({name:"",email:"",password:"",role:"admin"}),a("list"),await R()}catch(C){console.error("Failed to add admin:",C),alert(C.message||"Failed to add admin")}finally{b(!1)}},U=async(C,J)=>{if(confirm(`Are you sure you want to delete admin "${J}"? This cannot be undone.`))try{await p_(C),alert("Admin deleted successfully!"),m(null),await R()}catch(ne){console.error("Failed to delete admin:",ne),alert(ne.message||"Failed to delete admin")}};return E.useEffect(()=>{R()},[]),h.jsx("div",{className:"min-h-screen bg-gray-50 p-4 lg:p-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Management"}),h.jsx("p",{className:"text-gray-600",children:"Manage administrator accounts and permissions"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[h.jsx("div",{className:"lg:col-span-1",children:h.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:h.jsxs("nav",{className:"space-y-1",children:[h.jsxs("button",{onClick:()=>{a("list"),m(null)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition ${r==="list"?"bg-[#0ABAB5] text-white":"text-gray-700 hover:bg-gray-100"}`,children:[h.jsx(zd,{size:20}),h.jsx("span",{className:"font-medium",children:"Admin List"})]}),h.jsxs("button",{onClick:()=>{a("add"),m(null)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition ${r==="add"?"bg-[#0ABAB5] text-white":"text-gray-700 hover:bg-gray-100"}`,children:[h.jsx(UE,{size:20}),h.jsx("span",{className:"font-medium",children:"Add Admin"})]})]})})}),h.jsxs("div",{className:"lg:col-span-3",children:[r==="list"&&!f&&h.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Administrator List"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Click on an admin to view details"})]}),h.jsx("div",{className:"p-6",children:o?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx(xa,{className:"w-8 h-8 text-[#0ABAB5] animate-spin"})}):i.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(zd,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"No administrators found"})]}):h.jsx("div",{className:"space-y-3",children:i.map(C=>h.jsx("button",{onClick:()=>m(C),className:"w-full text-left border border-gray-200 rounded-lg p-4 hover:border-[#0ABAB5] hover:bg-teal-50 transition",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-[#0ABAB5] rounded-full flex items-center justify-center text-white font-semibold",children:C.name.charAt(0).toUpperCase()}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h3",{className:"font-semibold text-gray-900",children:C.name}),C.role==="super_admin"&&h.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-800 text-xs rounded-full font-semibold",children:"SUPER"})]}),h.jsx("p",{className:"text-sm text-gray-600",children:C.email})]})]}),h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[h.jsx(a0,{size:16}),C.lastLogin?T(new Date(C.lastLogin)):"Never"]})]})},C.id))})})]}),r==="list"&&f&&h.jsx("div",{className:"bg-white rounded-lg shadow-sm",children:h.jsxs("div",{className:"p-6",children:[g&&f.role!=="super_admin"&&h.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[h.jsxs("button",{onClick:()=>U(f.id,f.name),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:[h.jsx(ji,{size:20}),"Delete Admin"]}),h.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"This action cannot be undone. The admin will lose all access immediately."})]}),f.role==="super_admin"&&h.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:h.jsx("p",{className:"text-sm text-gray-600",children:"Super admins cannot be deleted for security reasons."})})]})}),r==="add"&&h.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx(ME,{className:"text-[#0ABAB5]",size:24}),h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add New Administrator"})]}),h.jsx("p",{className:"text-sm text-gray-600",children:g?"Create a new admin account with system access":"Only super admins can add new administrators"})]}),h.jsx("div",{className:"p-6",children:g?h.jsxs("div",{className:"max-w-2xl",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),h.jsx("input",{type:"text",value:x.name,onChange:C=>_({...x,name:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5] focus:border-transparent",placeholder:"John Doe"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),h.jsx("input",{type:"email",value:x.email,onChange:C=>_({...x,email:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5] focus:border-transparent",placeholder:"admin@example.com"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),h.jsx("input",{type:"password",value:x.password,onChange:C=>_({...x,password:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5] focus:border-transparent",placeholder:"Minimum 6 characters"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be at least 6 characters long"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),h.jsxs("select",{value:x.role,onChange:C=>_({...x,role:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5] focus:border-transparent bg-white",children:[h.jsx("option",{value:"admin",children:"Admin (Standard access)"}),h.jsx("option",{value:"super_admin",children:"Super Admin (Can manage admins)"})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Super admins can add/remove other admins"})]})]}),h.jsxs("div",{className:"flex gap-3 mt-6",children:[h.jsx("button",{onClick:S,disabled:v,className:"flex items-center gap-2 px-6 py-3 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] transition disabled:opacity-50 font-semibold",children:v?h.jsxs(h.Fragment,{children:[h.jsx(xa,{size:20,className:"animate-spin"}),"Adding Admin..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Hs,{size:20}),"Add Administrator"]})}),h.jsx("button",{onClick:()=>_({name:"",email:"",password:"",role:"admin"}),disabled:v,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition font-semibold",children:"Clear Form"})]})]}):h.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:h.jsx("p",{className:"text-yellow-800",children:"You don't have permission to add new admins. Contact a super administrator."})})})]})]})]})]})})}const jj=U1([{path:"/",element:h.jsx(XE,{})},{path:"/admin",element:h.jsx(Qp,{children:h.jsx(KE,{})}),children:[{path:"orders",element:h.jsx(ij,{})},{path:"orders/:orderId",element:h.jsx(oj,{})},{path:"products",element:h.jsx(pj,{})},{path:"products/:id/edit",element:h.jsx(_j,{})},{path:"products/new",element:h.jsx(Sj,{})},{path:"admins",element:h.jsx(Qp,{requireSuperAdmin:!0,children:h.jsx(Ej,{})})},{index:!0,element:h.jsx(uj,{})},{path:"settings",element:h.jsx(gj,{})}]},{path:"*",element:h.jsx(Xy,{to:"/",replace:!0})}]);Rb.createRoot(document.getElementById("root")).render(h.jsx(E.StrictMode,{children:h.jsx(FE,{children:h.jsx(b_,{children:h.jsx(I1,{router:jj})})})}));
