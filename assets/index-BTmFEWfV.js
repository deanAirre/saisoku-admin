function ib(r,a){for(var i=0;i<a.length;i++){const s=a[i];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const c=Object.getOwnPropertyDescriptor(s,o);c&&Object.defineProperty(r,o,c.get?c:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function lb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Jc={exports:{}},_l={};var Ug;function sb(){if(Ug)return _l;Ug=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function i(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:c}}return _l.Fragment=a,_l.jsx=i,_l.jsxs=i,_l}var zg;function ob(){return zg||(zg=1,Jc.exports=sb()),Jc.exports}var h=ob(),Xc={exports:{}},Ae={};var Mg;function ub(){if(Mg)return Ae;Mg=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),w=Symbol.iterator;function x(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function O(N,G,M){this.props=N,this.context=G,this.refs=R,this.updater=M||S}O.prototype.isReactComponent={},O.prototype.setState=function(N,G){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,G,"setState")},O.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function D(){}D.prototype=O.prototype;function B(N,G,M){this.props=N,this.context=G,this.refs=R,this.updater=M||S}var Q=B.prototype=new D;Q.constructor=B,T(Q,O.prototype),Q.isPureReactComponent=!0;var se=Array.isArray;function re(){}var k={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function de(N,G,M){var W=M.ref;return{$$typeof:r,type:N,key:G,ref:W!==void 0?W:null,props:M}}function Ce(N,G){return de(N.type,G,N.props)}function Re(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function ke(N){var G={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(M){return G[M]})}var X=/\/+/g;function be(N,G){return typeof N=="object"&&N!==null&&N.key!=null?ke(""+N.key):G.toString(36)}function pe(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(re,re):(N.status="pending",N.then(function(G){N.status==="pending"&&(N.status="fulfilled",N.value=G)},function(G){N.status==="pending"&&(N.status="rejected",N.reason=G)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function q(N,G,M,W,fe){var je=typeof N;(je==="undefined"||je==="boolean")&&(N=null);var Be=!1;if(N===null)Be=!0;else switch(je){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(N.$$typeof){case r:case a:Be=!0;break;case v:return Be=N._init,q(Be(N._payload),G,M,W,fe)}}if(Be)return fe=fe(N),Be=W===""?"."+be(N,0):W,se(fe)?(M="",Be!=null&&(M=Be.replace(X,"$&/")+"/"),q(fe,G,M,"",function(Yr){return Yr})):fe!=null&&(Re(fe)&&(fe=Ce(fe,M+(fe.key==null||N&&N.key===fe.key?"":(""+fe.key).replace(X,"$&/")+"/")+Be)),G.push(fe)),1;Be=0;var gt=W===""?".":W+":";if(se(N))for(var it=0;it<N.length;it++)W=N[it],je=gt+be(W,it),Be+=q(W,G,M,je,fe);else if(it=x(N),typeof it=="function")for(N=it.call(N),it=0;!(W=N.next()).done;)W=W.value,je=gt+be(W,it++),Be+=q(W,G,M,je,fe);else if(je==="object"){if(typeof N.then=="function")return q(pe(N),G,M,W,fe);throw G=String(N),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Be}function F(N,G,M){if(N==null)return N;var W=[],fe=0;return q(N,W,"","",function(je){return G.call(M,je,fe++)}),W}function ee(N){if(N._status===-1){var G=N._result;G=G(),G.then(function(M){(N._status===0||N._status===-1)&&(N._status=1,N._result=M)},function(M){(N._status===0||N._status===-1)&&(N._status=2,N._result=M)}),N._status===-1&&(N._status=0,N._result=G)}if(N._status===1)return N._result.default;throw N._result}var ve=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Ee={map:F,forEach:function(N,G,M){F(N,function(){G.apply(this,arguments)},M)},count:function(N){var G=0;return F(N,function(){G++}),G},toArray:function(N){return F(N,function(G){return G})||[]},only:function(N){if(!Re(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Ae.Activity=_,Ae.Children=Ee,Ae.Component=O,Ae.Fragment=i,Ae.Profiler=o,Ae.PureComponent=B,Ae.StrictMode=s,Ae.Suspense=y,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(N){return k.H.useMemoCache(N)}},Ae.cache=function(N){return function(){return N.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(N,G,M){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var W=T({},N.props),fe=N.key;if(G!=null)for(je in G.key!==void 0&&(fe=""+G.key),G)!te.call(G,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&G.ref===void 0||(W[je]=G[je]);var je=arguments.length-2;if(je===1)W.children=M;else if(1<je){for(var Be=Array(je),gt=0;gt<je;gt++)Be[gt]=arguments[gt+2];W.children=Be}return de(N.type,fe,W)},Ae.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},Ae.createElement=function(N,G,M){var W,fe={},je=null;if(G!=null)for(W in G.key!==void 0&&(je=""+G.key),G)te.call(G,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(fe[W]=G[W]);var Be=arguments.length-2;if(Be===1)fe.children=M;else if(1<Be){for(var gt=Array(Be),it=0;it<Be;it++)gt[it]=arguments[it+2];fe.children=gt}if(N&&N.defaultProps)for(W in Be=N.defaultProps,Be)fe[W]===void 0&&(fe[W]=Be[W]);return de(N,je,fe)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(N){return{$$typeof:m,render:N}},Ae.isValidElement=Re,Ae.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:ee}},Ae.memo=function(N,G){return{$$typeof:g,type:N,compare:G===void 0?null:G}},Ae.startTransition=function(N){var G=k.T,M={};k.T=M;try{var W=N(),fe=k.S;fe!==null&&fe(M,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(re,ve)}catch(je){ve(je)}finally{G!==null&&M.types!==null&&(G.types=M.types),k.T=G}},Ae.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ae.use=function(N){return k.H.use(N)},Ae.useActionState=function(N,G,M){return k.H.useActionState(N,G,M)},Ae.useCallback=function(N,G){return k.H.useCallback(N,G)},Ae.useContext=function(N){return k.H.useContext(N)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(N,G){return k.H.useDeferredValue(N,G)},Ae.useEffect=function(N,G){return k.H.useEffect(N,G)},Ae.useEffectEvent=function(N){return k.H.useEffectEvent(N)},Ae.useId=function(){return k.H.useId()},Ae.useImperativeHandle=function(N,G,M){return k.H.useImperativeHandle(N,G,M)},Ae.useInsertionEffect=function(N,G){return k.H.useInsertionEffect(N,G)},Ae.useLayoutEffect=function(N,G){return k.H.useLayoutEffect(N,G)},Ae.useMemo=function(N,G){return k.H.useMemo(N,G)},Ae.useOptimistic=function(N,G){return k.H.useOptimistic(N,G)},Ae.useReducer=function(N,G,M){return k.H.useReducer(N,G,M)},Ae.useRef=function(N){return k.H.useRef(N)},Ae.useState=function(N){return k.H.useState(N)},Ae.useSyncExternalStore=function(N,G,M){return k.H.useSyncExternalStore(N,G,M)},Ae.useTransition=function(){return k.H.useTransition()},Ae.version="19.2.3",Ae}var Bg;function Dd(){return Bg||(Bg=1,Xc.exports=ub()),Xc.exports}var A=Dd();const cb=lb(A),db=ib({__proto__:null,default:cb},[A]);var Qc={exports:{}},wl={},Fc={exports:{}},Zc={};var Lg;function fb(){return Lg||(Lg=1,(function(r){function a(q,F){var ee=q.length;q.push(F);e:for(;0<ee;){var ve=ee-1>>>1,Ee=q[ve];if(0<o(Ee,F))q[ve]=F,q[ee]=Ee,ee=ve;else break e}}function i(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var F=q[0],ee=q.pop();if(ee!==F){q[0]=ee;e:for(var ve=0,Ee=q.length,N=Ee>>>1;ve<N;){var G=2*(ve+1)-1,M=q[G],W=G+1,fe=q[W];if(0>o(M,ee))W<Ee&&0>o(fe,M)?(q[ve]=fe,q[W]=ee,ve=W):(q[ve]=M,q[G]=ee,ve=G);else if(W<Ee&&0>o(fe,ee))q[ve]=fe,q[W]=ee,ve=W;else break e}}return F}function o(q,F){var ee=q.sortIndex-F.sortIndex;return ee!==0?ee:q.id-F.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var y=[],g=[],v=1,_=null,w=3,x=!1,S=!1,T=!1,R=!1,O=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function Q(q){for(var F=i(g);F!==null;){if(F.callback===null)s(g);else if(F.startTime<=q)s(g),F.sortIndex=F.expirationTime,a(y,F);else break;F=i(g)}}function se(q){if(T=!1,Q(q),!S)if(i(y)!==null)S=!0,re||(re=!0,ke());else{var F=i(g);F!==null&&pe(se,F.startTime-q)}}var re=!1,k=-1,te=5,de=-1;function Ce(){return R?!0:!(r.unstable_now()-de<te)}function Re(){if(R=!1,re){var q=r.unstable_now();de=q;var F=!0;try{e:{S=!1,T&&(T=!1,D(k),k=-1),x=!0;var ee=w;try{t:{for(Q(q),_=i(y);_!==null&&!(_.expirationTime>q&&Ce());){var ve=_.callback;if(typeof ve=="function"){_.callback=null,w=_.priorityLevel;var Ee=ve(_.expirationTime<=q);if(q=r.unstable_now(),typeof Ee=="function"){_.callback=Ee,Q(q),F=!0;break t}_===i(y)&&s(y),Q(q)}else s(y);_=i(y)}if(_!==null)F=!0;else{var N=i(g);N!==null&&pe(se,N.startTime-q),F=!1}}break e}finally{_=null,w=ee,x=!1}F=void 0}}finally{F?ke():re=!1}}}var ke;if(typeof B=="function")ke=function(){B(Re)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,be=X.port2;X.port1.onmessage=Re,ke=function(){be.postMessage(null)}}else ke=function(){O(Re,0)};function pe(q,F){k=O(function(){q(r.unstable_now())},F)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(q){switch(w){case 1:case 2:case 3:var F=3;break;default:F=w}var ee=w;w=F;try{return q()}finally{w=ee}},r.unstable_requestPaint=function(){R=!0},r.unstable_runWithPriority=function(q,F){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ee=w;w=q;try{return F()}finally{w=ee}},r.unstable_scheduleCallback=function(q,F,ee){var ve=r.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ve+ee:ve):ee=ve,q){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=ee+Ee,q={id:v++,callback:F,priorityLevel:q,startTime:ee,expirationTime:Ee,sortIndex:-1},ee>ve?(q.sortIndex=ee,a(g,q),i(y)===null&&q===i(g)&&(T?(D(k),k=-1):T=!0,pe(se,ee-ve))):(q.sortIndex=Ee,a(y,q),S||x||(S=!0,re||(re=!0,ke()))),q},r.unstable_shouldYield=Ce,r.unstable_wrapCallback=function(q){var F=w;return function(){var ee=w;w=F;try{return q.apply(this,arguments)}finally{w=ee}}}})(Zc)),Zc}var Hg;function hb(){return Hg||(Hg=1,Fc.exports=fb()),Fc.exports}var Wc={exports:{}},Lt={};var qg;function mb(){if(qg)return Lt;qg=1;var r=Dd();function a(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,g,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:y,containerInfo:g,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Lt.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return c(y,g,null,v)},Lt.flushSync=function(y){var g=f.T,v=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=g,s.p=v,s.d.f()}},Lt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},Lt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Lt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,_=m(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:x}):v==="script"&&s.d.X(y,{crossOrigin:_,integrity:w,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Lt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},Lt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,_=m(v,g.crossOrigin);s.d.L(y,v,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Lt.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},Lt.requestFormReset=function(y){s.d.r(y)},Lt.unstable_batchedUpdates=function(y,g){return y(g)},Lt.useFormState=function(y,g,v){return f.H.useFormState(y,g,v)},Lt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Lt.version="19.2.3",Lt}var $g;function Xy(){if($g)return Wc.exports;$g=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),Wc.exports=mb(),Wc.exports}var Pg;function gb(){if(Pg)return wl;Pg=1;var r=hb(),a=Dd(),i=Xy();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(s(188))}function g(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var d=u.alternate;if(d===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===n)return y(u),e;if(d===l)return y(u),t;d=d.sibling}throw Error(s(188))}if(n.return!==l.return)n=u,l=d;else{for(var p=!1,b=u.child;b;){if(b===n){p=!0,n=u,l=d;break}if(b===l){p=!0,l=u,n=d;break}b=b.sibling}if(!p){for(b=d.child;b;){if(b===n){p=!0,n=d,l=u;break}if(b===l){p=!0,l=d,n=u;break}b=b.sibling}if(!p)throw Error(s(189))}}if(n.alternate!==l)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),B=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),Ce=Symbol.for("react.memo_cache_sentinel"),Re=Symbol.iterator;function ke(e){return e===null||typeof e!="object"?null:(e=Re&&e[Re]||e["@@iterator"],typeof e=="function"?e:null)}var X=Symbol.for("react.client.reference");function be(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===X?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case O:return"Profiler";case R:return"StrictMode";case se:return"Suspense";case re:return"SuspenseList";case de:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case B:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return t=e.displayName||null,t!==null?t:be(e.type)||"Memo";case te:t=e._payload,e=e._init;try{return be(e(t))}catch{}}return null}var pe=Array.isArray,q=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ve=[],Ee=-1;function N(e){return{current:e}}function G(e){0>Ee||(e.current=ve[Ee],ve[Ee]=null,Ee--)}function M(e,t){Ee++,ve[Ee]=e.current,e.current=t}var W=N(null),fe=N(null),je=N(null),Be=N(null);function gt(e,t){switch(M(je,t),M(fe,e),M(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?rg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=rg(t),e=ng(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(W),M(W,e)}function it(){G(W),G(fe),G(je)}function Yr(e){e.memoizedState!==null&&M(Be,e);var t=W.current,n=ng(t,e.type);t!==n&&(M(fe,e),M(W,n))}function Nn(e){fe.current===e&&(G(W),G(fe)),Be.current===e&&(G(Be),yl._currentValue=ee)}var _t,Va;function Ua(e){if(_t===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_t=t&&t[1]||"",Va=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_t+e+Va}var Ai=!1;function xa(e,t){if(!e||Ai)return"";Ai=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(V){var $=V}Reflect.construct(e,[],I)}else{try{I.call()}catch(V){$=V}e.call(I.prototype)}}else{try{throw Error()}catch(V){$=V}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(V){if(V&&$&&typeof V.stack=="string")return[V.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),p=d[0],b=d[1];if(p&&b){var j=p.split(`
`),H=b.split(`
`);for(u=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;u<H.length&&!H[u].includes("DetermineComponentFrameRoot");)u++;if(l===j.length||u===H.length)for(l=j.length-1,u=H.length-1;1<=l&&0<=u&&j[l]!==H[u];)u--;for(;1<=l&&0<=u;l--,u--)if(j[l]!==H[u]){if(l!==1||u!==1)do if(l--,u--,0>u||j[l]!==H[u]){var K=`
`+j[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=u);break}}}finally{Ai=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ua(n):""}function Mo(e,t){switch(e.tag){case 26:case 27:case 5:return Ua(e.type);case 16:return Ua("Lazy");case 13:return e.child!==t&&t!==null?Ua("Suspense Fallback"):Ua("Suspense");case 19:return Ua("SuspenseList");case 0:case 15:return xa(e.type,!1);case 11:return xa(e.type.render,!1);case 1:return xa(e.type,!0);case 31:return Ua("Activity");default:return""}}function Il(e){try{var t="",n=null;do t+=Mo(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Rn=Object.prototype.hasOwnProperty,Ti=r.unstable_scheduleCallback,Ni=r.unstable_cancelCallback,Bo=r.unstable_shouldYield,Lo=r.unstable_requestPaint,yt=r.unstable_now,Ir=r.unstable_getCurrentPriorityLevel,Ri=r.unstable_ImmediatePriority,On=r.unstable_UserBlockingPriority,$t=r.unstable_NormalPriority,Sa=r.unstable_LowPriority,Oi=r.unstable_IdlePriority,Ho=r.log,Ci=r.unstable_setDisableYieldValue,Jr=null,lt=null;function Ea(e){if(typeof Ho=="function"&&Ci(e),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(Jr,e)}catch{}}var Bt=Math.clz32?Math.clz32:Xl,Jl=Math.log,qo=Math.LN2;function Xl(e){return e>>>=0,e===0?32:31-(Jl(e)/qo|0)|0}var Ga=256,Xr=262144,mr=4194304;function Ka(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qr(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,d=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?u=Ka(l):(p&=b,p!==0?u=Ka(p):n||(n=b&~e,n!==0&&(u=Ka(n))))):(b=l&~d,b!==0?u=Ka(b):p!==0?u=Ka(p):n||(n=l&~e,n!==0&&(u=Ka(n)))),u===0?0:t!==0&&t!==u&&(t&d)===0&&(d=u&-u,n=t&-t,d>=n||d===32&&(n&4194048)!==0)?t:u}function Fr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ql(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zr(){var e=mr;return mr<<=1,(mr&62914560)===0&&(mr=4194304),e}function gr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $o(e,t,n,l,u,d){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var b=e.entanglements,j=e.expirationTimes,H=e.hiddenUpdates;for(n=p&~n;0<n;){var K=31-Bt(n),I=1<<K;b[K]=0,j[K]=-1;var $=H[K];if($!==null)for(H[K]=null,K=0;K<$.length;K++){var V=$[K];V!==null&&(V.lane&=-536870913)}n&=~I}l!==0&&Fl(e,l,0),d!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=d&~(p&~t))}function Fl(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Bt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function E(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Bt(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function z(e,t){var n=t&-t;return n=(n&42)!==0?1:P(n),(n&(e.suspendedLanes|t))!==0?0:n}function P(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function J(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Z(){var e=F.p;return e!==0?e:(e=window.event,e===void 0?32:Tg(e.type))}function he(e,t){var n=F.p;try{return F.p=e,t()}finally{F.p=n}}var ie=Math.random().toString(36).slice(2),ae="__reactFiber$"+ie,le="__reactProps$"+ie,ce="__reactContainer$"+ie,_e="__reactEvents$"+ie,ge="__reactListeners$"+ie,Ve="__reactHandles$"+ie,Le="__reactResources$"+ie,st="__reactMarker$"+ie;function ct(e){delete e[ae],delete e[le],delete e[_e],delete e[ge],delete e[Ve]}function dt(e){var t=e[ae];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ce]||n[ae]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=dg(e);e!==null;){if(n=e[ae])return n;e=dg(e)}return t}e=n,n=e.parentNode}return null}function He(e){if(e=e[ae]||e[ce]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Nt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Pt(e){var t=e[Le];return t||(t=e[Le]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function rt(e){e[st]=!0}var ja=new Set,Xt={};function Aa(e,t){oa(e,t),oa(e+"Capture",t)}function oa(e,t){for(Xt[e]=t,e=0;e<t.length;e++)ja.add(t[e])}var Ya=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wr={},en={};function qe(e){return Rn.call(en,e)?!0:Rn.call(Wr,e)?!1:Ya.test(e)?en[e]=!0:(Wr[e]=!0,!1)}function pt(e,t,n){if(qe(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ta(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ot(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tn(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zl(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,d=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(p){n=""+p,d.call(this,p)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ki(e){if(!e._valueTracker){var t=tn(e)?"checked":"value";e._valueTracker=Zl(e,t,""+e[t])}}function Xd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=tn(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function Wl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Wp=/[\n"\\]/g;function ua(e){return e.replace(Wp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Po(e,t,n,l,u,d,p,b){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+$e(t)):e.value!==""+$e(t)&&(e.value=""+$e(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?Vo(e,p,$e(t)):n!=null?Vo(e,p,$e(n)):l!=null&&e.removeAttribute("value"),u==null&&d!=null&&(e.defaultChecked=!!d),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+$e(b):e.removeAttribute("name")}function Qd(e,t,n,l,u,d,p,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||n!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){ki(e);return}n=n!=null?""+$e(n):"",t=t!=null?""+$e(t):n,b||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),ki(e)}function Vo(e,t,n){t==="number"&&Wl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Cn(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+$e(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Fd(e,t,n){if(t!=null&&(t=""+$e(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+$e(n):""}function Zd(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(s(92));if(pe(l)){if(1<l.length)throw Error(s(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=$e(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),ki(e)}function kn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ev=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wd(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||ev.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function ef(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Wd(e,u,l)}else for(var d in t)t.hasOwnProperty(d)&&Wd(e,d,t[d])}function Go(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),av=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function es(e){return av.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ia(){}var Ko=null;function Yo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Dn=null,Un=null;function tf(e){var t=He(e);if(t&&(e=t.stateNode)){var n=e[le]||null;e:switch(e=t.stateNode,t.type){case"input":if(Po(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ua(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[le]||null;if(!u)throw Error(s(90));Po(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Xd(l)}break e;case"textarea":Fd(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Cn(e,!!n.multiple,t,!1)}}}var Io=!1;function af(e,t,n){if(Io)return e(t,n);Io=!0;try{var l=e(t);return l}finally{if(Io=!1,(Dn!==null||Un!==null)&&($s(),Dn&&(t=Dn,e=Un,Un=Dn=null,tf(t),e)))for(t=0;t<e.length;t++)tf(e[t])}}function Di(e,t){var n=e.stateNode;if(n===null)return null;var l=n[le]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var Ja=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jo=!1;if(Ja)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){Jo=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{Jo=!1}var pr=null,Xo=null,ts=null;function rf(){if(ts)return ts;var e,t=Xo,n=t.length,l,u="value"in pr?pr.value:pr.textContent,d=u.length;for(e=0;e<n&&t[e]===u[e];e++);var p=n-e;for(l=1;l<=p&&t[n-l]===u[d-l];l++);return ts=u.slice(e,1<l?1-l:void 0)}function as(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rs(){return!0}function nf(){return!1}function Vt(e){function t(n,l,u,d,p){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(n=e[b],this[b]=n?n(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?rs:nf,this.isPropagationStopped=nf,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),t}var an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ns=Vt(an),zi=_({},an,{view:0,detail:0}),rv=Vt(zi),Qo,Fo,Mi,is=_({},zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mi&&(Mi&&e.type==="mousemove"?(Qo=e.screenX-Mi.screenX,Fo=e.screenY-Mi.screenY):Fo=Qo=0,Mi=e),Qo)},movementY:function(e){return"movementY"in e?e.movementY:Fo}}),lf=Vt(is),nv=_({},is,{dataTransfer:0}),iv=Vt(nv),lv=_({},zi,{relatedTarget:0}),Zo=Vt(lv),sv=_({},an,{animationName:0,elapsedTime:0,pseudoElement:0}),ov=Vt(sv),uv=_({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cv=Vt(uv),dv=_({},an,{data:0}),sf=Vt(dv),fv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mv[e])?!!t[e]:!1}function Wo(){return gv}var yv=_({},zi,{key:function(e){if(e.key){var t=fv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=as(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wo,charCode:function(e){return e.type==="keypress"?as(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?as(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pv=Vt(yv),vv=_({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),of=Vt(vv),bv=_({},zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wo}),_v=Vt(bv),wv=_({},an,{propertyName:0,elapsedTime:0,pseudoElement:0}),xv=Vt(wv),Sv=_({},is,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ev=Vt(Sv),jv=_({},an,{newState:0,oldState:0}),Av=Vt(jv),Tv=[9,13,27,32],eu=Ja&&"CompositionEvent"in window,Bi=null;Ja&&"documentMode"in document&&(Bi=document.documentMode);var Nv=Ja&&"TextEvent"in window&&!Bi,uf=Ja&&(!eu||Bi&&8<Bi&&11>=Bi),cf=" ",df=!1;function ff(e,t){switch(e){case"keyup":return Tv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zn=!1;function Rv(e,t){switch(e){case"compositionend":return hf(t);case"keypress":return t.which!==32?null:(df=!0,cf);case"textInput":return e=t.data,e===cf&&df?null:e;default:return null}}function Ov(e,t){if(zn)return e==="compositionend"||!eu&&ff(e,t)?(e=rf(),ts=Xo=pr=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uf&&t.locale!=="ko"?null:t.data;default:return null}}var Cv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cv[e.type]:t==="textarea"}function gf(e,t,n,l){Dn?Un?Un.push(l):Un=[l]:Dn=l,t=Js(t,"onChange"),0<t.length&&(n=new ns("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var Li=null,Hi=null;function kv(e){Fm(e,0)}function ls(e){var t=Nt(e);if(Xd(t))return e}function yf(e,t){if(e==="change")return t}var pf=!1;if(Ja){var tu;if(Ja){var au="oninput"in document;if(!au){var vf=document.createElement("div");vf.setAttribute("oninput","return;"),au=typeof vf.oninput=="function"}tu=au}else tu=!1;pf=tu&&(!document.documentMode||9<document.documentMode)}function bf(){Li&&(Li.detachEvent("onpropertychange",_f),Hi=Li=null)}function _f(e){if(e.propertyName==="value"&&ls(Hi)){var t=[];gf(t,Hi,e,Yo(e)),af(kv,t)}}function Dv(e,t,n){e==="focusin"?(bf(),Li=t,Hi=n,Li.attachEvent("onpropertychange",_f)):e==="focusout"&&bf()}function Uv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ls(Hi)}function zv(e,t){if(e==="click")return ls(t)}function Mv(e,t){if(e==="input"||e==="change")return ls(t)}function Bv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:Bv;function qi(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!Rn.call(t,u)||!Qt(e[u],t[u]))return!1}return!0}function wf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xf(e,t){var n=wf(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wf(n)}}function Sf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ef(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Wl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wl(e.document)}return t}function ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Lv=Ja&&"documentMode"in document&&11>=document.documentMode,Mn=null,nu=null,$i=null,iu=!1;function jf(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;iu||Mn==null||Mn!==Wl(l)||(l=Mn,"selectionStart"in l&&ru(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$i&&qi($i,l)||($i=l,l=Js(nu,"onSelect"),0<l.length&&(t=new ns("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Mn)))}function rn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bn={animationend:rn("Animation","AnimationEnd"),animationiteration:rn("Animation","AnimationIteration"),animationstart:rn("Animation","AnimationStart"),transitionrun:rn("Transition","TransitionRun"),transitionstart:rn("Transition","TransitionStart"),transitioncancel:rn("Transition","TransitionCancel"),transitionend:rn("Transition","TransitionEnd")},lu={},Af={};Ja&&(Af=document.createElement("div").style,"AnimationEvent"in window||(delete Bn.animationend.animation,delete Bn.animationiteration.animation,delete Bn.animationstart.animation),"TransitionEvent"in window||delete Bn.transitionend.transition);function nn(e){if(lu[e])return lu[e];if(!Bn[e])return e;var t=Bn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Af)return lu[e]=t[n];return e}var Tf=nn("animationend"),Nf=nn("animationiteration"),Rf=nn("animationstart"),Hv=nn("transitionrun"),qv=nn("transitionstart"),$v=nn("transitioncancel"),Of=nn("transitionend"),Cf=new Map,su="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");su.push("scrollEnd");function Na(e,t){Cf.set(e,t),Aa(t,[e])}var ss=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ca=[],Ln=0,ou=0;function os(){for(var e=Ln,t=ou=Ln=0;t<e;){var n=ca[t];ca[t++]=null;var l=ca[t];ca[t++]=null;var u=ca[t];ca[t++]=null;var d=ca[t];if(ca[t++]=null,l!==null&&u!==null){var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}d!==0&&kf(n,u,d)}}function us(e,t,n,l){ca[Ln++]=e,ca[Ln++]=t,ca[Ln++]=n,ca[Ln++]=l,ou|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function uu(e,t,n,l){return us(e,t,n,l),cs(e)}function ln(e,t){return us(e,null,null,t),cs(e)}function kf(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,d=e.return;d!==null;)d.childLanes|=n,l=d.alternate,l!==null&&(l.childLanes|=n),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(u=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,u&&t!==null&&(u=31-Bt(n),e=d.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),d):null}function cs(e){if(50<ul)throw ul=0,vc=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Hn={};function Pv(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,t,n,l){return new Pv(e,t,n,l)}function cu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xa(e,t){var n=e.alternate;return n===null?(n=Ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Df(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ds(e,t,n,l,u,d){var p=0;if(l=e,typeof e=="function")cu(e)&&(p=1);else if(typeof e=="string")p=I0(e,n,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case de:return e=Ft(31,n,t,u),e.elementType=de,e.lanes=d,e;case T:return sn(n.children,u,d,t);case R:p=8,u|=24;break;case O:return e=Ft(12,n,t,u|2),e.elementType=O,e.lanes=d,e;case se:return e=Ft(13,n,t,u),e.elementType=se,e.lanes=d,e;case re:return e=Ft(19,n,t,u),e.elementType=re,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:p=10;break e;case D:p=9;break e;case Q:p=11;break e;case k:p=14;break e;case te:p=16,l=null;break e}p=29,n=Error(s(130,e===null?"null":typeof e,"")),l=null}return t=Ft(p,n,t,u),t.elementType=e,t.type=l,t.lanes=d,t}function sn(e,t,n,l){return e=Ft(7,e,l,t),e.lanes=n,e}function du(e,t,n){return e=Ft(6,e,null,t),e.lanes=n,e}function Uf(e){var t=Ft(18,null,null,0);return t.stateNode=e,t}function fu(e,t,n){return t=Ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var zf=new WeakMap;function da(e,t){if(typeof e=="object"&&e!==null){var n=zf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Il(t)},zf.set(e,t),t)}return{value:e,source:t,stack:Il(t)}}var qn=[],$n=0,fs=null,Pi=0,fa=[],ha=0,vr=null,za=1,Ma="";function Qa(e,t){qn[$n++]=Pi,qn[$n++]=fs,fs=e,Pi=t}function Mf(e,t,n){fa[ha++]=za,fa[ha++]=Ma,fa[ha++]=vr,vr=e;var l=za;e=Ma;var u=32-Bt(l)-1;l&=~(1<<u),n+=1;var d=32-Bt(t)+u;if(30<d){var p=u-u%5;d=(l&(1<<p)-1).toString(32),l>>=p,u-=p,za=1<<32-Bt(t)+u|n<<u|l,Ma=d+e}else za=1<<d|n<<u|l,Ma=e}function hu(e){e.return!==null&&(Qa(e,1),Mf(e,1,0))}function mu(e){for(;e===fs;)fs=qn[--$n],qn[$n]=null,Pi=qn[--$n],qn[$n]=null;for(;e===vr;)vr=fa[--ha],fa[ha]=null,Ma=fa[--ha],fa[ha]=null,za=fa[--ha],fa[ha]=null}function Bf(e,t){fa[ha++]=za,fa[ha++]=Ma,fa[ha++]=vr,za=t.id,Ma=t.overflow,vr=e}var Ct=null,tt=null,Pe=!1,br=null,ma=!1,gu=Error(s(519));function _r(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vi(da(t,e)),gu}function Lf(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[ae]=e,t[le]=l,n){case"dialog":Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":case"embed":Ue("load",t);break;case"video":case"audio":for(n=0;n<dl.length;n++)Ue(dl[n],t);break;case"source":Ue("error",t);break;case"img":case"image":case"link":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"input":Ue("invalid",t),Qd(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ue("invalid",t);break;case"textarea":Ue("invalid",t),Zd(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||tg(t.textContent,n)?(l.popover!=null&&(Ue("beforetoggle",t),Ue("toggle",t)),l.onScroll!=null&&Ue("scroll",t),l.onScrollEnd!=null&&Ue("scrollend",t),l.onClick!=null&&(t.onclick=Ia),t=!0):t=!1,t||_r(e,!0)}function Hf(e){for(Ct=e.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:ma=!1;return;case 27:case 3:ma=!0;return;default:Ct=Ct.return}}function Pn(e){if(e!==Ct)return!1;if(!Pe)return Hf(e),Pe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Dc(e.type,e.memoizedProps)),n=!n),n&&tt&&_r(e),Hf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));tt=cg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));tt=cg(e)}else t===27?(t=tt,Ur(e.type)?(e=Lc,Lc=null,tt=e):tt=t):tt=Ct?ya(e.stateNode.nextSibling):null;return!0}function on(){tt=Ct=null,Pe=!1}function yu(){var e=br;return e!==null&&(It===null?It=e:It.push.apply(It,e),br=null),e}function Vi(e){br===null?br=[e]:br.push(e)}var pu=N(null),un=null,Fa=null;function wr(e,t,n){M(pu,t._currentValue),t._currentValue=n}function Za(e){e._currentValue=pu.current,G(pu)}function vu(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function bu(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var d=u.dependencies;if(d!==null){var p=u.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=u;for(var j=0;j<t.length;j++)if(b.context===t[j]){d.lanes|=n,b=d.alternate,b!==null&&(b.lanes|=n),vu(d.return,n,e),l||(p=null);break e}d=b.next}}else if(u.tag===18){if(p=u.return,p===null)throw Error(s(341));p.lanes|=n,d=p.alternate,d!==null&&(d.lanes|=n),vu(p,n,e),p=null}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===e){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}}function Vn(e,t,n,l){e=null;for(var u=t,d=!1;u!==null;){if(!d){if((u.flags&524288)!==0)d=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var p=u.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var b=u.type;Qt(u.pendingProps.value,p.value)||(e!==null?e.push(b):e=[b])}}else if(u===Be.current){if(p=u.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(yl):e=[yl])}u=u.return}e!==null&&bu(t,e,n,l),t.flags|=262144}function hs(e){for(e=e.firstContext;e!==null;){if(!Qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function cn(e){un=e,Fa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function kt(e){return qf(un,e)}function ms(e,t){return un===null&&cn(e),qf(e,t)}function qf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Fa===null){if(e===null)throw Error(s(308));Fa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Fa=Fa.next=t;return n}var Vv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Gv=r.unstable_scheduleCallback,Kv=r.unstable_NormalPriority,wt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _u(){return{controller:new Vv,data:new Map,refCount:0}}function Gi(e){e.refCount--,e.refCount===0&&Gv(Kv,function(){e.controller.abort()})}var Ki=null,wu=0,Gn=0,Kn=null;function Yv(e,t){if(Ki===null){var n=Ki=[];wu=0,Gn=Ec(),Kn={status:"pending",value:void 0,then:function(l){n.push(l)}}}return wu++,t.then($f,$f),t}function $f(){if(--wu===0&&Ki!==null){Kn!==null&&(Kn.status="fulfilled");var e=Ki;Ki=null,Gn=0,Kn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Iv(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var Pf=q.S;q.S=function(e,t){jm=yt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Yv(e,t),Pf!==null&&Pf(e,t)};var dn=N(null);function xu(){var e=dn.current;return e!==null?e:Ze.pooledCache}function gs(e,t){t===null?M(dn,dn.current):M(dn,t.pool)}function Vf(){var e=xu();return e===null?null:{parent:wt._currentValue,pool:e}}var Yn=Error(s(460)),Su=Error(s(474)),ys=Error(s(542)),ps={then:function(){}};function Gf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Kf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ia,Ia),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,If(e),e;default:if(typeof t.status=="string")t.then(Ia,Ia);else{if(e=Ze,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,If(e),e}throw hn=t,Yn}}function fn(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(hn=n,Yn):n}}var hn=null;function Yf(){if(hn===null)throw Error(s(459));var e=hn;return hn=null,e}function If(e){if(e===Yn||e===ys)throw Error(s(483))}var In=null,Yi=0;function vs(e){var t=Yi;return Yi+=1,In===null&&(In=[]),Kf(In,e,t)}function Ii(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function bs(e,t){throw t.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Jf(e){function t(U,C){if(e){var L=U.deletions;L===null?(U.deletions=[C],U.flags|=16):L.push(C)}}function n(U,C){if(!e)return null;for(;C!==null;)t(U,C),C=C.sibling;return null}function l(U){for(var C=new Map;U!==null;)U.key!==null?C.set(U.key,U):C.set(U.index,U),U=U.sibling;return C}function u(U,C){return U=Xa(U,C),U.index=0,U.sibling=null,U}function d(U,C,L){return U.index=L,e?(L=U.alternate,L!==null?(L=L.index,L<C?(U.flags|=67108866,C):L):(U.flags|=67108866,C)):(U.flags|=1048576,C)}function p(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function b(U,C,L,Y){return C===null||C.tag!==6?(C=du(L,U.mode,Y),C.return=U,C):(C=u(C,L),C.return=U,C)}function j(U,C,L,Y){var ye=L.type;return ye===T?K(U,C,L.props.children,Y,L.key):C!==null&&(C.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===te&&fn(ye)===C.type)?(C=u(C,L.props),Ii(C,L),C.return=U,C):(C=ds(L.type,L.key,L.props,null,U.mode,Y),Ii(C,L),C.return=U,C)}function H(U,C,L,Y){return C===null||C.tag!==4||C.stateNode.containerInfo!==L.containerInfo||C.stateNode.implementation!==L.implementation?(C=fu(L,U.mode,Y),C.return=U,C):(C=u(C,L.children||[]),C.return=U,C)}function K(U,C,L,Y,ye){return C===null||C.tag!==7?(C=sn(L,U.mode,Y,ye),C.return=U,C):(C=u(C,L),C.return=U,C)}function I(U,C,L){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=du(""+C,U.mode,L),C.return=U,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case x:return L=ds(C.type,C.key,C.props,null,U.mode,L),Ii(L,C),L.return=U,L;case S:return C=fu(C,U.mode,L),C.return=U,C;case te:return C=fn(C),I(U,C,L)}if(pe(C)||ke(C))return C=sn(C,U.mode,L,null),C.return=U,C;if(typeof C.then=="function")return I(U,vs(C),L);if(C.$$typeof===B)return I(U,ms(U,C),L);bs(U,C)}return null}function $(U,C,L,Y){var ye=C!==null?C.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ye!==null?null:b(U,C,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case x:return L.key===ye?j(U,C,L,Y):null;case S:return L.key===ye?H(U,C,L,Y):null;case te:return L=fn(L),$(U,C,L,Y)}if(pe(L)||ke(L))return ye!==null?null:K(U,C,L,Y,null);if(typeof L.then=="function")return $(U,C,vs(L),Y);if(L.$$typeof===B)return $(U,C,ms(U,L),Y);bs(U,L)}return null}function V(U,C,L,Y,ye){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(L)||null,b(C,U,""+Y,ye);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case x:return U=U.get(Y.key===null?L:Y.key)||null,j(C,U,Y,ye);case S:return U=U.get(Y.key===null?L:Y.key)||null,H(C,U,Y,ye);case te:return Y=fn(Y),V(U,C,L,Y,ye)}if(pe(Y)||ke(Y))return U=U.get(L)||null,K(C,U,Y,ye,null);if(typeof Y.then=="function")return V(U,C,L,vs(Y),ye);if(Y.$$typeof===B)return V(U,C,L,ms(C,Y),ye);bs(C,Y)}return null}function oe(U,C,L,Y){for(var ye=null,Ge=null,ue=C,Ne=C=0,Me=null;ue!==null&&Ne<L.length;Ne++){ue.index>Ne?(Me=ue,ue=null):Me=ue.sibling;var Ke=$(U,ue,L[Ne],Y);if(Ke===null){ue===null&&(ue=Me);break}e&&ue&&Ke.alternate===null&&t(U,ue),C=d(Ke,C,Ne),Ge===null?ye=Ke:Ge.sibling=Ke,Ge=Ke,ue=Me}if(Ne===L.length)return n(U,ue),Pe&&Qa(U,Ne),ye;if(ue===null){for(;Ne<L.length;Ne++)ue=I(U,L[Ne],Y),ue!==null&&(C=d(ue,C,Ne),Ge===null?ye=ue:Ge.sibling=ue,Ge=ue);return Pe&&Qa(U,Ne),ye}for(ue=l(ue);Ne<L.length;Ne++)Me=V(ue,U,Ne,L[Ne],Y),Me!==null&&(e&&Me.alternate!==null&&ue.delete(Me.key===null?Ne:Me.key),C=d(Me,C,Ne),Ge===null?ye=Me:Ge.sibling=Me,Ge=Me);return e&&ue.forEach(function(Hr){return t(U,Hr)}),Pe&&Qa(U,Ne),ye}function we(U,C,L,Y){if(L==null)throw Error(s(151));for(var ye=null,Ge=null,ue=C,Ne=C=0,Me=null,Ke=L.next();ue!==null&&!Ke.done;Ne++,Ke=L.next()){ue.index>Ne?(Me=ue,ue=null):Me=ue.sibling;var Hr=$(U,ue,Ke.value,Y);if(Hr===null){ue===null&&(ue=Me);break}e&&ue&&Hr.alternate===null&&t(U,ue),C=d(Hr,C,Ne),Ge===null?ye=Hr:Ge.sibling=Hr,Ge=Hr,ue=Me}if(Ke.done)return n(U,ue),Pe&&Qa(U,Ne),ye;if(ue===null){for(;!Ke.done;Ne++,Ke=L.next())Ke=I(U,Ke.value,Y),Ke!==null&&(C=d(Ke,C,Ne),Ge===null?ye=Ke:Ge.sibling=Ke,Ge=Ke);return Pe&&Qa(U,Ne),ye}for(ue=l(ue);!Ke.done;Ne++,Ke=L.next())Ke=V(ue,U,Ne,Ke.value,Y),Ke!==null&&(e&&Ke.alternate!==null&&ue.delete(Ke.key===null?Ne:Ke.key),C=d(Ke,C,Ne),Ge===null?ye=Ke:Ge.sibling=Ke,Ge=Ke);return e&&ue.forEach(function(nb){return t(U,nb)}),Pe&&Qa(U,Ne),ye}function Fe(U,C,L,Y){if(typeof L=="object"&&L!==null&&L.type===T&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case x:e:{for(var ye=L.key;C!==null;){if(C.key===ye){if(ye=L.type,ye===T){if(C.tag===7){n(U,C.sibling),Y=u(C,L.props.children),Y.return=U,U=Y;break e}}else if(C.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===te&&fn(ye)===C.type){n(U,C.sibling),Y=u(C,L.props),Ii(Y,L),Y.return=U,U=Y;break e}n(U,C);break}else t(U,C);C=C.sibling}L.type===T?(Y=sn(L.props.children,U.mode,Y,L.key),Y.return=U,U=Y):(Y=ds(L.type,L.key,L.props,null,U.mode,Y),Ii(Y,L),Y.return=U,U=Y)}return p(U);case S:e:{for(ye=L.key;C!==null;){if(C.key===ye)if(C.tag===4&&C.stateNode.containerInfo===L.containerInfo&&C.stateNode.implementation===L.implementation){n(U,C.sibling),Y=u(C,L.children||[]),Y.return=U,U=Y;break e}else{n(U,C);break}else t(U,C);C=C.sibling}Y=fu(L,U.mode,Y),Y.return=U,U=Y}return p(U);case te:return L=fn(L),Fe(U,C,L,Y)}if(pe(L))return oe(U,C,L,Y);if(ke(L)){if(ye=ke(L),typeof ye!="function")throw Error(s(150));return L=ye.call(L),we(U,C,L,Y)}if(typeof L.then=="function")return Fe(U,C,vs(L),Y);if(L.$$typeof===B)return Fe(U,C,ms(U,L),Y);bs(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,C!==null&&C.tag===6?(n(U,C.sibling),Y=u(C,L),Y.return=U,U=Y):(n(U,C),Y=du(L,U.mode,Y),Y.return=U,U=Y),p(U)):n(U,C)}return function(U,C,L,Y){try{Yi=0;var ye=Fe(U,C,L,Y);return In=null,ye}catch(ue){if(ue===Yn||ue===ys)throw ue;var Ge=Ft(29,ue,null,U.mode);return Ge.lanes=Y,Ge.return=U,Ge}}}var mn=Jf(!0),Xf=Jf(!1),xr=!1;function Eu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ju(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=cs(e),kf(e,null,n),t}return us(e,l,t,n),cs(e)}function Ji(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,E(e,n)}}function Au(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};d===null?u=d=p:d=d.next=p,n=n.next}while(n!==null);d===null?u=d=t:d=d.next=t}else u=d=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Tu=!1;function Xi(){if(Tu){var e=Kn;if(e!==null)throw e}}function Qi(e,t,n,l){Tu=!1;var u=e.updateQueue;xr=!1;var d=u.firstBaseUpdate,p=u.lastBaseUpdate,b=u.shared.pending;if(b!==null){u.shared.pending=null;var j=b,H=j.next;j.next=null,p===null?d=H:p.next=H,p=j;var K=e.alternate;K!==null&&(K=K.updateQueue,b=K.lastBaseUpdate,b!==p&&(b===null?K.firstBaseUpdate=H:b.next=H,K.lastBaseUpdate=j))}if(d!==null){var I=u.baseState;p=0,K=H=j=null,b=d;do{var $=b.lane&-536870913,V=$!==b.lane;if(V?(ze&$)===$:(l&$)===$){$!==0&&$===Gn&&(Tu=!0),K!==null&&(K=K.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var oe=e,we=b;$=t;var Fe=n;switch(we.tag){case 1:if(oe=we.payload,typeof oe=="function"){I=oe.call(Fe,I,$);break e}I=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=we.payload,$=typeof oe=="function"?oe.call(Fe,I,$):oe,$==null)break e;I=_({},I,$);break e;case 2:xr=!0}}$=b.callback,$!==null&&(e.flags|=64,V&&(e.flags|=8192),V=u.callbacks,V===null?u.callbacks=[$]:V.push($))}else V={lane:$,tag:b.tag,payload:b.payload,callback:b.callback,next:null},K===null?(H=K=V,j=I):K=K.next=V,p|=$;if(b=b.next,b===null){if(b=u.shared.pending,b===null)break;V=b,b=V.next,V.next=null,u.lastBaseUpdate=V,u.shared.pending=null}}while(!0);K===null&&(j=I),u.baseState=j,u.firstBaseUpdate=H,u.lastBaseUpdate=K,d===null&&(u.shared.lanes=0),Rr|=p,e.lanes=p,e.memoizedState=I}}function Qf(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Ff(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Qf(n[e],t)}var Jn=N(null),_s=N(0);function Zf(e,t){e=sr,M(_s,e),M(Jn,t),sr=e|t.baseLanes}function Nu(){M(_s,sr),M(Jn,Jn.current)}function Ru(){sr=_s.current,G(Jn),G(_s)}var Zt=N(null),ga=null;function jr(e){var t=e.alternate;M(vt,vt.current&1),M(Zt,e),ga===null&&(t===null||Jn.current!==null||t.memoizedState!==null)&&(ga=e)}function Ou(e){M(vt,vt.current),M(Zt,e),ga===null&&(ga=e)}function Wf(e){e.tag===22?(M(vt,vt.current),M(Zt,e),ga===null&&(ga=e)):Ar()}function Ar(){M(vt,vt.current),M(Zt,Zt.current)}function Wt(e){G(Zt),ga===e&&(ga=null),G(vt)}var vt=N(0);function ws(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Mc(n)||Bc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wa=0,Te=null,Xe=null,xt=null,xs=!1,Xn=!1,gn=!1,Ss=0,Fi=0,Qn=null,Jv=0;function ft(){throw Error(s(321))}function Cu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qt(e[n],t[n]))return!1;return!0}function ku(e,t,n,l,u,d){return Wa=d,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?Mh:Iu,gn=!1,d=n(l,u),gn=!1,Xn&&(d=th(t,n,l,u)),eh(e),d}function eh(e){q.H=el;var t=Xe!==null&&Xe.next!==null;if(Wa=0,xt=Xe=Te=null,xs=!1,Fi=0,Qn=null,t)throw Error(s(300));e===null||St||(e=e.dependencies,e!==null&&hs(e)&&(St=!0))}function th(e,t,n,l){Te=e;var u=0;do{if(Xn&&(Qn=null),Fi=0,Xn=!1,25<=u)throw Error(s(301));if(u+=1,xt=Xe=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}q.H=Bh,d=t(n,l)}while(Xn);return d}function Xv(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?Zi(t):t,e=e.useState()[0],(Xe!==null?Xe.memoizedState:null)!==e&&(Te.flags|=1024),t}function Du(){var e=Ss!==0;return Ss=0,e}function Uu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function zu(e){if(xs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}xs=!1}Wa=0,xt=Xe=Te=null,Xn=!1,Fi=Ss=0,Qn=null}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Te.memoizedState=xt=e:xt=xt.next=e,xt}function bt(){if(Xe===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=xt===null?Te.memoizedState:xt.next;if(t!==null)xt=t,Xe=e;else{if(e===null)throw Te.alternate===null?Error(s(467)):Error(s(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},xt===null?Te.memoizedState=xt=e:xt=xt.next=e}return xt}function Es(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zi(e){var t=Fi;return Fi+=1,Qn===null&&(Qn=[]),e=Kf(Qn,e,t),t=Te,(xt===null?t.memoizedState:xt.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?Mh:Iu),e}function js(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zi(e);if(e.$$typeof===B)return kt(e)}throw Error(s(438,String(e)))}function Mu(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Es(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=Ce;return t.index++,n}function er(e,t){return typeof t=="function"?t(e):t}function As(e){var t=bt();return Bu(t,Xe,e)}function Bu(e,t,n){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var u=e.baseQueue,d=l.pending;if(d!==null){if(u!==null){var p=u.next;u.next=d.next,d.next=p}t.baseQueue=u=d,l.pending=null}if(d=e.baseState,u===null)e.memoizedState=d;else{t=u.next;var b=p=null,j=null,H=t,K=!1;do{var I=H.lane&-536870913;if(I!==H.lane?(ze&I)===I:(Wa&I)===I){var $=H.revertLane;if($===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),I===Gn&&(K=!0);else if((Wa&$)===$){H=H.next,$===Gn&&(K=!0);continue}else I={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},j===null?(b=j=I,p=d):j=j.next=I,Te.lanes|=$,Rr|=$;I=H.action,gn&&n(d,I),d=H.hasEagerState?H.eagerState:n(d,I)}else $={lane:I,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},j===null?(b=j=$,p=d):j=j.next=$,Te.lanes|=I,Rr|=I;H=H.next}while(H!==null&&H!==t);if(j===null?p=d:j.next=b,!Qt(d,e.memoizedState)&&(St=!0,K&&(n=Kn,n!==null)))throw n;e.memoizedState=d,e.baseState=p,e.baseQueue=j,l.lastRenderedState=d}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Lu(e){var t=bt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,d=t.memoizedState;if(u!==null){n.pending=null;var p=u=u.next;do d=e(d,p.action),p=p.next;while(p!==u);Qt(d,t.memoizedState)||(St=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,l]}function ah(e,t,n){var l=Te,u=bt(),d=Pe;if(d){if(n===void 0)throw Error(s(407));n=n()}else n=t();var p=!Qt((Xe||u).memoizedState,n);if(p&&(u.memoizedState=n,St=!0),u=u.queue,$u(ih.bind(null,l,u,e),[e]),u.getSnapshot!==t||p||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,Fn(9,{destroy:void 0},nh.bind(null,l,u,n,t),null),Ze===null)throw Error(s(349));d||(Wa&127)!==0||rh(l,t,n)}return n}function rh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=Es(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nh(e,t,n,l){t.value=n,t.getSnapshot=l,lh(t)&&sh(e)}function ih(e,t,n){return n(function(){lh(t)&&sh(e)})}function lh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qt(e,n)}catch{return!0}}function sh(e){var t=ln(e,2);t!==null&&Jt(t,e,2)}function Hu(e){var t=qt();if(typeof e=="function"){var n=e;if(e=n(),gn){Ea(!0);try{n()}finally{Ea(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:e},t}function oh(e,t,n,l){return e.baseState=n,Bu(e,Xe,typeof l=="function"?l:er)}function Qv(e,t,n,l,u){if(Rs(e))throw Error(s(485));if(e=t.action,e!==null){var d={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){d.listeners.push(p)}};q.T!==null?n(!0):d.isTransition=!1,l(d),n=t.pending,n===null?(d.next=t.pending=d,uh(t,d)):(d.next=n.next,t.pending=n.next=d)}}function uh(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var d=q.T,p={};q.T=p;try{var b=n(u,l),j=q.S;j!==null&&j(p,b),ch(e,t,b)}catch(H){qu(e,t,H)}finally{d!==null&&p.types!==null&&(d.types=p.types),q.T=d}}else try{d=n(u,l),ch(e,t,d)}catch(H){qu(e,t,H)}}function ch(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){dh(e,t,l)},function(l){return qu(e,t,l)}):dh(e,t,n)}function dh(e,t,n){t.status="fulfilled",t.value=n,fh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,uh(e,n)))}function qu(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,fh(t),t=t.next;while(t!==l)}e.action=null}function fh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function hh(e,t){return t}function mh(e,t){if(Pe){var n=Ze.formState;if(n!==null){e:{var l=Te;if(Pe){if(tt){t:{for(var u=tt,d=ma;u.nodeType!==8;){if(!d){u=null;break t}if(u=ya(u.nextSibling),u===null){u=null;break t}}d=u.data,u=d==="F!"||d==="F"?u:null}if(u){tt=ya(u.nextSibling),l=u.data==="F!";break e}}_r(l)}l=!1}l&&(t=n[0])}}return n=qt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hh,lastRenderedState:t},n.queue=l,n=Dh.bind(null,Te,l),l.dispatch=n,l=Hu(!1),d=Yu.bind(null,Te,!1,l.queue),l=qt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=Qv.bind(null,Te,u,d,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function gh(e){var t=bt();return yh(t,Xe,e)}function yh(e,t,n){if(t=Bu(e,t,hh)[0],e=As(er)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Zi(t)}catch(p){throw p===Yn?ys:p}else l=t;t=bt();var u=t.queue,d=u.dispatch;return n!==t.memoizedState&&(Te.flags|=2048,Fn(9,{destroy:void 0},Fv.bind(null,u,n),null)),[l,d,e]}function Fv(e,t){e.action=t}function ph(e){var t=bt(),n=Xe;if(n!==null)return yh(t,n,e);bt(),t=t.memoizedState,n=bt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Fn(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Te.updateQueue,t===null&&(t=Es(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function vh(){return bt().memoizedState}function Ts(e,t,n,l){var u=qt();Te.flags|=e,u.memoizedState=Fn(1|t,{destroy:void 0},n,l===void 0?null:l)}function Ns(e,t,n,l){var u=bt();l=l===void 0?null:l;var d=u.memoizedState.inst;Xe!==null&&l!==null&&Cu(l,Xe.memoizedState.deps)?u.memoizedState=Fn(t,d,n,l):(Te.flags|=e,u.memoizedState=Fn(1|t,d,n,l))}function bh(e,t){Ts(8390656,8,e,t)}function $u(e,t){Ns(2048,8,e,t)}function Zv(e){Te.flags|=4;var t=Te.updateQueue;if(t===null)t=Es(),Te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function _h(e){var t=bt().memoizedState;return Zv({ref:t,nextImpl:e}),function(){if((Ye&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function wh(e,t){return Ns(4,2,e,t)}function xh(e,t){return Ns(4,4,e,t)}function Sh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Eh(e,t,n){n=n!=null?n.concat([e]):null,Ns(4,4,Sh.bind(null,t,e),n)}function Pu(){}function jh(e,t){var n=bt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Cu(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function Ah(e,t){var n=bt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Cu(t,l[1]))return l[0];if(l=e(),gn){Ea(!0);try{e()}finally{Ea(!1)}}return n.memoizedState=[l,t],l}function Vu(e,t,n){return n===void 0||(Wa&1073741824)!==0&&(ze&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Tm(),Te.lanes|=e,Rr|=e,n)}function Th(e,t,n,l){return Qt(n,t)?n:Jn.current!==null?(e=Vu(e,n,l),Qt(e,t)||(St=!0),e):(Wa&42)===0||(Wa&1073741824)!==0&&(ze&261930)===0?(St=!0,e.memoizedState=n):(e=Tm(),Te.lanes|=e,Rr|=e,t)}function Nh(e,t,n,l,u){var d=F.p;F.p=d!==0&&8>d?d:8;var p=q.T,b={};q.T=b,Yu(e,!1,t,n);try{var j=u(),H=q.S;if(H!==null&&H(b,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var K=Iv(j,l);Wi(e,t,K,aa(e))}else Wi(e,t,l,aa(e))}catch(I){Wi(e,t,{then:function(){},status:"rejected",reason:I},aa())}finally{F.p=d,p!==null&&b.types!==null&&(p.types=b.types),q.T=p}}function Wv(){}function Gu(e,t,n,l){if(e.tag!==5)throw Error(s(476));var u=Rh(e).queue;Nh(e,u,t,ee,n===null?Wv:function(){return Oh(e),n(l)})}function Rh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:ee},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Oh(e){var t=Rh(e);t.next===null&&(t=e.alternate.memoizedState),Wi(e,t.next.queue,{},aa())}function Ku(){return kt(yl)}function Ch(){return bt().memoizedState}function kh(){return bt().memoizedState}function e0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=aa();e=Sr(n);var l=Er(t,e,n);l!==null&&(Jt(l,t,n),Ji(l,t,n)),t={cache:_u()},e.payload=t;return}t=t.return}}function t0(e,t,n){var l=aa();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Rs(e)?Uh(t,n):(n=uu(e,t,n,l),n!==null&&(Jt(n,e,l),zh(n,t,l)))}function Dh(e,t,n){var l=aa();Wi(e,t,n,l)}function Wi(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rs(e))Uh(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var p=t.lastRenderedState,b=d(p,n);if(u.hasEagerState=!0,u.eagerState=b,Qt(b,p))return us(e,t,u,0),Ze===null&&os(),!1}catch{}if(n=uu(e,t,u,l),n!==null)return Jt(n,e,l),zh(n,t,l),!0}return!1}function Yu(e,t,n,l){if(l={lane:2,revertLane:Ec(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Rs(e)){if(t)throw Error(s(479))}else t=uu(e,n,l,2),t!==null&&Jt(t,e,2)}function Rs(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Uh(e,t){Xn=xs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zh(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,E(e,n)}}var el={readContext:kt,use:js,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};el.useEffectEvent=ft;var Mh={readContext:kt,use:js,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:bh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ts(4194308,4,Sh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ts(4194308,4,e,t)},useInsertionEffect:function(e,t){Ts(4,2,e,t)},useMemo:function(e,t){var n=qt();t=t===void 0?null:t;var l=e();if(gn){Ea(!0);try{e()}finally{Ea(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=qt();if(n!==void 0){var u=n(t);if(gn){Ea(!0);try{n(t)}finally{Ea(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=t0.bind(null,Te,e),[l.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:function(e){e=Hu(e);var t=e.queue,n=Dh.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Pu,useDeferredValue:function(e,t){var n=qt();return Vu(n,e,t)},useTransition:function(){var e=Hu(!1);return e=Nh.bind(null,Te,e.queue,!0,!1),qt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Te,u=qt();if(Pe){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Ze===null)throw Error(s(349));(ze&127)!==0||rh(l,t,n)}u.memoizedState=n;var d={value:n,getSnapshot:t};return u.queue=d,bh(ih.bind(null,l,d,e),[e]),l.flags|=2048,Fn(9,{destroy:void 0},nh.bind(null,l,d,n,t),null),n},useId:function(){var e=qt(),t=Ze.identifierPrefix;if(Pe){var n=Ma,l=za;n=(l&~(1<<32-Bt(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Ss++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Jv++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ku,useFormState:mh,useActionState:mh,useOptimistic:function(e){var t=qt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Yu.bind(null,Te,!0,n),n.dispatch=t,[e,t]},useMemoCache:Mu,useCacheRefresh:function(){return qt().memoizedState=e0.bind(null,Te)},useEffectEvent:function(e){var t=qt(),n={impl:e};return t.memoizedState=n,function(){if((Ye&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},Iu={readContext:kt,use:js,useCallback:jh,useContext:kt,useEffect:$u,useImperativeHandle:Eh,useInsertionEffect:wh,useLayoutEffect:xh,useMemo:Ah,useReducer:As,useRef:vh,useState:function(){return As(er)},useDebugValue:Pu,useDeferredValue:function(e,t){var n=bt();return Th(n,Xe.memoizedState,e,t)},useTransition:function(){var e=As(er)[0],t=bt().memoizedState;return[typeof e=="boolean"?e:Zi(e),t]},useSyncExternalStore:ah,useId:Ch,useHostTransitionStatus:Ku,useFormState:gh,useActionState:gh,useOptimistic:function(e,t){var n=bt();return oh(n,Xe,e,t)},useMemoCache:Mu,useCacheRefresh:kh};Iu.useEffectEvent=_h;var Bh={readContext:kt,use:js,useCallback:jh,useContext:kt,useEffect:$u,useImperativeHandle:Eh,useInsertionEffect:wh,useLayoutEffect:xh,useMemo:Ah,useReducer:Lu,useRef:vh,useState:function(){return Lu(er)},useDebugValue:Pu,useDeferredValue:function(e,t){var n=bt();return Xe===null?Vu(n,e,t):Th(n,Xe.memoizedState,e,t)},useTransition:function(){var e=Lu(er)[0],t=bt().memoizedState;return[typeof e=="boolean"?e:Zi(e),t]},useSyncExternalStore:ah,useId:Ch,useHostTransitionStatus:Ku,useFormState:ph,useActionState:ph,useOptimistic:function(e,t){var n=bt();return Xe!==null?oh(n,Xe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Mu,useCacheRefresh:kh};Bh.useEffectEvent=_h;function Ju(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:_({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=aa(),u=Sr(l);u.payload=t,n!=null&&(u.callback=n),t=Er(e,u,l),t!==null&&(Jt(t,e,l),Ji(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=aa(),u=Sr(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Er(e,u,l),t!==null&&(Jt(t,e,l),Ji(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=aa(),l=Sr(n);l.tag=2,t!=null&&(l.callback=t),t=Er(e,l,n),t!==null&&(Jt(t,e,n),Ji(t,e,n))}};function Lh(e,t,n,l,u,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,p):t.prototype&&t.prototype.isPureReactComponent?!qi(n,l)||!qi(u,d):!0}function Hh(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&Xu.enqueueReplaceState(t,t.state,null)}function yn(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=_({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function qh(e){ss(e)}function $h(e){console.error(e)}function Ph(e){ss(e)}function Os(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Vh(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Qu(e,t,n){return n=Sr(n),n.tag=3,n.payload={element:null},n.callback=function(){Os(e,t)},n}function Gh(e){return e=Sr(e),e.tag=3,e}function Kh(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var d=l.value;e.payload=function(){return u(d)},e.callback=function(){Vh(t,n,l)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Vh(t,n,l),typeof u!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function a0(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Vn(t,n,u,!0),n=Zt.current,n!==null){switch(n.tag){case 31:case 13:return ga===null?Ps():n.alternate===null&&ht===0&&(ht=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===ps?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),wc(e,l,u)),!1;case 22:return n.flags|=65536,l===ps?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),wc(e,l,u)),!1}throw Error(s(435,n.tag))}return wc(e,l,u),Ps(),!1}if(Pe)return t=Zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==gu&&(e=Error(s(422),{cause:l}),Vi(da(e,n)))):(l!==gu&&(t=Error(s(423),{cause:l}),Vi(da(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=da(l,n),u=Qu(e.stateNode,l,u),Au(e,u),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=da(d,n),ol===null?ol=[d]:ol.push(d),ht!==4&&(ht=2),t===null)return!0;l=da(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=Qu(n.stateNode,l,e),Au(n,e),!1;case 1:if(t=n.type,d=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Or===null||!Or.has(d))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Gh(u),Kh(u,e,n,l),Au(n,u),!1}n=n.return}while(n!==null);return!1}var Fu=Error(s(461)),St=!1;function Dt(e,t,n,l){t.child=e===null?Xf(t,null,n,l):mn(t,e.child,n,l)}function Yh(e,t,n,l,u){n=n.render;var d=t.ref;if("ref"in l){var p={};for(var b in l)b!=="ref"&&(p[b]=l[b])}else p=l;return cn(t),l=ku(e,t,n,p,d,u),b=Du(),e!==null&&!St?(Uu(e,t,u),tr(e,t,u)):(Pe&&b&&hu(t),t.flags|=1,Dt(e,t,l,u),t.child)}function Ih(e,t,n,l,u){if(e===null){var d=n.type;return typeof d=="function"&&!cu(d)&&d.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=d,Jh(e,t,d,l,u)):(e=ds(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!ic(e,u)){var p=d.memoizedProps;if(n=n.compare,n=n!==null?n:qi,n(p,l)&&e.ref===t.ref)return tr(e,t,u)}return t.flags|=1,e=Xa(d,l),e.ref=t.ref,e.return=t,t.child=e}function Jh(e,t,n,l,u){if(e!==null){var d=e.memoizedProps;if(qi(d,l)&&e.ref===t.ref)if(St=!1,t.pendingProps=l=d,ic(e,u))(e.flags&131072)!==0&&(St=!0);else return t.lanes=e.lanes,tr(e,t,u)}return Zu(e,t,n,l,u)}function Xh(e,t,n,l){var u=l.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~d}else l=0,t.child=null;return Qh(e,t,d,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&gs(t,d!==null?d.cachePool:null),d!==null?Zf(t,d):Nu(),Wf(t);else return l=t.lanes=536870912,Qh(e,t,d!==null?d.baseLanes|n:n,n,l)}else d!==null?(gs(t,d.cachePool),Zf(t,d),Ar(),t.memoizedState=null):(e!==null&&gs(t,null),Nu(),Ar());return Dt(e,t,u,n),t.child}function tl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Qh(e,t,n,l,u){var d=xu();return d=d===null?null:{parent:wt._currentValue,pool:d},t.memoizedState={baseLanes:n,cachePool:d},e!==null&&gs(t,null),Nu(),Wf(t),e!==null&&Vn(e,t,l,!0),t.childLanes=u,null}function Cs(e,t){return t=Ds({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Fh(e,t,n){return mn(t,e.child,null,n),e=Cs(t,t.pendingProps),e.flags|=2,Wt(t),t.memoizedState=null,e}function r0(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Pe){if(l.mode==="hidden")return e=Cs(t,l),t.lanes=536870912,tl(null,e);if(Ou(t),(e=tt)?(e=ug(e,ma),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:vr!==null?{id:za,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},n=Uf(e),n.return=t,t.child=n,Ct=t,tt=null)):e=null,e===null)throw _r(t);return t.lanes=536870912,null}return Cs(t,l)}var d=e.memoizedState;if(d!==null){var p=d.dehydrated;if(Ou(t),u)if(t.flags&256)t.flags&=-257,t=Fh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(St||Vn(e,t,n,!1),u=(n&e.childLanes)!==0,St||u){if(l=Ze,l!==null&&(p=z(l,n),p!==0&&p!==d.retryLane))throw d.retryLane=p,ln(e,p),Jt(l,e,p),Fu;Ps(),t=Fh(e,t,n)}else e=d.treeContext,tt=ya(p.nextSibling),Ct=t,Pe=!0,br=null,ma=!1,e!==null&&Bf(t,e),t=Cs(t,l),t.flags|=4096;return t}return e=Xa(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ks(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Zu(e,t,n,l,u){return cn(t),n=ku(e,t,n,l,void 0,u),l=Du(),e!==null&&!St?(Uu(e,t,u),tr(e,t,u)):(Pe&&l&&hu(t),t.flags|=1,Dt(e,t,n,u),t.child)}function Zh(e,t,n,l,u,d){return cn(t),t.updateQueue=null,n=th(t,l,n,u),eh(e),l=Du(),e!==null&&!St?(Uu(e,t,d),tr(e,t,d)):(Pe&&l&&hu(t),t.flags|=1,Dt(e,t,n,d),t.child)}function Wh(e,t,n,l,u){if(cn(t),t.stateNode===null){var d=Hn,p=n.contextType;typeof p=="object"&&p!==null&&(d=kt(p)),d=new n(l,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Xu,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=l,d.state=t.memoizedState,d.refs={},Eu(t),p=n.contextType,d.context=typeof p=="object"&&p!==null?kt(p):Hn,d.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(Ju(t,n,p,l),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(p=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),p!==d.state&&Xu.enqueueReplaceState(d,d.state,null),Qi(t,l,d,u),Xi(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){d=t.stateNode;var b=t.memoizedProps,j=yn(n,b);d.props=j;var H=d.context,K=n.contextType;p=Hn,typeof K=="object"&&K!==null&&(p=kt(K));var I=n.getDerivedStateFromProps;K=typeof I=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||H!==p)&&Hh(t,d,l,p),xr=!1;var $=t.memoizedState;d.state=$,Qi(t,l,d,u),Xi(),H=t.memoizedState,b||$!==H||xr?(typeof I=="function"&&(Ju(t,n,I,l),H=t.memoizedState),(j=xr||Lh(t,n,j,l,$,H,p))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=H),d.props=l,d.state=H,d.context=p,l=j):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{d=t.stateNode,ju(e,t),p=t.memoizedProps,K=yn(n,p),d.props=K,I=t.pendingProps,$=d.context,H=n.contextType,j=Hn,typeof H=="object"&&H!==null&&(j=kt(H)),b=n.getDerivedStateFromProps,(H=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==I||$!==j)&&Hh(t,d,l,j),xr=!1,$=t.memoizedState,d.state=$,Qi(t,l,d,u),Xi();var V=t.memoizedState;p!==I||$!==V||xr||e!==null&&e.dependencies!==null&&hs(e.dependencies)?(typeof b=="function"&&(Ju(t,n,b,l),V=t.memoizedState),(K=xr||Lh(t,n,K,l,$,V,j)||e!==null&&e.dependencies!==null&&hs(e.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,V,j),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,V,j)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=V),d.props=l,d.state=V,d.context=j,l=K):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),l=!1)}return d=l,ks(e,t),l=(t.flags&128)!==0,d||l?(d=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&l?(t.child=mn(t,e.child,null,u),t.child=mn(t,null,n,u)):Dt(e,t,n,u),t.memoizedState=d.state,e=t.child):e=tr(e,t,u),e}function em(e,t,n,l){return on(),t.flags|=256,Dt(e,t,n,l),t.child}var Wu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ec(e){return{baseLanes:e,cachePool:Vf()}}function tc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=ta),e}function tm(e,t,n){var l=t.pendingProps,u=!1,d=(t.flags&128)!==0,p;if((p=d)||(p=e!==null&&e.memoizedState===null?!1:(vt.current&2)!==0),p&&(u=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(Pe){if(u?jr(t):Ar(),(e=tt)?(e=ug(e,ma),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:vr!==null?{id:za,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},n=Uf(e),n.return=t,t.child=n,Ct=t,tt=null)):e=null,e===null)throw _r(t);return Bc(e)?t.lanes=32:t.lanes=536870912,null}var b=l.children;return l=l.fallback,u?(Ar(),u=t.mode,b=Ds({mode:"hidden",children:b},u),l=sn(l,u,n,null),b.return=t,l.return=t,b.sibling=l,t.child=b,l=t.child,l.memoizedState=ec(n),l.childLanes=tc(e,p,n),t.memoizedState=Wu,tl(null,l)):(jr(t),ac(t,b))}var j=e.memoizedState;if(j!==null&&(b=j.dehydrated,b!==null)){if(d)t.flags&256?(jr(t),t.flags&=-257,t=rc(e,t,n)):t.memoizedState!==null?(Ar(),t.child=e.child,t.flags|=128,t=null):(Ar(),b=l.fallback,u=t.mode,l=Ds({mode:"visible",children:l.children},u),b=sn(b,u,n,null),b.flags|=2,l.return=t,b.return=t,l.sibling=b,t.child=l,mn(t,e.child,null,n),l=t.child,l.memoizedState=ec(n),l.childLanes=tc(e,p,n),t.memoizedState=Wu,t=tl(null,l));else if(jr(t),Bc(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var H=p.dgst;p=H,l=Error(s(419)),l.stack="",l.digest=p,Vi({value:l,source:null,stack:null}),t=rc(e,t,n)}else if(St||Vn(e,t,n,!1),p=(n&e.childLanes)!==0,St||p){if(p=Ze,p!==null&&(l=z(p,n),l!==0&&l!==j.retryLane))throw j.retryLane=l,ln(e,l),Jt(p,e,l),Fu;Mc(b)||Ps(),t=rc(e,t,n)}else Mc(b)?(t.flags|=192,t.child=e.child,t=null):(e=j.treeContext,tt=ya(b.nextSibling),Ct=t,Pe=!0,br=null,ma=!1,e!==null&&Bf(t,e),t=ac(t,l.children),t.flags|=4096);return t}return u?(Ar(),b=l.fallback,u=t.mode,j=e.child,H=j.sibling,l=Xa(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,H!==null?b=Xa(H,b):(b=sn(b,u,n,null),b.flags|=2),b.return=t,l.return=t,l.sibling=b,t.child=l,tl(null,l),l=t.child,b=e.child.memoizedState,b===null?b=ec(n):(u=b.cachePool,u!==null?(j=wt._currentValue,u=u.parent!==j?{parent:j,pool:j}:u):u=Vf(),b={baseLanes:b.baseLanes|n,cachePool:u}),l.memoizedState=b,l.childLanes=tc(e,p,n),t.memoizedState=Wu,tl(e.child,l)):(jr(t),n=e.child,e=n.sibling,n=Xa(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function ac(e,t){return t=Ds({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ds(e,t){return e=Ft(22,e,null,t),e.lanes=0,e}function rc(e,t,n){return mn(t,e.child,null,n),e=ac(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function am(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),vu(e.return,t,n)}function nc(e,t,n,l,u,d){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:d}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=n,p.tailMode=u,p.treeForkCount=d)}function rm(e,t,n){var l=t.pendingProps,u=l.revealOrder,d=l.tail;l=l.children;var p=vt.current,b=(p&2)!==0;if(b?(p=p&1|2,t.flags|=128):p&=1,M(vt,p),Dt(e,t,l,n),l=Pe?Pi:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&am(e,n,t);else if(e.tag===19)am(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&ws(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),nc(t,!1,u,n,d,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&ws(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}nc(t,!0,n,null,d,l);break;case"together":nc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function tr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rr|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Vn(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=Xa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ic(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&hs(e)))}function n0(e,t,n){switch(t.tag){case 3:gt(t,t.stateNode.containerInfo),wr(t,wt,e.memoizedState.cache),on();break;case 27:case 5:Yr(t);break;case 4:gt(t,t.stateNode.containerInfo);break;case 10:wr(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ou(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(jr(t),t.flags|=128,null):(n&t.child.childLanes)!==0?tm(e,t,n):(jr(t),e=tr(e,t,n),e!==null?e.sibling:null);jr(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Vn(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return rm(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),M(vt,vt.current),l)break;return null;case 22:return t.lanes=0,Xh(e,t,n,t.pendingProps);case 24:wr(t,wt,e.memoizedState.cache)}return tr(e,t,n)}function nm(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)St=!0;else{if(!ic(e,n)&&(t.flags&128)===0)return St=!1,n0(e,t,n);St=(e.flags&131072)!==0}else St=!1,Pe&&(t.flags&1048576)!==0&&Mf(t,Pi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=fn(t.elementType),t.type=e,typeof e=="function")cu(e)?(l=yn(e,l),t.tag=1,t=Wh(null,t,e,l,n)):(t.tag=0,t=Zu(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===Q){t.tag=11,t=Yh(null,t,e,l,n);break e}else if(u===k){t.tag=14,t=Ih(null,t,e,l,n);break e}}throw t=be(e)||e,Error(s(306,t,""))}}return t;case 0:return Zu(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=yn(l,t.pendingProps),Wh(e,t,l,u,n);case 3:e:{if(gt(t,t.stateNode.containerInfo),e===null)throw Error(s(387));l=t.pendingProps;var d=t.memoizedState;u=d.element,ju(e,t),Qi(t,l,null,n);var p=t.memoizedState;if(l=p.cache,wr(t,wt,l),l!==d.cache&&bu(t,[wt],n,!0),Xi(),l=p.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=em(e,t,l,n);break e}else if(l!==u){u=da(Error(s(424)),t),Vi(u),t=em(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,tt=ya(e.firstChild),Ct=t,Pe=!0,br=null,ma=!0,n=Xf(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(on(),l===u){t=tr(e,t,n);break e}Dt(e,t,l,n)}t=t.child}return t;case 26:return ks(e,t),e===null?(n=gg(t.type,null,t.pendingProps,null))?t.memoizedState=n:Pe||(n=t.type,e=t.pendingProps,l=Xs(je.current).createElement(n),l[ae]=t,l[le]=e,Ut(l,n,e),rt(l),t.stateNode=l):t.memoizedState=gg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Yr(t),e===null&&Pe&&(l=t.stateNode=fg(t.type,t.pendingProps,je.current),Ct=t,ma=!0,u=tt,Ur(t.type)?(Lc=u,tt=ya(l.firstChild)):tt=u),Dt(e,t,t.pendingProps.children,n),ks(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Pe&&((u=l=tt)&&(l=U0(l,t.type,t.pendingProps,ma),l!==null?(t.stateNode=l,Ct=t,tt=ya(l.firstChild),ma=!1,u=!0):u=!1),u||_r(t)),Yr(t),u=t.type,d=t.pendingProps,p=e!==null?e.memoizedProps:null,l=d.children,Dc(u,d)?l=null:p!==null&&Dc(u,p)&&(t.flags|=32),t.memoizedState!==null&&(u=ku(e,t,Xv,null,null,n),yl._currentValue=u),ks(e,t),Dt(e,t,l,n),t.child;case 6:return e===null&&Pe&&((e=n=tt)&&(n=z0(n,t.pendingProps,ma),n!==null?(t.stateNode=n,Ct=t,tt=null,e=!0):e=!1),e||_r(t)),null;case 13:return tm(e,t,n);case 4:return gt(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=mn(t,null,l,n):Dt(e,t,l,n),t.child;case 11:return Yh(e,t,t.type,t.pendingProps,n);case 7:return Dt(e,t,t.pendingProps,n),t.child;case 8:return Dt(e,t,t.pendingProps.children,n),t.child;case 12:return Dt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,wr(t,t.type,l.value),Dt(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,cn(t),u=kt(u),l=l(u),t.flags|=1,Dt(e,t,l,n),t.child;case 14:return Ih(e,t,t.type,t.pendingProps,n);case 15:return Jh(e,t,t.type,t.pendingProps,n);case 19:return rm(e,t,n);case 31:return r0(e,t,n);case 22:return Xh(e,t,n,t.pendingProps);case 24:return cn(t),l=kt(wt),e===null?(u=xu(),u===null&&(u=Ze,d=_u(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=n),u=d),t.memoizedState={parent:l,cache:u},Eu(t),wr(t,wt,u)):((e.lanes&n)!==0&&(ju(e,t),Qi(t,null,null,n),Xi()),u=e.memoizedState,d=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),wr(t,wt,l)):(l=d.cache,wr(t,wt,l),l!==u.cache&&bu(t,[wt],n,!0))),Dt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function ar(e){e.flags|=4}function lc(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Cm())e.flags|=8192;else throw hn=ps,Su}else e.flags&=-16777217}function im(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_g(t))if(Cm())e.flags|=8192;else throw hn=ps,Su}function Us(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Zr():536870912,e.lanes|=t,ti|=t)}function al(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function i0(e,t,n){var l=t.pendingProps;switch(mu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return at(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Za(wt),it(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Pn(t)?ar(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,yu())),at(t),null;case 26:var u=t.type,d=t.memoizedState;return e===null?(ar(t),d!==null?(at(t),im(t,d)):(at(t),lc(t,u,null,l,n))):d?d!==e.memoizedState?(ar(t),at(t),im(t,d)):(at(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&ar(t),at(t),lc(t,u,e,l,n)),null;case 27:if(Nn(t),n=je.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ar(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return at(t),null}e=W.current,Pn(t)?Lf(t):(e=fg(u,l,n),t.stateNode=e,ar(t))}return at(t),null;case 5:if(Nn(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ar(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return at(t),null}if(d=W.current,Pn(t))Lf(t);else{var p=Xs(je.current);switch(d){case 1:d=p.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:d=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":d=p.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":d=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":d=p.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?p.createElement(u,{is:l.is}):p.createElement(u)}}d[ae]=t,d[le]=l;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)d.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=d;e:switch(Ut(d,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ar(t)}}return at(t),lc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ar(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(s(166));if(e=je.current,Pn(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=Ct,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[ae]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||tg(e.nodeValue,n)),e||_r(t,!0)}else e=Xs(e).createTextNode(l),e[ae]=t,t.stateNode=e}return at(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Pn(t),n!==null){if(e===null){if(!l)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ae]=t}else on(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;at(t),e=!1}else n=yu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Wt(t),t):(Wt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return at(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Pn(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(s(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(s(317));u[ae]=t}else on(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;at(t),u=!1}else u=yu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Wt(t),t):(Wt(t),null)}return Wt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Us(t,t.updateQueue),at(t),null);case 4:return it(),e===null&&Nc(t.stateNode.containerInfo),at(t),null;case 10:return Za(t.type),at(t),null;case 19:if(G(vt),l=t.memoizedState,l===null)return at(t),null;if(u=(t.flags&128)!==0,d=l.rendering,d===null)if(u)al(l,!1);else{if(ht!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=ws(e),d!==null){for(t.flags|=128,al(l,!1),e=d.updateQueue,t.updateQueue=e,Us(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Df(n,e),n=n.sibling;return M(vt,vt.current&1|2),Pe&&Qa(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&yt()>Hs&&(t.flags|=128,u=!0,al(l,!1),t.lanes=4194304)}else{if(!u)if(e=ws(d),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Us(t,e),al(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return at(t),null}else 2*yt()-l.renderingStartTime>Hs&&n!==536870912&&(t.flags|=128,u=!0,al(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(e=l.last,e!==null?e.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=yt(),e.sibling=null,n=vt.current,M(vt,u?n&1|2:n&1),Pe&&Qa(t,l.treeForkCount),e):(at(t),null);case 22:case 23:return Wt(t),Ru(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),n=t.updateQueue,n!==null&&Us(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&G(dn),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Za(wt),at(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function l0(e,t){switch(mu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Za(wt),it(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Nn(t),null;case 31:if(t.memoizedState!==null){if(Wt(t),t.alternate===null)throw Error(s(340));on()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Wt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));on()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(vt),null;case 4:return it(),null;case 10:return Za(t.type),null;case 22:case 23:return Wt(t),Ru(),e!==null&&G(dn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Za(wt),null;case 25:return null;default:return null}}function lm(e,t){switch(mu(t),t.tag){case 3:Za(wt),it();break;case 26:case 27:case 5:Nn(t);break;case 4:it();break;case 31:t.memoizedState!==null&&Wt(t);break;case 13:Wt(t);break;case 19:G(vt);break;case 10:Za(t.type);break;case 22:case 23:Wt(t),Ru(),e!==null&&G(dn);break;case 24:Za(wt)}}function rl(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var d=n.create,p=n.inst;l=d(),p.destroy=l}n=n.next}while(n!==u)}}catch(b){Je(t,t.return,b)}}function Tr(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var d=u.next;l=d;do{if((l.tag&e)===e){var p=l.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,u=t;var j=n,H=b;try{H()}catch(K){Je(u,j,K)}}}l=l.next}while(l!==d)}}catch(K){Je(t,t.return,K)}}function sm(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ff(t,n)}catch(l){Je(e,e.return,l)}}}function om(e,t,n){n.props=yn(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){Je(e,t,l)}}function nl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){Je(e,t,u)}}function Ba(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){Je(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){Je(e,t,u)}else n.current=null}function um(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){Je(e,e.return,u)}}function sc(e,t,n){try{var l=e.stateNode;N0(l,e.type,n,t),l[le]=t}catch(u){Je(e,e.return,u)}}function cm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ur(e.type)||e.tag===4}function oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ur(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uc(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ia));else if(l!==4&&(l===27&&Ur(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(uc(e,t,n),e=e.sibling;e!==null;)uc(e,t,n),e=e.sibling}function zs(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Ur(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(zs(e,t,n),e=e.sibling;e!==null;)zs(e,t,n),e=e.sibling}function dm(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Ut(t,l,n),t[ae]=e,t[le]=n}catch(d){Je(e,e.return,d)}}var rr=!1,Et=!1,cc=!1,fm=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function s0(e,t){if(e=e.containerInfo,Cc=ao,e=Ef(e),ru(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var p=0,b=-1,j=-1,H=0,K=0,I=e,$=null;t:for(;;){for(var V;I!==n||u!==0&&I.nodeType!==3||(b=p+u),I!==d||l!==0&&I.nodeType!==3||(j=p+l),I.nodeType===3&&(p+=I.nodeValue.length),(V=I.firstChild)!==null;)$=I,I=V;for(;;){if(I===e)break t;if($===n&&++H===u&&(b=p),$===d&&++K===l&&(j=p),(V=I.nextSibling)!==null)break;I=$,$=I.parentNode}I=V}n=b===-1||j===-1?null:{start:b,end:j}}else n=null}n=n||{start:0,end:0}}else n=null;for(kc={focusedElem:e,selectionRange:n},ao=!1,Rt=t;Rt!==null;)if(t=Rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Rt=e;else for(;Rt!==null;){switch(t=Rt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,n=t,u=d.memoizedProps,d=d.memoizedState,l=n.stateNode;try{var oe=yn(n.type,u);e=l.getSnapshotBeforeUpdate(oe,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(we){Je(n,n.return,we)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)zc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,Rt=e;break}Rt=t.return}}function hm(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:ir(e,n),l&4&&rl(5,n);break;case 1:if(ir(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){Je(n,n.return,p)}else{var u=yn(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Je(n,n.return,p)}}l&64&&sm(n),l&512&&nl(n,n.return);break;case 3:if(ir(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ff(e,t)}catch(p){Je(n,n.return,p)}}break;case 27:t===null&&l&4&&dm(n);case 26:case 5:ir(e,n),t===null&&l&4&&um(n),l&512&&nl(n,n.return);break;case 12:ir(e,n);break;case 31:ir(e,n),l&4&&ym(e,n);break;case 13:ir(e,n),l&4&&pm(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=y0.bind(null,n),M0(e,n))));break;case 22:if(l=n.memoizedState!==null||rr,!l){t=t!==null&&t.memoizedState!==null||Et,u=rr;var d=Et;rr=l,(Et=t)&&!d?lr(e,n,(n.subtreeFlags&8772)!==0):ir(e,n),rr=u,Et=d}break;case 30:break;default:ir(e,n)}}function mm(e){var t=e.alternate;t!==null&&(e.alternate=null,mm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ct(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var nt=null,Gt=!1;function nr(e,t,n){for(n=n.child;n!==null;)gm(e,t,n),n=n.sibling}function gm(e,t,n){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Jr,n)}catch{}switch(n.tag){case 26:Et||Ba(n,t),nr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Et||Ba(n,t);var l=nt,u=Gt;Ur(n.type)&&(nt=n.stateNode,Gt=!1),nr(e,t,n),hl(n.stateNode),nt=l,Gt=u;break;case 5:Et||Ba(n,t);case 6:if(l=nt,u=Gt,nt=null,nr(e,t,n),nt=l,Gt=u,nt!==null)if(Gt)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(n.stateNode)}catch(d){Je(n,t,d)}else try{nt.removeChild(n.stateNode)}catch(d){Je(n,t,d)}break;case 18:nt!==null&&(Gt?(e=nt,sg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ui(e)):sg(nt,n.stateNode));break;case 4:l=nt,u=Gt,nt=n.stateNode.containerInfo,Gt=!0,nr(e,t,n),nt=l,Gt=u;break;case 0:case 11:case 14:case 15:Tr(2,n,t),Et||Tr(4,n,t),nr(e,t,n);break;case 1:Et||(Ba(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&om(n,t,l)),nr(e,t,n);break;case 21:nr(e,t,n);break;case 22:Et=(l=Et)||n.memoizedState!==null,nr(e,t,n),Et=l;break;default:nr(e,t,n)}}function ym(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ui(e)}catch(n){Je(t,t.return,n)}}}function pm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ui(e)}catch(n){Je(t,t.return,n)}}function o0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new fm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new fm),t;default:throw Error(s(435,e.tag))}}function Ms(e,t){var n=o0(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=p0.bind(null,e,l);l.then(u,u)}})}function Kt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],d=e,p=t,b=p;e:for(;b!==null;){switch(b.tag){case 27:if(Ur(b.type)){nt=b.stateNode,Gt=!1;break e}break;case 5:nt=b.stateNode,Gt=!1;break e;case 3:case 4:nt=b.stateNode.containerInfo,Gt=!0;break e}b=b.return}if(nt===null)throw Error(s(160));gm(d,p,u),nt=null,Gt=!1,d=u.alternate,d!==null&&(d.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)vm(t,e),t=t.sibling}var Ra=null;function vm(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Kt(t,e),Yt(e),l&4&&(Tr(3,e,e.return),rl(3,e),Tr(5,e,e.return));break;case 1:Kt(t,e),Yt(e),l&512&&(Et||n===null||Ba(n,n.return)),l&64&&rr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=Ra;if(Kt(t,e),Yt(e),l&512&&(Et||n===null||Ba(n,n.return)),l&4){var d=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":d=u.getElementsByTagName("title")[0],(!d||d[st]||d[ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=u.createElement(l),u.head.insertBefore(d,u.querySelector("head > title"))),Ut(d,l,n),d[ae]=e,rt(d),l=d;break e;case"link":var p=vg("link","href",u).get(l+(n.href||""));if(p){for(var b=0;b<p.length;b++)if(d=p[b],d.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&d.getAttribute("rel")===(n.rel==null?null:n.rel)&&d.getAttribute("title")===(n.title==null?null:n.title)&&d.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(b,1);break t}}d=u.createElement(l),Ut(d,l,n),u.head.appendChild(d);break;case"meta":if(p=vg("meta","content",u).get(l+(n.content||""))){for(b=0;b<p.length;b++)if(d=p[b],d.getAttribute("content")===(n.content==null?null:""+n.content)&&d.getAttribute("name")===(n.name==null?null:n.name)&&d.getAttribute("property")===(n.property==null?null:n.property)&&d.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&d.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(b,1);break t}}d=u.createElement(l),Ut(d,l,n),u.head.appendChild(d);break;default:throw Error(s(468,l))}d[ae]=e,rt(d),l=d}e.stateNode=l}else bg(u,e.type,e.stateNode);else e.stateNode=pg(u,l,e.memoizedProps);else d!==l?(d===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):d.count--,l===null?bg(u,e.type,e.stateNode):pg(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&sc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Kt(t,e),Yt(e),l&512&&(Et||n===null||Ba(n,n.return)),n!==null&&l&4&&sc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Kt(t,e),Yt(e),l&512&&(Et||n===null||Ba(n,n.return)),e.flags&32){u=e.stateNode;try{kn(u,"")}catch(oe){Je(e,e.return,oe)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,sc(e,u,n!==null?n.memoizedProps:u)),l&1024&&(cc=!0);break;case 6:if(Kt(t,e),Yt(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(oe){Je(e,e.return,oe)}}break;case 3:if(Zs=null,u=Ra,Ra=Qs(t.containerInfo),Kt(t,e),Ra=u,Yt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ui(t.containerInfo)}catch(oe){Je(e,e.return,oe)}cc&&(cc=!1,bm(e));break;case 4:l=Ra,Ra=Qs(e.stateNode.containerInfo),Kt(t,e),Yt(e),Ra=l;break;case 12:Kt(t,e),Yt(e);break;case 31:Kt(t,e),Yt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ms(e,l)));break;case 13:Kt(t,e),Yt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ls=yt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ms(e,l)));break;case 22:u=e.memoizedState!==null;var j=n!==null&&n.memoizedState!==null,H=rr,K=Et;if(rr=H||u,Et=K||j,Kt(t,e),Et=K,rr=H,Yt(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||j||rr||Et||pn(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){j=n=t;try{if(d=j.stateNode,u)p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=j.stateNode;var I=j.memoizedProps.style,$=I!=null&&I.hasOwnProperty("display")?I.display:null;b.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(oe){Je(j,j.return,oe)}}}else if(t.tag===6){if(n===null){j=t;try{j.stateNode.nodeValue=u?"":j.memoizedProps}catch(oe){Je(j,j.return,oe)}}}else if(t.tag===18){if(n===null){j=t;try{var V=j.stateNode;u?og(V,!0):og(j.stateNode,!1)}catch(oe){Je(j,j.return,oe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Ms(e,n))));break;case 19:Kt(t,e),Yt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ms(e,l)));break;case 30:break;case 21:break;default:Kt(t,e),Yt(e)}}function Yt(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(cm(l)){n=l;break}l=l.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var u=n.stateNode,d=oc(e);zs(e,d,u);break;case 5:var p=n.stateNode;n.flags&32&&(kn(p,""),n.flags&=-33);var b=oc(e);zs(e,b,p);break;case 3:case 4:var j=n.stateNode.containerInfo,H=oc(e);uc(e,H,j);break;default:throw Error(s(161))}}catch(K){Je(e,e.return,K)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;bm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ir(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)hm(e,t.alternate,t),t=t.sibling}function pn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Tr(4,t,t.return),pn(t);break;case 1:Ba(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&om(t,t.return,n),pn(t);break;case 27:hl(t.stateNode);case 26:case 5:Ba(t,t.return),pn(t);break;case 22:t.memoizedState===null&&pn(t);break;case 30:pn(t);break;default:pn(t)}e=e.sibling}}function lr(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,d=t,p=d.flags;switch(d.tag){case 0:case 11:case 15:lr(u,d,n),rl(4,d);break;case 1:if(lr(u,d,n),l=d,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(H){Je(l,l.return,H)}if(l=d,u=l.updateQueue,u!==null){var b=l.stateNode;try{var j=u.shared.hiddenCallbacks;if(j!==null)for(u.shared.hiddenCallbacks=null,u=0;u<j.length;u++)Qf(j[u],b)}catch(H){Je(l,l.return,H)}}n&&p&64&&sm(d),nl(d,d.return);break;case 27:dm(d);case 26:case 5:lr(u,d,n),n&&l===null&&p&4&&um(d),nl(d,d.return);break;case 12:lr(u,d,n);break;case 31:lr(u,d,n),n&&p&4&&ym(u,d);break;case 13:lr(u,d,n),n&&p&4&&pm(u,d);break;case 22:d.memoizedState===null&&lr(u,d,n),nl(d,d.return);break;case 30:break;default:lr(u,d,n)}t=t.sibling}}function dc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Gi(n))}function fc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Gi(e))}function Oa(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_m(e,t,n,l),t=t.sibling}function _m(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Oa(e,t,n,l),u&2048&&rl(9,t);break;case 1:Oa(e,t,n,l);break;case 3:Oa(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Gi(e)));break;case 12:if(u&2048){Oa(e,t,n,l),e=t.stateNode;try{var d=t.memoizedProps,p=d.id,b=d.onPostCommit;typeof b=="function"&&b(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){Je(t,t.return,j)}}else Oa(e,t,n,l);break;case 31:Oa(e,t,n,l);break;case 13:Oa(e,t,n,l);break;case 23:break;case 22:d=t.stateNode,p=t.alternate,t.memoizedState!==null?d._visibility&2?Oa(e,t,n,l):il(e,t):d._visibility&2?Oa(e,t,n,l):(d._visibility|=2,Zn(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&dc(p,t);break;case 24:Oa(e,t,n,l),u&2048&&fc(t.alternate,t);break;default:Oa(e,t,n,l)}}function Zn(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,p=t,b=n,j=l,H=p.flags;switch(p.tag){case 0:case 11:case 15:Zn(d,p,b,j,u),rl(8,p);break;case 23:break;case 22:var K=p.stateNode;p.memoizedState!==null?K._visibility&2?Zn(d,p,b,j,u):il(d,p):(K._visibility|=2,Zn(d,p,b,j,u)),u&&H&2048&&dc(p.alternate,p);break;case 24:Zn(d,p,b,j,u),u&&H&2048&&fc(p.alternate,p);break;default:Zn(d,p,b,j,u)}t=t.sibling}}function il(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:il(n,l),u&2048&&dc(l.alternate,l);break;case 24:il(n,l),u&2048&&fc(l.alternate,l);break;default:il(n,l)}t=t.sibling}}var ll=8192;function Wn(e,t,n){if(e.subtreeFlags&ll)for(e=e.child;e!==null;)wm(e,t,n),e=e.sibling}function wm(e,t,n){switch(e.tag){case 26:Wn(e,t,n),e.flags&ll&&e.memoizedState!==null&&J0(n,Ra,e.memoizedState,e.memoizedProps);break;case 5:Wn(e,t,n);break;case 3:case 4:var l=Ra;Ra=Qs(e.stateNode.containerInfo),Wn(e,t,n),Ra=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ll,ll=16777216,Wn(e,t,n),ll=l):Wn(e,t,n));break;default:Wn(e,t,n)}}function xm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function sl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Rt=l,Em(l,e)}xm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sm(e),e=e.sibling}function Sm(e){switch(e.tag){case 0:case 11:case 15:sl(e),e.flags&2048&&Tr(9,e,e.return);break;case 3:sl(e);break;case 12:sl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Bs(e)):sl(e);break;default:sl(e)}}function Bs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Rt=l,Em(l,e)}xm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Tr(8,t,t.return),Bs(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Bs(t));break;default:Bs(t)}e=e.sibling}}function Em(e,t){for(;Rt!==null;){var n=Rt;switch(n.tag){case 0:case 11:case 15:Tr(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Gi(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Rt=l;else e:for(n=e;Rt!==null;){l=Rt;var u=l.sibling,d=l.return;if(mm(l),l===n){Rt=null;break e}if(u!==null){u.return=d,Rt=u;break e}Rt=d}}}var u0={getCacheForType:function(e){var t=kt(wt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return kt(wt).controller.signal}},c0=typeof WeakMap=="function"?WeakMap:Map,Ye=0,Ze=null,De=null,ze=0,Ie=0,ea=null,Nr=!1,ei=!1,hc=!1,sr=0,ht=0,Rr=0,vn=0,mc=0,ta=0,ti=0,ol=null,It=null,gc=!1,Ls=0,jm=0,Hs=1/0,qs=null,Or=null,At=0,Cr=null,ai=null,or=0,yc=0,pc=null,Am=null,ul=0,vc=null;function aa(){return(Ye&2)!==0&&ze!==0?ze&-ze:q.T!==null?Ec():Z()}function Tm(){if(ta===0)if((ze&536870912)===0||Pe){var e=Xr;Xr<<=1,(Xr&3932160)===0&&(Xr=262144),ta=e}else ta=536870912;return e=Zt.current,e!==null&&(e.flags|=32),ta}function Jt(e,t,n){(e===Ze&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)&&(ri(e,0),kr(e,ze,ta,!1)),yr(e,n),((Ye&2)===0||e!==Ze)&&(e===Ze&&((Ye&2)===0&&(vn|=n),ht===4&&kr(e,ze,ta,!1)),La(e))}function Nm(e,t,n){if((Ye&6)!==0)throw Error(s(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Fr(e,t),u=l?h0(e,t):_c(e,t,!0),d=l;do{if(u===0){ei&&!l&&kr(e,t,0,!1);break}else{if(n=e.current.alternate,d&&!d0(n)){u=_c(e,t,!1),d=!1;continue}if(u===2){if(d=t,e.errorRecoveryDisabledLanes&d)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var b=e;u=ol;var j=b.current.memoizedState.isDehydrated;if(j&&(ri(b,p).flags|=256),p=_c(b,p,!1),p!==2){if(hc&&!j){b.errorRecoveryDisabledLanes|=d,vn|=d,u=4;break e}d=It,It=u,d!==null&&(It===null?It=d:It.push.apply(It,d))}u=p}if(d=!1,u!==2)continue}}if(u===1){ri(e,0),kr(e,t,0,!0);break}e:{switch(l=e,d=u,d){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:kr(l,t,ta,!Nr);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(u=Ls+300-yt(),10<u)){if(kr(l,t,ta,!Nr),Qr(l,0,!0)!==0)break e;or=t,l.timeoutHandle=ig(Rm.bind(null,l,n,It,qs,gc,t,ta,vn,ti,Nr,d,"Throttled",-0,0),u);break e}Rm(l,n,It,qs,gc,t,ta,vn,ti,Nr,d,null,-0,0)}}break}while(!0);La(e)}function Rm(e,t,n,l,u,d,p,b,j,H,K,I,$,V){if(e.timeoutHandle=-1,I=t.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ia},wm(t,d,I);var oe=(d&62914560)===d?Ls-yt():(d&4194048)===d?jm-yt():0;if(oe=X0(I,oe),oe!==null){or=d,e.cancelPendingCommit=oe(Bm.bind(null,e,t,d,n,l,u,p,b,j,K,I,null,$,V)),kr(e,d,p,!H);return}}Bm(e,t,d,n,l,u,p,b,j)}function d0(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],d=u.getSnapshot;u=u.value;try{if(!Qt(d(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kr(e,t,n,l){t&=~mc,t&=~vn,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var d=31-Bt(u),p=1<<d;l[d]=-1,u&=~p}n!==0&&Fl(e,n,t)}function $s(){return(Ye&6)===0?(cl(0),!1):!0}function bc(){if(De!==null){if(Ie===0)var e=De.return;else e=De,Fa=un=null,zu(e),In=null,Yi=0,e=De;for(;e!==null;)lm(e.alternate,e),e=e.return;De=null}}function ri(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,C0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),or=0,bc(),Ze=e,De=n=Xa(e.current,null),ze=t,Ie=0,ea=null,Nr=!1,ei=Fr(e,t),hc=!1,ti=ta=mc=vn=Rr=ht=0,It=ol=null,gc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-Bt(l),d=1<<u;t|=e[u],l&=~d}return sr=t,os(),n}function Om(e,t){Te=null,q.H=el,t===Yn||t===ys?(t=Yf(),Ie=3):t===Su?(t=Yf(),Ie=4):Ie=t===Fu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ea=t,De===null&&(ht=1,Os(e,da(t,e.current)))}function Cm(){var e=Zt.current;return e===null?!0:(ze&4194048)===ze?ga===null:(ze&62914560)===ze||(ze&536870912)!==0?e===ga:!1}function km(){var e=q.H;return q.H=el,e===null?el:e}function Dm(){var e=q.A;return q.A=u0,e}function Ps(){ht=4,Nr||(ze&4194048)!==ze&&Zt.current!==null||(ei=!0),(Rr&134217727)===0&&(vn&134217727)===0||Ze===null||kr(Ze,ze,ta,!1)}function _c(e,t,n){var l=Ye;Ye|=2;var u=km(),d=Dm();(Ze!==e||ze!==t)&&(qs=null,ri(e,t)),t=!1;var p=ht;e:do try{if(Ie!==0&&De!==null){var b=De,j=ea;switch(Ie){case 8:bc(),p=6;break e;case 3:case 2:case 9:case 6:Zt.current===null&&(t=!0);var H=Ie;if(Ie=0,ea=null,ni(e,b,j,H),n&&ei){p=0;break e}break;default:H=Ie,Ie=0,ea=null,ni(e,b,j,H)}}f0(),p=ht;break}catch(K){Om(e,K)}while(!0);return t&&e.shellSuspendCounter++,Fa=un=null,Ye=l,q.H=u,q.A=d,De===null&&(Ze=null,ze=0,os()),p}function f0(){for(;De!==null;)Um(De)}function h0(e,t){var n=Ye;Ye|=2;var l=km(),u=Dm();Ze!==e||ze!==t?(qs=null,Hs=yt()+500,ri(e,t)):ei=Fr(e,t);e:do try{if(Ie!==0&&De!==null){t=De;var d=ea;t:switch(Ie){case 1:Ie=0,ea=null,ni(e,t,d,1);break;case 2:case 9:if(Gf(d)){Ie=0,ea=null,zm(t);break}t=function(){Ie!==2&&Ie!==9||Ze!==e||(Ie=7),La(e)},d.then(t,t);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:Gf(d)?(Ie=0,ea=null,zm(t)):(Ie=0,ea=null,ni(e,t,d,7));break;case 5:var p=null;switch(De.tag){case 26:p=De.memoizedState;case 5:case 27:var b=De;if(p?_g(p):b.stateNode.complete){Ie=0,ea=null;var j=b.sibling;if(j!==null)De=j;else{var H=b.return;H!==null?(De=H,Vs(H)):De=null}break t}}Ie=0,ea=null,ni(e,t,d,5);break;case 6:Ie=0,ea=null,ni(e,t,d,6);break;case 8:bc(),ht=6;break e;default:throw Error(s(462))}}m0();break}catch(K){Om(e,K)}while(!0);return Fa=un=null,q.H=l,q.A=u,Ye=n,De!==null?0:(Ze=null,ze=0,os(),ht)}function m0(){for(;De!==null&&!Bo();)Um(De)}function Um(e){var t=nm(e.alternate,e,sr);e.memoizedProps=e.pendingProps,t===null?Vs(e):De=t}function zm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zh(n,t,t.pendingProps,t.type,void 0,ze);break;case 11:t=Zh(n,t,t.pendingProps,t.type.render,t.ref,ze);break;case 5:zu(t);default:lm(n,t),t=De=Df(t,sr),t=nm(n,t,sr)}e.memoizedProps=e.pendingProps,t===null?Vs(e):De=t}function ni(e,t,n,l){Fa=un=null,zu(t),In=null,Yi=0;var u=t.return;try{if(a0(e,u,t,n,ze)){ht=1,Os(e,da(n,e.current)),De=null;return}}catch(d){if(u!==null)throw De=u,d;ht=1,Os(e,da(n,e.current)),De=null;return}t.flags&32768?(Pe||l===1?e=!0:ei||(ze&536870912)!==0?e=!1:(Nr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Zt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Mm(t,e)):Vs(t)}function Vs(e){var t=e;do{if((t.flags&32768)!==0){Mm(t,Nr);return}e=t.return;var n=i0(t.alternate,t,sr);if(n!==null){De=n;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);ht===0&&(ht=5)}function Mm(e,t){do{var n=l0(e.alternate,e);if(n!==null){n.flags&=32767,De=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){De=e;return}De=e=n}while(e!==null);ht=6,De=null}function Bm(e,t,n,l,u,d,p,b,j){e.cancelPendingCommit=null;do Gs();while(At!==0);if((Ye&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(d=t.lanes|t.childLanes,d|=ou,$o(e,n,d,p,b,j),e===Ze&&(De=Ze=null,ze=0),ai=t,Cr=e,or=n,yc=d,pc=u,Am=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,v0($t,function(){return Pm(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,u=F.p,F.p=2,p=Ye,Ye|=4;try{s0(e,t,n)}finally{Ye=p,F.p=u,q.T=l}}At=1,Lm(),Hm(),qm()}}function Lm(){if(At===1){At=0;var e=Cr,t=ai,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=q.T,q.T=null;var l=F.p;F.p=2;var u=Ye;Ye|=4;try{vm(t,e);var d=kc,p=Ef(e.containerInfo),b=d.focusedElem,j=d.selectionRange;if(p!==b&&b&&b.ownerDocument&&Sf(b.ownerDocument.documentElement,b)){if(j!==null&&ru(b)){var H=j.start,K=j.end;if(K===void 0&&(K=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min(K,b.value.length);else{var I=b.ownerDocument||document,$=I&&I.defaultView||window;if($.getSelection){var V=$.getSelection(),oe=b.textContent.length,we=Math.min(j.start,oe),Fe=j.end===void 0?we:Math.min(j.end,oe);!V.extend&&we>Fe&&(p=Fe,Fe=we,we=p);var U=xf(b,we),C=xf(b,Fe);if(U&&C&&(V.rangeCount!==1||V.anchorNode!==U.node||V.anchorOffset!==U.offset||V.focusNode!==C.node||V.focusOffset!==C.offset)){var L=I.createRange();L.setStart(U.node,U.offset),V.removeAllRanges(),we>Fe?(V.addRange(L),V.extend(C.node,C.offset)):(L.setEnd(C.node,C.offset),V.addRange(L))}}}}for(I=[],V=b;V=V.parentNode;)V.nodeType===1&&I.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<I.length;b++){var Y=I[b];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}ao=!!Cc,kc=Cc=null}finally{Ye=u,F.p=l,q.T=n}}e.current=t,At=2}}function Hm(){if(At===2){At=0;var e=Cr,t=ai,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=q.T,q.T=null;var l=F.p;F.p=2;var u=Ye;Ye|=4;try{hm(e,t.alternate,t)}finally{Ye=u,F.p=l,q.T=n}}At=3}}function qm(){if(At===4||At===3){At=0,Lo();var e=Cr,t=ai,n=or,l=Am;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?At=5:(At=0,ai=Cr=null,$m(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Or=null),J(n),t=t.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Jr,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=q.T,u=F.p,F.p=2,q.T=null;try{for(var d=e.onRecoverableError,p=0;p<l.length;p++){var b=l[p];d(b.value,{componentStack:b.stack})}}finally{q.T=t,F.p=u}}(or&3)!==0&&Gs(),La(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===vc?ul++:(ul=0,vc=e):ul=0,cl(0)}}function $m(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Gi(t)))}function Gs(){return Lm(),Hm(),qm(),Pm()}function Pm(){if(At!==5)return!1;var e=Cr,t=yc;yc=0;var n=J(or),l=q.T,u=F.p;try{F.p=32>n?32:n,q.T=null,n=pc,pc=null;var d=Cr,p=or;if(At=0,ai=Cr=null,or=0,(Ye&6)!==0)throw Error(s(331));var b=Ye;if(Ye|=4,Sm(d.current),_m(d,d.current,p,n),Ye=b,cl(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Jr,d)}catch{}return!0}finally{F.p=u,q.T=l,$m(e,t)}}function Vm(e,t,n){t=da(n,t),t=Qu(e.stateNode,t,2),e=Er(e,t,2),e!==null&&(yr(e,2),La(e))}function Je(e,t,n){if(e.tag===3)Vm(e,e,n);else for(;t!==null;){if(t.tag===3){Vm(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Or===null||!Or.has(l))){e=da(n,e),n=Gh(2),l=Er(t,n,2),l!==null&&(Kh(n,l,t,e),yr(l,2),La(l));break}}t=t.return}}function wc(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new c0;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(hc=!0,u.add(n),e=g0.bind(null,e,t,n),t.then(e,e))}function g0(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ze===e&&(ze&n)===n&&(ht===4||ht===3&&(ze&62914560)===ze&&300>yt()-Ls?(Ye&2)===0&&ri(e,0):mc|=n,ti===ze&&(ti=0)),La(e)}function Gm(e,t){t===0&&(t=Zr()),e=ln(e,t),e!==null&&(yr(e,t),La(e))}function y0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gm(e,n)}function p0(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(t),Gm(e,n)}function v0(e,t){return Ti(e,t)}var Ks=null,ii=null,xc=!1,Ys=!1,Sc=!1,Dr=0;function La(e){e!==ii&&e.next===null&&(ii===null?Ks=ii=e:ii=ii.next=e),Ys=!0,xc||(xc=!0,_0())}function cl(e,t){if(!Sc&&Ys){Sc=!0;do for(var n=!1,l=Ks;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var d=0;else{var p=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Bt(42|e)+1)-1,d&=u&~(p&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(n=!0,Jm(l,d))}else d=ze,d=Qr(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Fr(l,d)||(n=!0,Jm(l,d));l=l.next}while(n);Sc=!1}}function b0(){Km()}function Km(){Ys=xc=!1;var e=0;Dr!==0&&O0()&&(e=Dr);for(var t=yt(),n=null,l=Ks;l!==null;){var u=l.next,d=Ym(l,t);d===0?(l.next=null,n===null?Ks=u:n.next=u,u===null&&(ii=n)):(n=l,(e!==0||(d&3)!==0)&&(Ys=!0)),l=u}At!==0&&At!==5||cl(e),Dr!==0&&(Dr=0)}function Ym(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var p=31-Bt(d),b=1<<p,j=u[p];j===-1?((b&n)===0||(b&l)!==0)&&(u[p]=Ql(b,t)):j<=t&&(e.expiredLanes|=b),d&=~b}if(t=Ze,n=ze,n=Qr(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ni(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Fr(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Ni(l),J(n)){case 2:case 8:n=On;break;case 32:n=$t;break;case 268435456:n=Oi;break;default:n=$t}return l=Im.bind(null,e),n=Ti(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Ni(l),e.callbackPriority=2,e.callbackNode=null,2}function Im(e,t){if(At!==0&&At!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Gs()&&e.callbackNode!==n)return null;var l=ze;return l=Qr(e,e===Ze?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Nm(e,l,t),Ym(e,yt()),e.callbackNode!=null&&e.callbackNode===n?Im.bind(null,e):null)}function Jm(e,t){if(Gs())return null;Nm(e,t,!0)}function _0(){k0(function(){(Ye&6)!==0?Ti(Ri,b0):Km()})}function Ec(){if(Dr===0){var e=Gn;e===0&&(e=Ga,Ga<<=1,(Ga&261888)===0&&(Ga=256)),Dr=e}return Dr}function Xm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:es(""+e)}function Qm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function w0(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var d=Xm((u[le]||null).action),p=l.submitter;p&&(t=(t=p[le]||null)?Xm(t.formAction):p.getAttribute("formAction"),t!==null&&(d=t,p=null));var b=new ns("action","action",null,l,u);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Dr!==0){var j=p?Qm(u,p):new FormData(u);Gu(n,{pending:!0,data:j,method:u.method,action:d},null,j)}}else typeof d=="function"&&(b.preventDefault(),j=p?Qm(u,p):new FormData(u),Gu(n,{pending:!0,data:j,method:u.method,action:d},d,j))},currentTarget:u}]})}}for(var jc=0;jc<su.length;jc++){var Ac=su[jc],x0=Ac.toLowerCase(),S0=Ac[0].toUpperCase()+Ac.slice(1);Na(x0,"on"+S0)}Na(Tf,"onAnimationEnd"),Na(Nf,"onAnimationIteration"),Na(Rf,"onAnimationStart"),Na("dblclick","onDoubleClick"),Na("focusin","onFocus"),Na("focusout","onBlur"),Na(Hv,"onTransitionRun"),Na(qv,"onTransitionStart"),Na($v,"onTransitionCancel"),Na(Of,"onTransitionEnd"),oa("onMouseEnter",["mouseout","mouseover"]),oa("onMouseLeave",["mouseout","mouseover"]),oa("onPointerEnter",["pointerout","pointerover"]),oa("onPointerLeave",["pointerout","pointerover"]),Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function Fm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var d=void 0;if(t)for(var p=l.length-1;0<=p;p--){var b=l[p],j=b.instance,H=b.currentTarget;if(b=b.listener,j!==d&&u.isPropagationStopped())break e;d=b,u.currentTarget=H;try{d(u)}catch(K){ss(K)}u.currentTarget=null,d=j}else for(p=0;p<l.length;p++){if(b=l[p],j=b.instance,H=b.currentTarget,b=b.listener,j!==d&&u.isPropagationStopped())break e;d=b,u.currentTarget=H;try{d(u)}catch(K){ss(K)}u.currentTarget=null,d=j}}}}function Ue(e,t){var n=t[_e];n===void 0&&(n=t[_e]=new Set);var l=e+"__bubble";n.has(l)||(Zm(t,e,2,!1),n.add(l))}function Tc(e,t,n){var l=0;t&&(l|=4),Zm(n,e,l,t)}var Is="_reactListening"+Math.random().toString(36).slice(2);function Nc(e){if(!e[Is]){e[Is]=!0,ja.forEach(function(n){n!=="selectionchange"&&(E0.has(n)||Tc(n,!1,e),Tc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Is]||(t[Is]=!0,Tc("selectionchange",!1,t))}}function Zm(e,t,n,l){switch(Tg(t)){case 2:var u=Z0;break;case 8:u=W0;break;default:u=Vc}n=u.bind(null,t,n,e),u=void 0,!Jo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Rc(e,t,n,l,u){var d=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var b=l.stateNode.containerInfo;if(b===u)break;if(p===4)for(p=l.return;p!==null;){var j=p.tag;if((j===3||j===4)&&p.stateNode.containerInfo===u)return;p=p.return}for(;b!==null;){if(p=dt(b),p===null)return;if(j=p.tag,j===5||j===6||j===26||j===27){l=d=p;continue e}b=b.parentNode}}l=l.return}af(function(){var H=d,K=Yo(n),I=[];e:{var $=Cf.get(e);if($!==void 0){var V=ns,oe=e;switch(e){case"keypress":if(as(n)===0)break e;case"keydown":case"keyup":V=pv;break;case"focusin":oe="focus",V=Zo;break;case"focusout":oe="blur",V=Zo;break;case"beforeblur":case"afterblur":V=Zo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=iv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=_v;break;case Tf:case Nf:case Rf:V=ov;break;case Of:V=xv;break;case"scroll":case"scrollend":V=rv;break;case"wheel":V=Ev;break;case"copy":case"cut":case"paste":V=cv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=of;break;case"toggle":case"beforetoggle":V=Av}var we=(t&4)!==0,Fe=!we&&(e==="scroll"||e==="scrollend"),U=we?$!==null?$+"Capture":null:$;we=[];for(var C=H,L;C!==null;){var Y=C;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||U===null||(Y=Di(C,U),Y!=null&&we.push(fl(C,Y,L))),Fe)break;C=C.return}0<we.length&&($=new V($,oe,null,n,K),I.push({event:$,listeners:we}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",$&&n!==Ko&&(oe=n.relatedTarget||n.fromElement)&&(dt(oe)||oe[ce]))break e;if((V||$)&&($=K.window===K?K:($=K.ownerDocument)?$.defaultView||$.parentWindow:window,V?(oe=n.relatedTarget||n.toElement,V=H,oe=oe?dt(oe):null,oe!==null&&(Fe=c(oe),we=oe.tag,oe!==Fe||we!==5&&we!==27&&we!==6)&&(oe=null)):(V=null,oe=H),V!==oe)){if(we=lf,Y="onMouseLeave",U="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(we=of,Y="onPointerLeave",U="onPointerEnter",C="pointer"),Fe=V==null?$:Nt(V),L=oe==null?$:Nt(oe),$=new we(Y,C+"leave",V,n,K),$.target=Fe,$.relatedTarget=L,Y=null,dt(K)===H&&(we=new we(U,C+"enter",oe,n,K),we.target=L,we.relatedTarget=Fe,Y=we),Fe=Y,V&&oe)t:{for(we=j0,U=V,C=oe,L=0,Y=U;Y;Y=we(Y))L++;Y=0;for(var ye=C;ye;ye=we(ye))Y++;for(;0<L-Y;)U=we(U),L--;for(;0<Y-L;)C=we(C),Y--;for(;L--;){if(U===C||C!==null&&U===C.alternate){we=U;break t}U=we(U),C=we(C)}we=null}else we=null;V!==null&&Wm(I,$,V,we,!1),oe!==null&&Fe!==null&&Wm(I,Fe,oe,we,!0)}}e:{if($=H?Nt(H):window,V=$.nodeName&&$.nodeName.toLowerCase(),V==="select"||V==="input"&&$.type==="file")var Ge=yf;else if(mf($))if(pf)Ge=Mv;else{Ge=Uv;var ue=Dv}else V=$.nodeName,!V||V.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?H&&Go(H.elementType)&&(Ge=yf):Ge=zv;if(Ge&&(Ge=Ge(e,H))){gf(I,Ge,n,K);break e}ue&&ue(e,$,H),e==="focusout"&&H&&$.type==="number"&&H.memoizedProps.value!=null&&Vo($,"number",$.value)}switch(ue=H?Nt(H):window,e){case"focusin":(mf(ue)||ue.contentEditable==="true")&&(Mn=ue,nu=H,$i=null);break;case"focusout":$i=nu=Mn=null;break;case"mousedown":iu=!0;break;case"contextmenu":case"mouseup":case"dragend":iu=!1,jf(I,n,K);break;case"selectionchange":if(Lv)break;case"keydown":case"keyup":jf(I,n,K)}var Ne;if(eu)e:{switch(e){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else zn?ff(e,n)&&(Me="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Me="onCompositionStart");Me&&(uf&&n.locale!=="ko"&&(zn||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&zn&&(Ne=rf()):(pr=K,Xo="value"in pr?pr.value:pr.textContent,zn=!0)),ue=Js(H,Me),0<ue.length&&(Me=new sf(Me,e,null,n,K),I.push({event:Me,listeners:ue}),Ne?Me.data=Ne:(Ne=hf(n),Ne!==null&&(Me.data=Ne)))),(Ne=Nv?Rv(e,n):Ov(e,n))&&(Me=Js(H,"onBeforeInput"),0<Me.length&&(ue=new sf("onBeforeInput","beforeinput",null,n,K),I.push({event:ue,listeners:Me}),ue.data=Ne)),w0(I,e,H,n,K)}Fm(I,t)})}function fl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Js(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,d=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||d===null||(u=Di(e,n),u!=null&&l.unshift(fl(e,u,d)),u=Di(e,t),u!=null&&l.push(fl(e,u,d))),e.tag===3)return l;e=e.return}return[]}function j0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wm(e,t,n,l,u){for(var d=t._reactName,p=[];n!==null&&n!==l;){var b=n,j=b.alternate,H=b.stateNode;if(b=b.tag,j!==null&&j===l)break;b!==5&&b!==26&&b!==27||H===null||(j=H,u?(H=Di(n,d),H!=null&&p.unshift(fl(n,H,j))):u||(H=Di(n,d),H!=null&&p.push(fl(n,H,j)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var A0=/\r\n?/g,T0=/\u0000|\uFFFD/g;function eg(e){return(typeof e=="string"?e:""+e).replace(A0,`
`).replace(T0,"")}function tg(e,t){return t=eg(t),eg(e)===t}function Qe(e,t,n,l,u,d){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||kn(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&kn(e,""+l);break;case"className":Ta(e,"class",l);break;case"tabIndex":Ta(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ta(e,n,l);break;case"style":ef(e,l,d);break;case"data":if(t!=="object"){Ta(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=es(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(n==="formAction"?(t!=="input"&&Qe(e,t,"name",u.name,u,null),Qe(e,t,"formEncType",u.formEncType,u,null),Qe(e,t,"formMethod",u.formMethod,u,null),Qe(e,t,"formTarget",u.formTarget,u,null)):(Qe(e,t,"encType",u.encType,u,null),Qe(e,t,"method",u.method,u,null),Qe(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=es(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=Ia);break;case"onScroll":l!=null&&Ue("scroll",e);break;case"onScrollEnd":l!=null&&Ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=es(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Ue("beforetoggle",e),Ue("toggle",e),pt(e,"popover",l);break;case"xlinkActuate":Ot(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ot(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ot(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ot(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ot(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ot(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ot(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ot(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ot(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pt(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=tv.get(n)||n,pt(e,n,l))}}function Oc(e,t,n,l,u,d){switch(n){case"style":ef(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof l=="string"?kn(e,l):(typeof l=="number"||typeof l=="bigint")&&kn(e,""+l);break;case"onScroll":l!=null&&Ue("scroll",e);break;case"onScrollEnd":l!=null&&Ue("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ia);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xt.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),d=e[le]||null,d=d!=null?d[n]:null,typeof d=="function"&&e.removeEventListener(t,d,u),typeof l=="function")){typeof d!="function"&&d!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):pt(e,n,l)}}}function Ut(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",e),Ue("load",e);var l=!1,u=!1,d;for(d in n)if(n.hasOwnProperty(d)){var p=n[d];if(p!=null)switch(d){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Qe(e,t,d,p,n,null)}}u&&Qe(e,t,"srcSet",n.srcSet,n,null),l&&Qe(e,t,"src",n.src,n,null);return;case"input":Ue("invalid",e);var b=d=p=u=null,j=null,H=null;for(l in n)if(n.hasOwnProperty(l)){var K=n[l];if(K!=null)switch(l){case"name":u=K;break;case"type":p=K;break;case"checked":j=K;break;case"defaultChecked":H=K;break;case"value":d=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,t));break;default:Qe(e,t,l,K,n,null)}}Qd(e,d,b,j,H,p,u,!1);return;case"select":Ue("invalid",e),l=p=d=null;for(u in n)if(n.hasOwnProperty(u)&&(b=n[u],b!=null))switch(u){case"value":d=b;break;case"defaultValue":p=b;break;case"multiple":l=b;default:Qe(e,t,u,b,n,null)}t=d,n=p,e.multiple=!!l,t!=null?Cn(e,!!l,t,!1):n!=null&&Cn(e,!!l,n,!0);return;case"textarea":Ue("invalid",e),d=u=l=null;for(p in n)if(n.hasOwnProperty(p)&&(b=n[p],b!=null))switch(p){case"value":l=b;break;case"defaultValue":u=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Qe(e,t,p,b,n,null)}Zd(e,l,u,d);return;case"option":for(j in n)n.hasOwnProperty(j)&&(l=n[j],l!=null)&&(j==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Qe(e,t,j,l,n,null));return;case"dialog":Ue("beforetoggle",e),Ue("toggle",e),Ue("cancel",e),Ue("close",e);break;case"iframe":case"object":Ue("load",e);break;case"video":case"audio":for(l=0;l<dl.length;l++)Ue(dl[l],e);break;case"image":Ue("error",e),Ue("load",e);break;case"details":Ue("toggle",e);break;case"embed":case"source":case"link":Ue("error",e),Ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in n)if(n.hasOwnProperty(H)&&(l=n[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Qe(e,t,H,l,n,null)}return;default:if(Go(t)){for(K in n)n.hasOwnProperty(K)&&(l=n[K],l!==void 0&&Oc(e,t,K,l,n,void 0));return}}for(b in n)n.hasOwnProperty(b)&&(l=n[b],l!=null&&Qe(e,t,b,l,n,null))}function N0(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,d=null,p=null,b=null,j=null,H=null,K=null;for(V in n){var I=n[V];if(n.hasOwnProperty(V)&&I!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":j=I;default:l.hasOwnProperty(V)||Qe(e,t,V,null,l,I)}}for(var $ in l){var V=l[$];if(I=n[$],l.hasOwnProperty($)&&(V!=null||I!=null))switch($){case"type":d=V;break;case"name":u=V;break;case"checked":H=V;break;case"defaultChecked":K=V;break;case"value":p=V;break;case"defaultValue":b=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,t));break;default:V!==I&&Qe(e,t,$,V,l,I)}}Po(e,p,b,j,H,K,d,u);return;case"select":V=p=b=$=null;for(d in n)if(j=n[d],n.hasOwnProperty(d)&&j!=null)switch(d){case"value":break;case"multiple":V=j;default:l.hasOwnProperty(d)||Qe(e,t,d,null,l,j)}for(u in l)if(d=l[u],j=n[u],l.hasOwnProperty(u)&&(d!=null||j!=null))switch(u){case"value":$=d;break;case"defaultValue":b=d;break;case"multiple":p=d;default:d!==j&&Qe(e,t,u,d,l,j)}t=b,n=p,l=V,$!=null?Cn(e,!!n,$,!1):!!l!=!!n&&(t!=null?Cn(e,!!n,t,!0):Cn(e,!!n,n?[]:"",!1));return;case"textarea":V=$=null;for(b in n)if(u=n[b],n.hasOwnProperty(b)&&u!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Qe(e,t,b,null,l,u)}for(p in l)if(u=l[p],d=n[p],l.hasOwnProperty(p)&&(u!=null||d!=null))switch(p){case"value":$=u;break;case"defaultValue":V=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(s(91));break;default:u!==d&&Qe(e,t,p,u,l,d)}Fd(e,$,V);return;case"option":for(var oe in n)$=n[oe],n.hasOwnProperty(oe)&&$!=null&&!l.hasOwnProperty(oe)&&(oe==="selected"?e.selected=!1:Qe(e,t,oe,null,l,$));for(j in l)$=l[j],V=n[j],l.hasOwnProperty(j)&&$!==V&&($!=null||V!=null)&&(j==="selected"?e.selected=$&&typeof $!="function"&&typeof $!="symbol":Qe(e,t,j,$,l,V));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in n)$=n[we],n.hasOwnProperty(we)&&$!=null&&!l.hasOwnProperty(we)&&Qe(e,t,we,null,l,$);for(H in l)if($=l[H],V=n[H],l.hasOwnProperty(H)&&$!==V&&($!=null||V!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,t));break;default:Qe(e,t,H,$,l,V)}return;default:if(Go(t)){for(var Fe in n)$=n[Fe],n.hasOwnProperty(Fe)&&$!==void 0&&!l.hasOwnProperty(Fe)&&Oc(e,t,Fe,void 0,l,$);for(K in l)$=l[K],V=n[K],!l.hasOwnProperty(K)||$===V||$===void 0&&V===void 0||Oc(e,t,K,$,l,V);return}}for(var U in n)$=n[U],n.hasOwnProperty(U)&&$!=null&&!l.hasOwnProperty(U)&&Qe(e,t,U,null,l,$);for(I in l)$=l[I],V=n[I],!l.hasOwnProperty(I)||$===V||$==null&&V==null||Qe(e,t,I,$,l,V)}function ag(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function R0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],d=u.transferSize,p=u.initiatorType,b=u.duration;if(d&&b&&ag(p)){for(p=0,b=u.responseEnd,l+=1;l<n.length;l++){var j=n[l],H=j.startTime;if(H>b)break;var K=j.transferSize,I=j.initiatorType;K&&ag(I)&&(j=j.responseEnd,p+=K*(j<b?1:(b-H)/(j-H)))}if(--l,t+=8*(d+p)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Cc=null,kc=null;function Xs(e){return e.nodeType===9?e:e.ownerDocument}function rg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ng(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Dc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uc=null;function O0(){var e=window.event;return e&&e.type==="popstate"?e===Uc?!1:(Uc=e,!0):(Uc=null,!1)}var ig=typeof setTimeout=="function"?setTimeout:void 0,C0=typeof clearTimeout=="function"?clearTimeout:void 0,lg=typeof Promise=="function"?Promise:void 0,k0=typeof queueMicrotask=="function"?queueMicrotask:typeof lg<"u"?function(e){return lg.resolve(null).then(e).catch(D0)}:ig;function D0(e){setTimeout(function(){throw e})}function Ur(e){return e==="head"}function sg(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),ui(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")hl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,hl(n);for(var d=n.firstChild;d;){var p=d.nextSibling,b=d.nodeName;d[st]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||n.removeChild(d),d=p}}else n==="body"&&hl(e.ownerDocument.body);n=u}while(n);ui(t)}function og(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function zc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":zc(n),ct(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function U0(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[st])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=ya(e.nextSibling),e===null)break}return null}function z0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ya(e.nextSibling),e===null))return null;return e}function ug(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ya(e.nextSibling),e===null))return null;return e}function Mc(e){return e.data==="$?"||e.data==="$~"}function Bc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function M0(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ya(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Lc=null;function cg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return ya(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function dg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function fg(e,t,n){switch(t=Xs(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function hl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ct(e)}var pa=new Map,hg=new Set;function Qs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ur=F.d;F.d={f:B0,r:L0,D:H0,C:q0,L:$0,m:P0,X:G0,S:V0,M:K0};function B0(){var e=ur.f(),t=$s();return e||t}function L0(e){var t=He(e);t!==null&&t.tag===5&&t.type==="form"?Oh(t):ur.r(e)}var li=typeof document>"u"?null:document;function mg(e,t,n){var l=li;if(l&&typeof t=="string"&&t){var u=ua(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),hg.has(u)||(hg.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),Ut(t,"link",e),rt(t),l.head.appendChild(t)))}}function H0(e){ur.D(e),mg("dns-prefetch",e,null)}function q0(e,t){ur.C(e,t),mg("preconnect",e,t)}function $0(e,t,n){ur.L(e,t,n);var l=li;if(l&&e&&t){var u='link[rel="preload"][as="'+ua(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+ua(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+ua(n.imageSizes)+'"]')):u+='[href="'+ua(e)+'"]';var d=u;switch(t){case"style":d=si(e);break;case"script":d=oi(e)}pa.has(d)||(e=_({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),pa.set(d,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(ml(d))||t==="script"&&l.querySelector(gl(d))||(t=l.createElement("link"),Ut(t,"link",e),rt(t),l.head.appendChild(t)))}}function P0(e,t){ur.m(e,t);var n=li;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+ua(l)+'"][href="'+ua(e)+'"]',d=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=oi(e)}if(!pa.has(d)&&(e=_({rel:"modulepreload",href:e},t),pa.set(d,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(gl(d)))return}l=n.createElement("link"),Ut(l,"link",e),rt(l),n.head.appendChild(l)}}}function V0(e,t,n){ur.S(e,t,n);var l=li;if(l&&e){var u=Pt(l).hoistableStyles,d=si(e);t=t||"default";var p=u.get(d);if(!p){var b={loading:0,preload:null};if(p=l.querySelector(ml(d)))b.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},n),(n=pa.get(d))&&Hc(e,n);var j=p=l.createElement("link");rt(j),Ut(j,"link",e),j._p=new Promise(function(H,K){j.onload=H,j.onerror=K}),j.addEventListener("load",function(){b.loading|=1}),j.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Fs(p,t,l)}p={type:"stylesheet",instance:p,count:1,state:b},u.set(d,p)}}}function G0(e,t){ur.X(e,t);var n=li;if(n&&e){var l=Pt(n).hoistableScripts,u=oi(e),d=l.get(u);d||(d=n.querySelector(gl(u)),d||(e=_({src:e,async:!0},t),(t=pa.get(u))&&qc(e,t),d=n.createElement("script"),rt(d),Ut(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(u,d))}}function K0(e,t){ur.M(e,t);var n=li;if(n&&e){var l=Pt(n).hoistableScripts,u=oi(e),d=l.get(u);d||(d=n.querySelector(gl(u)),d||(e=_({src:e,async:!0,type:"module"},t),(t=pa.get(u))&&qc(e,t),d=n.createElement("script"),rt(d),Ut(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(u,d))}}function gg(e,t,n,l){var u=(u=je.current)?Qs(u):null;if(!u)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=si(n.href),n=Pt(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=si(n.href);var d=Pt(u).hoistableStyles,p=d.get(e);if(p||(u=u.ownerDocument||u,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,p),(d=u.querySelector(ml(e)))&&!d._p&&(p.instance=d,p.state.loading=5),pa.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},pa.set(e,n),d||Y0(u,e,n,p.state))),t&&l===null)throw Error(s(528,""));return p}if(t&&l!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=oi(n),n=Pt(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function si(e){return'href="'+ua(e)+'"'}function ml(e){return'link[rel="stylesheet"]['+e+"]"}function yg(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Y0(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ut(t,"link",n),rt(t),e.head.appendChild(t))}function oi(e){return'[src="'+ua(e)+'"]'}function gl(e){return"script[async]"+e}function pg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+ua(n.href)+'"]');if(l)return t.instance=l,rt(l),l;var u=_({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),rt(l),Ut(l,"style",u),Fs(l,n.precedence,e),t.instance=l;case"stylesheet":u=si(n.href);var d=e.querySelector(ml(u));if(d)return t.state.loading|=4,t.instance=d,rt(d),d;l=yg(n),(u=pa.get(u))&&Hc(l,u),d=(e.ownerDocument||e).createElement("link"),rt(d);var p=d;return p._p=new Promise(function(b,j){p.onload=b,p.onerror=j}),Ut(d,"link",l),t.state.loading|=4,Fs(d,n.precedence,e),t.instance=d;case"script":return d=oi(n.src),(u=e.querySelector(gl(d)))?(t.instance=u,rt(u),u):(l=n,(u=pa.get(d))&&(l=_({},n),qc(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),rt(u),Ut(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Fs(l,n.precedence,e));return t.instance}function Fs(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,d=u,p=0;p<l.length;p++){var b=l[p];if(b.dataset.precedence===t)d=b;else if(d!==u)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Hc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function qc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Zs=null;function vg(e,t,n){if(Zs===null){var l=new Map,u=Zs=new Map;u.set(n,l)}else u=Zs,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var d=n[u];if(!(d[st]||d[ae]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var p=d.getAttribute(t)||"";p=e+p;var b=l.get(p);b?b.push(d):l.set(p,[d])}}return l}function bg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function I0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function _g(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function J0(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=si(l.href),d=t.querySelector(ml(u));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ws.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=d,rt(d);return}d=t.ownerDocument||t,l=yg(l),(u=pa.get(u))&&Hc(l,u),d=d.createElement("link"),rt(d);var p=d;p._p=new Promise(function(b,j){p.onload=b,p.onerror=j}),Ut(d,"link",l),n.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Ws.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var $c=0;function X0(e,t){return e.stylesheets&&e.count===0&&to(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&to(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&$c===0&&($c=62500*R0());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&to(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>$c?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function Ws(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)to(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var eo=null;function to(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,eo=new Map,t.forEach(Q0,e),eo=null,Ws.call(e))}function Q0(e,t){if(!(t.state.loading&4)){var n=eo.get(e);if(n)var l=n.get(null);else{n=new Map,eo.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<u.length;d++){var p=u[d];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),l=p)}l&&n.set(null,l)}u=t.instance,p=u.getAttribute("data-precedence"),d=n.get(p)||l,d===l&&n.set(null,u),n.set(p,u),this.count++,l=Ws.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),d?d.parentNode.insertBefore(u,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var yl={$$typeof:B,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function F0(e,t,n,l,u,d,p,b,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gr(0),this.hiddenUpdates=gr(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function wg(e,t,n,l,u,d,p,b,j,H,K,I){return e=new F0(e,t,n,p,j,H,K,I,b),t=1,d===!0&&(t|=24),d=Ft(3,null,null,t),e.current=d,d.stateNode=e,t=_u(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:l,isDehydrated:n,cache:t},Eu(d),e}function xg(e){return e?(e=Hn,e):Hn}function Sg(e,t,n,l,u,d){u=xg(u),l.context===null?l.context=u:l.pendingContext=u,l=Sr(t),l.payload={element:n},d=d===void 0?null:d,d!==null&&(l.callback=d),n=Er(e,l,t),n!==null&&(Jt(n,e,t),Ji(n,e,t))}function Eg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pc(e,t){Eg(e,t),(e=e.alternate)&&Eg(e,t)}function jg(e){if(e.tag===13||e.tag===31){var t=ln(e,67108864);t!==null&&Jt(t,e,67108864),Pc(e,67108864)}}function Ag(e){if(e.tag===13||e.tag===31){var t=aa();t=P(t);var n=ln(e,t);n!==null&&Jt(n,e,t),Pc(e,t)}}var ao=!0;function Z0(e,t,n,l){var u=q.T;q.T=null;var d=F.p;try{F.p=2,Vc(e,t,n,l)}finally{F.p=d,q.T=u}}function W0(e,t,n,l){var u=q.T;q.T=null;var d=F.p;try{F.p=8,Vc(e,t,n,l)}finally{F.p=d,q.T=u}}function Vc(e,t,n,l){if(ao){var u=Gc(l);if(u===null)Rc(e,t,l,ro,n),Ng(e,l);else if(tb(u,e,t,n,l))l.stopPropagation();else if(Ng(e,l),t&4&&-1<eb.indexOf(e)){for(;u!==null;){var d=He(u);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var p=Ka(d.pendingLanes);if(p!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var j=1<<31-Bt(p);b.entanglements[1]|=j,p&=~j}La(d),(Ye&6)===0&&(Hs=yt()+500,cl(0))}}break;case 31:case 13:b=ln(d,2),b!==null&&Jt(b,d,2),$s(),Pc(d,2)}if(d=Gc(l),d===null&&Rc(e,t,l,ro,n),d===u)break;u=d}u!==null&&l.stopPropagation()}else Rc(e,t,l,null,n)}}function Gc(e){return e=Yo(e),Kc(e)}var ro=null;function Kc(e){if(ro=null,e=dt(e),e!==null){var t=c(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ro=e,null}function Tg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ir()){case Ri:return 2;case On:return 8;case $t:case Sa:return 32;case Oi:return 268435456;default:return 32}default:return 32}}var Yc=!1,zr=null,Mr=null,Br=null,pl=new Map,vl=new Map,Lr=[],eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ng(e,t){switch(e){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":pl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(t.pointerId)}}function bl(e,t,n,l,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:d,targetContainers:[u]},t!==null&&(t=He(t),t!==null&&jg(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function tb(e,t,n,l,u){switch(t){case"focusin":return zr=bl(zr,e,t,n,l,u),!0;case"dragenter":return Mr=bl(Mr,e,t,n,l,u),!0;case"mouseover":return Br=bl(Br,e,t,n,l,u),!0;case"pointerover":var d=u.pointerId;return pl.set(d,bl(pl.get(d)||null,e,t,n,l,u)),!0;case"gotpointercapture":return d=u.pointerId,vl.set(d,bl(vl.get(d)||null,e,t,n,l,u)),!0}return!1}function Rg(e){var t=dt(e.target);if(t!==null){var n=c(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,he(e.priority,function(){Ag(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,he(e.priority,function(){Ag(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function no(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gc(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Ko=l,n.target.dispatchEvent(l),Ko=null}else return t=He(n),t!==null&&jg(t),e.blockedOn=n,!1;t.shift()}return!0}function Og(e,t,n){no(e)&&n.delete(t)}function ab(){Yc=!1,zr!==null&&no(zr)&&(zr=null),Mr!==null&&no(Mr)&&(Mr=null),Br!==null&&no(Br)&&(Br=null),pl.forEach(Og),vl.forEach(Og)}function io(e,t){e.blockedOn===t&&(e.blockedOn=null,Yc||(Yc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ab)))}var lo=null;function Cg(e){lo!==e&&(lo=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){lo===e&&(lo=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(Kc(l||n)===null)continue;break}var d=He(n);d!==null&&(e.splice(t,3),t-=3,Gu(d,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function ui(e){function t(j){return io(j,e)}zr!==null&&io(zr,e),Mr!==null&&io(Mr,e),Br!==null&&io(Br,e),pl.forEach(t),vl.forEach(t);for(var n=0;n<Lr.length;n++){var l=Lr[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Lr.length&&(n=Lr[0],n.blockedOn===null);)Rg(n),n.blockedOn===null&&Lr.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],d=n[l+1],p=u[le]||null;if(typeof d=="function")p||Cg(n);else if(p){var b=null;if(d&&d.hasAttribute("formAction")){if(u=d,p=d[le]||null)b=p.formAction;else if(Kc(u)!==null)continue}else b=p.action;typeof b=="function"?n[l+1]=b:(n.splice(l,3),l-=3),Cg(n)}}}function kg(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(p){return u=p})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Ic(e){this._internalRoot=e}so.prototype.render=Ic.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,l=aa();Sg(n,l,e,t,null,null)},so.prototype.unmount=Ic.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sg(e.current,2,null,e,null,null),$s(),t[ce]=null}};function so(e){this._internalRoot=e}so.prototype.unstable_scheduleHydration=function(e){if(e){var t=Z();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lr.length&&t!==0&&t<Lr[n].priority;n++);Lr.splice(n,0,e),n===0&&Rg(e)}};var Dg=a.version;if(Dg!=="19.2.3")throw Error(s(527,Dg,"19.2.3"));F.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var rb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oo.isDisabled&&oo.supportsFiber)try{Jr=oo.inject(rb),lt=oo}catch{}}return wl.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,l="",u=qh,d=$h,p=Ph;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=wg(e,1,!1,null,null,n,l,null,u,d,p,kg),e[ce]=t.current,Nc(e),new Ic(t)},wl.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var l=!1,u="",d=qh,p=$h,b=Ph,j=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.formState!==void 0&&(j=n.formState)),t=wg(e,1,!0,t,n??null,l,u,j,d,p,b,kg),t.context=xg(null),n=t.current,l=aa(),l=P(l),u=Sr(l),u.callback=null,Er(n,u,l),n=l,t.current.lanes=n,yr(t,n),La(t),e[ce]=t.current,Nc(e),new so(t)},wl.version="19.2.3",wl}var Vg;function yb(){if(Vg)return Qc.exports;Vg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),Qc.exports=gb(),Qc.exports}var pb=yb();function vb(r){return{id:r.id,email:r.email,name:r.name,createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at)}}function No(r,a){var i={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&a.indexOf(s)<0&&(i[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)a.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(i[s[o]]=r[s[o]]);return i}function bb(r,a,i,s){function o(c){return c instanceof i?c:new i(function(f){f(c)})}return new(i||(i=Promise))(function(c,f){function m(v){try{g(s.next(v))}catch(_){f(_)}}function y(v){try{g(s.throw(v))}catch(_){f(_)}}function g(v){v.done?c(v.value):o(v.value).then(m,y)}g((s=s.apply(r,a||[])).next())})}const _b=r=>r?(...a)=>r(...a):(...a)=>fetch(...a);class Ud extends Error{constructor(a,i="FunctionsError",s){super(a),this.name=i,this.context=s}}class wb extends Ud{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class Gg extends Ud{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class Kg extends Ud{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var gd;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(gd||(gd={}));class xb{constructor(a,{headers:i={},customFetch:s,region:o=gd.Any}={}){this.url=a,this.headers=i,this.region=o,this.fetch=_b(s)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return bb(this,arguments,void 0,function*(i,s={}){var o;let c,f;try{const{headers:m,method:y,body:g,signal:v,timeout:_}=s;let w={},{region:x}=s;x||(x=this.region);const S=new URL(`${this.url}/${i}`);x&&x!=="any"&&(w["x-region"]=x,S.searchParams.set("forceFunctionRegion",x));let T;g&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",T=g):typeof g=="string"?(w["Content-Type"]="text/plain",T=g):typeof FormData<"u"&&g instanceof FormData?T=g:(w["Content-Type"]="application/json",T=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?T=JSON.stringify(g):T=g;let R=v;_&&(f=new AbortController,c=setTimeout(()=>f.abort(),_),v?(R=f.signal,v.addEventListener("abort",()=>f.abort())):R=f.signal);const O=yield this.fetch(S.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),m),body:T,signal:R}).catch(se=>{throw new wb(se)}),D=O.headers.get("x-relay-error");if(D&&D==="true")throw new Gg(O);if(!O.ok)throw new Kg(O);let B=((o=O.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),Q;return B==="application/json"?Q=yield O.json():B==="application/octet-stream"||B==="application/pdf"?Q=yield O.blob():B==="text/event-stream"?Q=O:B==="multipart/form-data"?Q=yield O.formData():Q=yield O.text(),{data:Q,error:null,response:O}}catch(m){return{data:null,error:m,response:m instanceof Kg||m instanceof Gg?m.context:void 0}}finally{c&&clearTimeout(c)}})}}var Sb=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},Eb=class{constructor(r){var a,i;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(a=r.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=r.signal,this.isMaybeSingle=(i=r.isMaybeSingle)!==null&&i!==void 0?i:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,a){return this.headers=new Headers(this.headers),this.headers.set(r,a),this}then(r,a){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let f=null,m=null,y=null,g=c.status,v=c.statusText;if(c.ok){var _,w;if(i.method!=="HEAD"){var x;const O=await c.text();O===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((x=i.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?m=O:m=JSON.parse(O))}const T=(_=i.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),R=(w=c.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");T&&R&&R.length>1&&(y=parseInt(R[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,y=null,g=406,v="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var S;const T=await c.text();try{f=JSON.parse(T),Array.isArray(f)&&c.status===404&&(m=[],f=null,g=200,v="OK")}catch{c.status===404&&T===""?(g=204,v="No Content"):f={message:T}}if(f&&i.isMaybeSingle&&(!(f==null||(S=f.details)===null||S===void 0)&&S.includes("0 rows"))&&(f=null,g=200,v="OK"),f&&i.shouldThrowOnError)throw new Sb(f)}return{error:f,data:m,count:y,status:g,statusText:v}});return this.shouldThrowOnError||(o=o.catch(c=>{var f;let m="";const y=c?.cause;if(y){var g,v,_,w;const S=(g=y?.message)!==null&&g!==void 0?g:"",T=(v=y?.code)!==null&&v!==void 0?v:"";m=`${(_=c?.name)!==null&&_!==void 0?_:"FetchError"}: ${c?.message}`,m+=`

Caused by: ${(w=y?.name)!==null&&w!==void 0?w:"Error"}: ${S}`,T&&(m+=` (${T})`),y?.stack&&(m+=`
${y.stack}`)}else{var x;m=(x=c?.stack)!==null&&x!==void 0?x:""}return{error:{message:`${(f=c?.name)!==null&&f!==void 0?f:"FetchError"}: ${c?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(r,a)}returns(){return this}overrideTypes(){return this}},jb=class extends Eb{select(r){let a=!1;const i=(r??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:a=!0,nullsFirst:i,foreignTable:s,referencedTable:o=s}={}){const c=o?`${o}.order`:"order",f=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${f?`${f},`:""}${r}.${a?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:a,referencedTable:i=a}={}){const s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${r}`),this}range(r,a,{foreignTable:i,referencedTable:s=i}={}){const o=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${r}`),this.url.searchParams.set(c,`${a-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:a=!1,settings:i=!1,buffers:s=!1,wal:o=!1,format:c="text"}={}){var f;const m=[r?"analyze":null,a?"verbose":null,i?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),y=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${y}"; options=${m};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const Yg=new RegExp("[,()]");var yi=class extends jb{eq(r,a){return this.url.searchParams.append(r,`eq.${a}`),this}neq(r,a){return this.url.searchParams.append(r,`neq.${a}`),this}gt(r,a){return this.url.searchParams.append(r,`gt.${a}`),this}gte(r,a){return this.url.searchParams.append(r,`gte.${a}`),this}lt(r,a){return this.url.searchParams.append(r,`lt.${a}`),this}lte(r,a){return this.url.searchParams.append(r,`lte.${a}`),this}like(r,a){return this.url.searchParams.append(r,`like.${a}`),this}likeAllOf(r,a){return this.url.searchParams.append(r,`like(all).{${a.join(",")}}`),this}likeAnyOf(r,a){return this.url.searchParams.append(r,`like(any).{${a.join(",")}}`),this}ilike(r,a){return this.url.searchParams.append(r,`ilike.${a}`),this}ilikeAllOf(r,a){return this.url.searchParams.append(r,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(r,a){return this.url.searchParams.append(r,`ilike(any).{${a.join(",")}}`),this}regexMatch(r,a){return this.url.searchParams.append(r,`match.${a}`),this}regexIMatch(r,a){return this.url.searchParams.append(r,`imatch.${a}`),this}is(r,a){return this.url.searchParams.append(r,`is.${a}`),this}isDistinct(r,a){return this.url.searchParams.append(r,`isdistinct.${a}`),this}in(r,a){const i=Array.from(new Set(a)).map(s=>typeof s=="string"&&Yg.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(r,`in.(${i})`),this}notIn(r,a){const i=Array.from(new Set(a)).map(s=>typeof s=="string"&&Yg.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(r,`not.in.(${i})`),this}contains(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cs.{${a.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(a)}`),this}containedBy(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cd.{${a.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(a)}`),this}rangeGt(r,a){return this.url.searchParams.append(r,`sr.${a}`),this}rangeGte(r,a){return this.url.searchParams.append(r,`nxl.${a}`),this}rangeLt(r,a){return this.url.searchParams.append(r,`sl.${a}`),this}rangeLte(r,a){return this.url.searchParams.append(r,`nxr.${a}`),this}rangeAdjacent(r,a){return this.url.searchParams.append(r,`adj.${a}`),this}overlaps(r,a){return typeof a=="string"?this.url.searchParams.append(r,`ov.${a}`):this.url.searchParams.append(r,`ov.{${a.join(",")}}`),this}textSearch(r,a,{config:i,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const c=i===void 0?"":`(${i})`;return this.url.searchParams.append(r,`${o}fts${c}.${a}`),this}match(r){return Object.entries(r).forEach(([a,i])=>{this.url.searchParams.append(a,`eq.${i}`)}),this}not(r,a,i){return this.url.searchParams.append(r,`not.${a}.${i}`),this}or(r,{foreignTable:a,referencedTable:i=a}={}){const s=i?`${i}.or`:"or";return this.url.searchParams.append(s,`(${r})`),this}filter(r,a,i){return this.url.searchParams.append(r,`${a}.${i}`),this}},Ab=class{constructor(r,{headers:a={},schema:i,fetch:s}){this.url=r,this.headers=new Headers(a),this.schema=i,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,a){const{head:i=!1,count:s}=a??{},o=i?"HEAD":"GET";let c=!1;const f=(r??"*").split("").map(g=>/\s/.test(g)&&!c?"":(g==='"'&&(c=!c),g)).join(""),{url:m,headers:y}=this.cloneRequestState();return m.searchParams.set("select",f),s&&y.append("Prefer",`count=${s}`),new yi({method:o,url:m,headers:y,schema:this.schema,fetch:this.fetch})}insert(r,{count:a,defaultToNull:i=!0}={}){var s;const o="POST",{url:c,headers:f}=this.cloneRequestState();if(a&&f.append("Prefer",`count=${a}`),i||f.append("Prefer","missing=default"),Array.isArray(r)){const m=r.reduce((y,g)=>y.concat(Object.keys(g)),[]);if(m.length>0){const y=[...new Set(m)].map(g=>`"${g}"`);c.searchParams.set("columns",y.join(","))}}return new yi({method:o,url:c,headers:f,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(r,{onConflict:a,ignoreDuplicates:i=!1,count:s,defaultToNull:o=!0}={}){var c;const f="POST",{url:m,headers:y}=this.cloneRequestState();if(y.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),a!==void 0&&m.searchParams.set("on_conflict",a),s&&y.append("Prefer",`count=${s}`),o||y.append("Prefer","missing=default"),Array.isArray(r)){const g=r.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(g.length>0){const v=[...new Set(g)].map(_=>`"${_}"`);m.searchParams.set("columns",v.join(","))}}return new yi({method:f,url:m,headers:y,schema:this.schema,body:r,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(r,{count:a}={}){var i;const s="PATCH",{url:o,headers:c}=this.cloneRequestState();return a&&c.append("Prefer",`count=${a}`),new yi({method:s,url:o,headers:c,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:r}={}){var a;const i="DELETE",{url:s,headers:o}=this.cloneRequestState();return r&&o.append("Prefer",`count=${r}`),new yi({method:i,url:s,headers:o,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},Tb=class Qy{constructor(a,{headers:i={},schema:s,fetch:o}={}){this.url=a,this.headers=new Headers(i),this.schemaName=s,this.fetch=o}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Ab(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new Qy(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,i={},{head:s=!1,get:o=!1,count:c}={}){var f;let m;const y=new URL(`${this.url}/rpc/${a}`);let g;const v=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(v)),_=s&&Object.values(i).some(v);_?(m="POST",g=i):s||o?(m=s?"HEAD":"GET",Object.entries(i).filter(([x,S])=>S!==void 0).map(([x,S])=>[x,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([x,S])=>{y.searchParams.append(x,S)})):(m="POST",g=i);const w=new Headers(this.headers);return _?w.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&w.set("Prefer",`count=${c}`),new yi({method:m,url:y,headers:w,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class Nb{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const s=i.versions;if(s&&s.node){const o=s.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let i=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(i+=`

Suggested solution: ${a.workaround}`),new Error(i)}static createWebSocket(a,i){const s=this.getWebSocketConstructor();return new s(a,i)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Rb="2.90.1",Ob=`realtime-js/${Rb}`,Fy="1.0.0",Cb="2.0.0",Ig=Fy,yd=1e4,kb=1e3,Db=100;var qr;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(qr||(qr={}));var Tt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Tt||(Tt={}));var Da;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Da||(Da={}));var pd;(function(r){r.websocket="websocket"})(pd||(pd={}));var xn;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(xn||(xn={}));class Ub{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,i){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(a));let s=[a.join_ref,a.ref,a.topic,a.event,a.payload];return i(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(a){var i;return this._isArrayBuffer((i=a.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var i,s;const o=(s=(i=a.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(a){var i,s;const o=(s=(i=a.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:{},f=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(a,i,s){var o,c;const f=a.topic,m=(o=a.ref)!==null&&o!==void 0?o:"",y=(c=a.join_ref)!==null&&c!==void 0?c:"",g=a.payload.event,v=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},_=Object.keys(v).length===0?"":JSON.stringify(v);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+m.length+f.length+g.length+_.length,x=new ArrayBuffer(this.HEADER_LENGTH+w);let S=new DataView(x),T=0;S.setUint8(T++,this.KINDS.userBroadcastPush),S.setUint8(T++,y.length),S.setUint8(T++,m.length),S.setUint8(T++,f.length),S.setUint8(T++,g.length),S.setUint8(T++,_.length),S.setUint8(T++,i),Array.from(y,O=>S.setUint8(T++,O.charCodeAt(0))),Array.from(m,O=>S.setUint8(T++,O.charCodeAt(0))),Array.from(f,O=>S.setUint8(T++,O.charCodeAt(0))),Array.from(g,O=>S.setUint8(T++,O.charCodeAt(0))),Array.from(_,O=>S.setUint8(T++,O.charCodeAt(0)));var R=new Uint8Array(x.byteLength+s.byteLength);return R.set(new Uint8Array(x),0),R.set(new Uint8Array(s),x.byteLength),R.buffer}decode(a,i){if(this._isArrayBuffer(a)){let s=this._binaryDecode(a);return i(s)}if(typeof a=="string"){const s=JSON.parse(a),[o,c,f,m,y]=s;return i({join_ref:o,ref:c,topic:f,event:m,payload:y})}return i({})}_binaryDecode(a){const i=new DataView(a),s=i.getUint8(0),o=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,i,o)}_decodeUserBroadcast(a,i,s){const o=i.getUint8(1),c=i.getUint8(2),f=i.getUint8(3),m=i.getUint8(4);let y=this.HEADER_LENGTH+4;const g=s.decode(a.slice(y,y+o));y=y+o;const v=s.decode(a.slice(y,y+c));y=y+c;const _=s.decode(a.slice(y,y+f));y=y+f;const w=a.slice(y,a.byteLength),x=m===this.JSON_ENCODING?JSON.parse(s.decode(w)):w,S={type:this.BROADCAST_EVENT,event:v,payload:x};return f>0&&(S.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(a){var i;return a instanceof ArrayBuffer||((i=a?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(a,i){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([s])=>i.includes(s)))}}class Zy{constructor(a,i){this.callback=a,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(et||(et={}));const Jg=(r,a,i={})=>{var s;const o=(s=i.skipTypes)!==null&&s!==void 0?s:[];return a?Object.keys(a).reduce((c,f)=>(c[f]=zb(f,r,a,o),c),{}):{}},zb=(r,a,i,s)=>{const o=a.find(m=>m.name===r),c=o?.type,f=i[r];return c&&!s.includes(c)?Wy(c,f):vd(f)},Wy=(r,a)=>{if(r.charAt(0)==="_"){const i=r.slice(1,r.length);return Hb(a,i)}switch(r){case et.bool:return Mb(a);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return Bb(a);case et.json:case et.jsonb:return Lb(a);case et.timestamp:return qb(a);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return vd(a);default:return vd(a)}},vd=r=>r,Mb=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Bb=r=>{if(typeof r=="string"){const a=parseFloat(r);if(!Number.isNaN(a))return a}return r},Lb=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},Hb=(r,a)=>{if(typeof r!="string")return r;const i=r.length-1,s=r[i];if(r[0]==="{"&&s==="}"){let c;const f=r.slice(1,i);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(m=>Wy(a,m))}return r},qb=r=>typeof r=="string"?r.replace(" ","T"):r,ep=r=>{const a=new URL(r);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class ed{constructor(a,i,s={},o=yd){this.channel=a,this.event=i,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,i){var s;return this._hasReceived(a)&&i((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:a,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:i}){this.recHooks.filter(s=>s.status===a).forEach(s=>s.callback(i))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Xg;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Xg||(Xg={}));class Nl{constructor(a,i){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:c,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nl.syncState(this.state,o,c,f),this.pendingDiffs.forEach(y=>{this.state=Nl.syncDiff(this.state,y,c,f)}),this.pendingDiffs=[],m()}),this.channel._on(s.diff,{},o=>{const{onJoin:c,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Nl.syncDiff(this.state,o,c,f),m())}),this.onJoin((o,c,f)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:f})}),this.onLeave((o,c,f)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,i,s,o){const c=this.cloneDeep(a),f=this.transformState(i),m={},y={};return this.map(c,(g,v)=>{f[g]||(y[g]=v)}),this.map(f,(g,v)=>{const _=c[g];if(_){const w=v.map(R=>R.presence_ref),x=_.map(R=>R.presence_ref),S=v.filter(R=>x.indexOf(R.presence_ref)<0),T=_.filter(R=>w.indexOf(R.presence_ref)<0);S.length>0&&(m[g]=S),T.length>0&&(y[g]=T)}else m[g]=v}),this.syncDiff(c,{joins:m,leaves:y},s,o)}static syncDiff(a,i,s,o){const{joins:c,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(c,(m,y)=>{var g;const v=(g=a[m])!==null&&g!==void 0?g:[];if(a[m]=this.cloneDeep(y),v.length>0){const _=a[m].map(x=>x.presence_ref),w=v.filter(x=>_.indexOf(x.presence_ref)<0);a[m].unshift(...w)}s(m,v,y)}),this.map(f,(m,y)=>{let g=a[m];if(!g)return;const v=y.map(_=>_.presence_ref);g=g.filter(_=>v.indexOf(_.presence_ref)<0),a[m]=g,o(m,g,y),g.length===0&&delete a[m]}),a}static map(a,i){return Object.getOwnPropertyNames(a).map(s=>i(s,a[s]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((i,s)=>{const o=a[s];return"metas"in o?i[s]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):i[s]=o,i},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qg;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Qg||(Qg={}));var Rl;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Rl||(Rl={}));var dr;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(dr||(dr={}));class _i{constructor(a,i={config:{}},s){var o,c;if(this.topic=a,this.params=i,this.socket=s,this.bindings={},this.state=Tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new ed(this,Da.join,this.params,this.timeout),this.rejoinTimer=new Zy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Da.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new Nl(this),this.broadcastEndpointURL=ep(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,i=this.timeout){var s,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Tt.closed){const{config:{broadcast:f,presence:m,private:y}}=this.params,g=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(x=>x.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[Rl.PRESENCE]&&this.bindings[Rl.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,_={},w={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:v}),postgres_changes:g,private:y};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(x=>a?.(dr.CHANNEL_ERROR,x)),this._onClose(()=>a?.(dr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},_)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){a?.(dr.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,R=(S=T?.length)!==null&&S!==void 0?S:0,O=[];for(let D=0;D<R;D++){const B=T[D],{filter:{event:Q,schema:se,table:re,filter:k}}=B,te=x&&x[D];if(te&&te.event===Q&&_i.isFilterValueEqual(te.schema,se)&&_i.isFilterValueEqual(te.table,re)&&_i.isFilterValueEqual(te.filter,k))O.push(Object.assign(Object.assign({},B),{id:te.id}));else{this.unsubscribe(),this.state=Tt.errored,a?.(dr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,a&&a(dr.SUBSCRIBED);return}}).receive("error",x=>{this.state=Tt.errored,a?.(dr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{a?.(dr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,i={}){return await this.send({type:"presence",event:"track",payload:a},i.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,i,s){return this.state===Tt.joined&&a===Rl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,i,s)}async httpSend(a,i,s={}){var o;if(i==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(m.status===202)return{success:!0};let y=m.statusText;try{const g=await m.json();y=g.error||g.message||y}catch{}return Promise.reject(new Error(y))}async send(a,i={}){var s,o;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:f}=a,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,m,y;const g=this._push(a.type,a,i.timeout||this.timeout);a.type==="broadcast"&&!(!((y=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||y===void 0)&&y.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Tt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Da.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new ed(this,Da.leave,{},a),s.receive("ok",()=>{i(),o("ok")}).receive("timeout",()=>{i(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Tt.closed,this.bindings={}}async _fetchWithTimeout(a,i,s){const o=new AbortController,c=setTimeout(()=>o.abort(),s),f=await this.socket.fetch(a,Object.assign(Object.assign({},i),{signal:o.signal}));return clearTimeout(c),f}_push(a,i,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ed(this,a,i,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Db){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(a,i,s){return i}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,i,s){var o,c;const f=a.toLocaleLowerCase(),{close:m,error:y,leave:g,join:v}=Da;if(s&&[m,y,g,v].indexOf(f)>=0&&s!==this._joinRef())return;let w=this._onMessage(f,i,s);if(i&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(x=>{var S,T,R;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((R=(T=x.filter)===null||T===void 0?void 0:T.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===f}).map(x=>x.callback(w,s)):(c=this.bindings[f])===null||c===void 0||c.filter(x=>{var S,T,R,O,D,B,Q,se;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in x){const re=x.id,k=(S=x.filter)===null||S===void 0?void 0:S.event;return re&&((T=i.ids)===null||T===void 0?void 0:T.includes(re))&&(k==="*"||k?.toLocaleLowerCase()===((R=i.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))&&(!(!((O=x.filter)===null||O===void 0)&&O.table)||x.filter.table===((D=i.data)===null||D===void 0?void 0:D.table))}else{const re=(Q=(B=x?.filter)===null||B===void 0?void 0:B.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase();return re==="*"||re===((se=i?.event)===null||se===void 0?void 0:se.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===f}).map(x=>{if(typeof w=="object"&&"ids"in w){const S=w.data,{schema:T,table:R,commit_timestamp:O,type:D,errors:B}=S;w=Object.assign(Object.assign({},{schema:T,table:R,commit_timestamp:O,eventType:D,new:{},old:{},errors:B}),this._getPayloadRecords(S))}x.callback(w,s)})}_isClosed(){return this.state===Tt.closed}_isJoined(){return this.state===Tt.joined}_isJoining(){return this.state===Tt.joining}_isLeaving(){return this.state===Tt.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,i,s){const o=a.toLocaleLowerCase(),c={type:o,filter:i,callback:s};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(a,i){const s=a.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===s&&_i.isEqual(o.filter,i))})),this}static isEqual(a,i){if(Object.keys(a).length!==Object.keys(i).length)return!1;for(const s in a)if(a[s]!==i[s])return!1;return!0}static isFilterValueEqual(a,i){return(a??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Da.close,{},a)}_onError(a){this._on(Da.error,{},i=>a(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tt.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const i={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(i.new=Jg(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(i.old=Jg(a.columns,a.old_record)),i}}const td=()=>{},uo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$b=[1e3,2e3,5e3,1e4],Pb=1e4,Vb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Gb{constructor(a,i){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yd,this.transport=null,this.heartbeatIntervalMs=uo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=td,this.ref=0,this.reconnectTimer=null,this.vsn=Ig,this.logger=td,this.conn=null,this.sendBuffer=[],this.serializer=new Ub,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((s=i?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${a}/${pd.websocket}`,this.httpEndpoint=ep(a),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Nb.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const i=a.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const i=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const a=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,i,s){this.logger(a,i,s)}connectionState(){switch(this.conn&&this.conn.readyState){case qr.connecting:return xn.Connecting;case qr.open:return xn.Open;case qr.closing:return xn.Closing;default:return xn.Closed}}isConnected(){return this.connectionState()===xn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,i={config:{}}){const s=`realtime:${a}`,o=this.getChannels().find(c=>c.topic===s);if(o)return o;{const c=new _i(`realtime:${a}`,i,this);return this.channels.push(c),c}}push(a){const{topic:i,event:s,payload:o,ref:c}=a,f=()=>{this.encode(a,m=>{var y;(y=this.conn)===null||y===void 0||y.send(m)})};this.log("push",`${i} ${s} (${c})`,o),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(kb,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},uo.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let i=this.channels.find(s=>s.topic===a&&(s._isJoined()||s._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${a}"`),i.unsubscribe())}_remove(a){this.channels=this.channels.filter(i=>i.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",g)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:o,payload:c,ref:f}=i,m=f?`(${f})`:"",y=c.status||"";this.log("receive",`${y} ${s} ${o} ${m}`.trim(),c),this.channels.filter(g=>g._isMember(s)).forEach(g=>g._trigger(o,c,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(a){var i;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===qr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===qr.open||this.conn.readyState===qr.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var i;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Da.error))}_appendParams(a,i){if(Object.keys(i).length===0)return a;const s=a.match(/\?/)?"&":"?",o=new URLSearchParams(i);return`${a}${s}${o}`}_workerObjectUrl(a){let i;if(a)i=a;else{const s=new Blob([Vb],{type:"application/javascript"});i=URL.createObjectURL(s)}return i}_setConnectionState(a,i=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(a=null){let i,s=!1;if(a)i=a,s=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),i=this.accessTokenValue}else i=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const c={access_token:i,version:Ob};i&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(Da.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${a}`,i)})}_triggerStateCallbacks(a,i){try{this.stateChangeCallbacks[a].forEach(s=>{try{s(i)}catch(o){this.log("error",`error in ${a} callback`,o)}})}catch(s){this.log("error",`error triggering ${a} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Zy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},uo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var i,s,o,c,f,m,y,g,v,_,w,x;switch(this.transport=(i=a?.transport)!==null&&i!==void 0?i:null,this.timeout=(s=a?.timeout)!==null&&s!==void 0?s:yd,this.heartbeatIntervalMs=(o=a?.heartbeatIntervalMs)!==null&&o!==void 0?o:uo.HEARTBEAT_INTERVAL,this.worker=(c=a?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(f=a?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=a?.heartbeatCallback)!==null&&m!==void 0?m:td,this.vsn=(y=a?.vsn)!==null&&y!==void 0?y:Ig,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=a?.reconnectAfterMs)!==null&&g!==void 0?g:(S=>$b[S-1]||Pb),this.vsn){case Fy:this.encode=(v=a?.encode)!==null&&v!==void 0?v:((S,T)=>T(JSON.stringify(S))),this.decode=(_=a?.decode)!==null&&_!==void 0?_:((S,T)=>T(JSON.parse(S)));break;case Cb:this.encode=(w=a?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(x=a?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var Cl=class extends Error{constructor(r,a){super(r),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Kb(r,a,i){const s=new URL(a,r);if(i)for(const[o,c]of Object.entries(i))c!==void 0&&s.searchParams.set(o,c);return s.toString()}async function Yb(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function Ib(r){const a=r.fetchImpl??globalThis.fetch;return{async request({method:i,path:s,query:o,body:c,headers:f}){const m=Kb(r.baseUrl,s,o),y=await Yb(r.auth),g=await a(m,{method:i,headers:{...c?{"Content-Type":"application/json"}:{},...y,...f},body:c?JSON.stringify(c):void 0}),v=await g.text(),_=(g.headers.get("content-type")||"").includes("application/json"),w=_&&v?JSON.parse(v):v;if(!g.ok){const x=_?w:void 0,S=x?.error;throw new Cl(S?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:S?.type,icebergCode:S?.code,details:x})}return{status:g.status,headers:g.headers,data:w}}}}function co(r){return r.join("")}var Jb=class{constructor(r,a=""){this.client=r,this.prefix=a}async listNamespaces(r){const a=r?{parent:co(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(r,a){const i={namespace:r.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${co(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${co(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${co(r.namespace)}`}),!0}catch(a){if(a instanceof Cl&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(r,a){try{return await this.createNamespace(r,a)}catch(i){if(i instanceof Cl&&i.status===409)return;throw i}}};function ci(r){return r.join("")}var Xb=class{constructor(r,a="",i){this.client=r,this.prefix=a,this.accessDelegation=i}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ci(r.namespace)}/tables`})).data.identifiers}async createTable(r,a){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ci(r.namespace)}/tables`,body:a,headers:i})).data.metadata}async updateTable(r,a){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ci(r.namespace)}/tables/${r.name}`,body:a});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(r,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ci(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(r){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ci(r.namespace)}/tables/${r.name}`,headers:a})).data.metadata}async tableExists(r){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ci(r.namespace)}/tables/${r.name}`,headers:a}),!0}catch(i){if(i instanceof Cl&&i.status===404)return!1;throw i}}async createTableIfNotExists(r,a){try{return await this.createTable(r,a)}catch(i){if(i instanceof Cl&&i.status===409)return await this.loadTable({namespace:r.namespace,name:a.name});throw i}}},Qb=class{constructor(r){let a="v1";r.catalogName&&(a+=`/${r.catalogName}`);const i=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=Ib({baseUrl:i,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new Jb(this.client,a),this.tableOps=new Xb(this.client,a,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,a){return this.namespaceOps.createNamespace(r,a)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,a){return this.tableOps.createTable(r,a)}async updateTable(r,a){return this.tableOps.updateTable(r,a)}async dropTable(r,a){await this.tableOps.dropTable(r,a)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,a){return this.namespaceOps.createNamespaceIfNotExists(r,a)}async createTableIfNotExists(r,a){return this.tableOps.createTableIfNotExists(r,a)}},Ro=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function ot(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var Fb=class extends Ro{constructor(r,a,i){super(r),this.name="StorageApiError",this.status=a,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},bd=class extends Ro{constructor(r,a){super(r),this.name="StorageUnknownError",this.originalError=a}};const zd=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),Zb=()=>Response,_d=r=>{if(Array.isArray(r))return r.map(i=>_d(i));if(typeof r=="function"||r!==Object(r))return r;const a={};return Object.entries(r).forEach(([i,s])=>{const o=i.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));a[o]=_d(s)}),a},Wb=r=>{if(typeof r!="object"||r===null)return!1;const a=Object.getPrototypeOf(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},e_=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function kl(r){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},kl(r)}function t_(r,a){if(kl(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,a);if(kl(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function a_(r){var a=t_(r,"string");return kl(a)=="symbol"?a:a+""}function r_(r,a,i){return(a=a_(a))in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i,r}function Fg(r,a){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);a&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),i.push.apply(i,s)}return i}function Se(r){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?Fg(Object(i),!0).forEach(function(s){r_(r,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Fg(Object(i)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(i,s))})}return r}const ad=r=>{var a;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(a=r.error)===null||a===void 0?void 0:a.message)||JSON.stringify(r)},n_=async(r,a,i)=>{r instanceof await Zb()&&!i?.noResolveJson?r.json().then(s=>{const o=r.status||500,c=s?.statusCode||o+"";a(new Fb(ad(s),o,c))}).catch(s=>{a(new bd(ad(s),s))}):a(new bd(ad(r),r))},i_=(r,a,i,s)=>{const o={method:r,headers:a?.headers||{}};return r==="GET"||!s?o:(Wb(s)?(o.headers=Se({"Content-Type":"application/json"},a?.headers),o.body=JSON.stringify(s)):o.body=s,a?.duplex&&(o.duplex=a.duplex),Se(Se({},o),i))};async function $l(r,a,i,s,o,c){return new Promise((f,m)=>{r(i,i_(a,s,o,c)).then(y=>{if(!y.ok)throw y;return s?.noResolveJson?y:y.json()}).then(y=>f(y)).catch(y=>n_(y,m,s))})}async function Dl(r,a,i,s){return $l(r,"GET",a,i,s)}async function ka(r,a,i,s,o){return $l(r,"POST",a,s,o,i)}async function wd(r,a,i,s,o){return $l(r,"PUT",a,s,o,i)}async function l_(r,a,i,s){return $l(r,"HEAD",a,Se(Se({},i),{},{noResolveJson:!0}),s)}async function Md(r,a,i,s,o){return $l(r,"DELETE",a,s,o,i)}var s_=class{constructor(r,a){this.downloadFn=r,this.shouldThrowOnError=a}then(r,a){return this.execute().then(r,a)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}}};let tp;tp=Symbol.toStringTag;var o_=class{constructor(r,a){this.downloadFn=r,this.shouldThrowOnError=a,this[tp]="BlobDownloadBuilder",this.promise=null}asStream(){return new s_(this.downloadFn,this.shouldThrowOnError)}then(r,a){return this.getPromise().then(r,a)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}}};const u_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var c_=class{constructor(r,a={},i,s){this.shouldThrowOnError=!1,this.url=r,this.headers=a,this.bucketId=i,this.fetch=zd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,a,i,s){var o=this;try{let c;const f=Se(Se({},Zg),s);let m=Se(Se({},o.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const y=f.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),y&&c.append("metadata",o.encodeMetadata(y)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.has("cacheControl")||c.append("cacheControl",f.cacheControl),y&&!c.has("metadata")&&c.append("metadata",o.encodeMetadata(y))):(c=i,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,y&&(m["x-metadata"]=o.toBase64(o.encodeMetadata(y))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!f.duplex&&(f.duplex="half")),s?.headers&&(m=Se(Se({},m),s.headers));const g=o._removeEmptyFolders(a),v=o._getFinalPath(g),_=await(r=="PUT"?wd:ka)(o.fetch,`${o.url}/object/${v}`,c,Se({headers:m},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:g,id:_.Id,fullPath:_.Key},error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(ot(c))return{data:null,error:c};throw c}}async upload(r,a,i){return this.uploadOrUpdate("POST",r,a,i)}async uploadToSignedUrl(r,a,i,s){var o=this;const c=o._removeEmptyFolders(r),f=o._getFinalPath(c),m=new URL(o.url+`/object/upload/sign/${f}`);m.searchParams.set("token",a);try{let y;const g=Se({upsert:Zg.upsert},s),v=Se(Se({},o.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&i instanceof Blob?(y=new FormData,y.append("cacheControl",g.cacheControl),y.append("",i)):typeof FormData<"u"&&i instanceof FormData?(y=i,y.append("cacheControl",g.cacheControl)):(y=i,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType),{data:{path:c,fullPath:(await wd(o.fetch,m.toString(),y,{headers:v})).Key},error:null}}catch(y){if(o.shouldThrowOnError)throw y;if(ot(y))return{data:null,error:y};throw y}}async createSignedUploadUrl(r,a){var i=this;try{let s=i._getFinalPath(r);const o=Se({},i.headers);a?.upsert&&(o["x-upsert"]="true");const c=await ka(i.fetch,`${i.url}/object/upload/sign/${s}`,{},{headers:o}),f=new URL(i.url+c.url),m=f.searchParams.get("token");if(!m)throw new Ro("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:m},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}}async update(r,a,i){return this.uploadOrUpdate("PUT",r,a,i)}async move(r,a,i){var s=this;try{return{data:await ka(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:r,destinationKey:a,destinationBucket:i?.destinationBucket},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}}async copy(r,a,i){var s=this;try{return{data:{path:(await ka(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:r,destinationKey:a,destinationBucket:i?.destinationBucket},{headers:s.headers})).Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}}async createSignedUrl(r,a,i){var s=this;try{let o=s._getFinalPath(r),c=await ka(s.fetch,`${s.url}/object/sign/${o}`,Se({expiresIn:a},i?.transform?{transform:i.transform}:{}),{headers:s.headers});const f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return c={signedUrl:encodeURI(`${s.url}${c.signedURL}${f}`)},{data:c,error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}}async createSignedUrls(r,a,i){var s=this;try{const o=await ka(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:a,paths:r},{headers:s.headers}),c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(f=>Se(Se({},f),{},{signedUrl:f.signedURL?encodeURI(`${s.url}${f.signedURL}${c}`):null})),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}}download(r,a){const i=typeof a?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(a?.transform||{}),o=s?`?${s}`:"",c=this._getFinalPath(r),f=()=>Dl(this.fetch,`${this.url}/${i}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new o_(f,this.shouldThrowOnError)}async info(r){var a=this;const i=a._getFinalPath(r);try{return{data:_d(await Dl(a.fetch,`${a.url}/object/info/${i}`,{headers:a.headers})),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}}async exists(r){var a=this;const i=a._getFinalPath(r);try{return await l_(a.fetch,`${a.url}/object/${i}`,{headers:a.headers}),{data:!0,error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(ot(s)&&s instanceof bd){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}}getPublicUrl(r,a){const i=this._getFinalPath(r),s=[],o=a?.download?`download=${a.download===!0?"":a.download}`:"";o!==""&&s.push(o);const c=typeof a?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(a?.transform||{});f!==""&&s.push(f);let m=s.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${i}${m}`)}}}async remove(r){var a=this;try{return{data:await Md(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:r},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async list(r,a,i){var s=this;try{const o=Se(Se(Se({},u_),a),{},{prefix:r||""});return{data:await ka(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},i),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}}async listV2(r,a){var i=this;try{const s=Se({},r);return{data:await ka(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,s,{headers:i.headers},a),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const a=[];return r.width&&a.push(`width=${r.width}`),r.height&&a.push(`height=${r.height}`),r.resize&&a.push(`resize=${r.resize}`),r.format&&a.push(`format=${r.format}`),r.quality&&a.push(`quality=${r.quality}`),a.join("&")}};const ap="2.90.1",rp={"X-Client-Info":`storage-js/${ap}`};var d_=class{constructor(r,a={},i,s){this.shouldThrowOnError=!1;const o=new URL(r);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Se(Se({},rp),a),this.fetch=zd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var a=this;try{const i=a.listBucketOptionsToQueryString(r);return{data:await Dl(a.fetch,`${a.url}/bucket${i}`,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async getBucket(r){var a=this;try{return{data:await Dl(a.fetch,`${a.url}/bucket/${r}`,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async createBucket(r,a={public:!1}){var i=this;try{return{data:await ka(i.fetch,`${i.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}}async updateBucket(r,a){var i=this;try{return{data:await wd(i.fetch,`${i.url}/bucket/${r}`,{id:r,name:r,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}}async emptyBucket(r){var a=this;try{return{data:await ka(a.fetch,`${a.url}/bucket/${r}/empty`,{},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async deleteBucket(r){var a=this;try{return{data:await Md(a.fetch,`${a.url}/bucket/${r}`,{},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(r){const a={};return r&&("limit"in r&&(a.limit=String(r.limit)),"offset"in r&&(a.offset=String(r.offset)),r.search&&(a.search=r.search),r.sortColumn&&(a.sortColumn=r.sortColumn),r.sortOrder&&(a.sortOrder=r.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},f_=class{constructor(r,a={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Se(Se({},rp),a),this.fetch=zd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var a=this;try{return{data:await ka(a.fetch,`${a.url}/bucket`,{name:r},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async listBuckets(r){var a=this;try{const i=new URLSearchParams;r?.limit!==void 0&&i.set("limit",r.limit.toString()),r?.offset!==void 0&&i.set("offset",r.offset.toString()),r?.sortColumn&&i.set("sortColumn",r.sortColumn),r?.sortOrder&&i.set("sortOrder",r.sortOrder),r?.search&&i.set("search",r.search);const s=i.toString(),o=s?`${a.url}/bucket?${s}`:`${a.url}/bucket`;return{data:await Dl(a.fetch,o,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}async deleteBucket(r){var a=this;try{return{data:await Md(a.fetch,`${a.url}/bucket/${r}`,{},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}}from(r){var a=this;if(!e_(r))throw new Ro("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new Qb({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(i,{get(o,c){const f=o[c];return typeof f!="function"?f:async(...m)=>{try{return{data:await f.apply(o,m),error:null}}catch(y){if(s)throw y;return{data:null,error:y}}}}})}};const Bd={"X-Client-Info":`storage-js/${ap}`,"Content-Type":"application/json"};var np=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ia(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var rd=class extends np{constructor(r,a,i){super(r),this.name="StorageVectorsApiError",this.status=a,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},h_=class extends np{constructor(r,a){super(r),this.name="StorageVectorsUnknownError",this.originalError=a}};const Ld=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),m_=r=>{if(typeof r!="object"||r===null)return!1;const a=Object.getPrototypeOf(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Wg=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),g_=async(r,a,i)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!i?.noResolveJson){const s=r.status||500,o=r;if(typeof o.json=="function")o.json().then(c=>{const f=c?.statusCode||c?.code||s+"";a(new rd(Wg(c),s,f))}).catch(()=>{const c=s+"";a(new rd(o.statusText||`HTTP ${s} error`,s,c))});else{const c=s+"";a(new rd(o.statusText||`HTTP ${s} error`,s,c))}}else a(new h_(Wg(r),r))},y_=(r,a,i,s)=>{const o={method:r,headers:a?.headers||{}};return s?(m_(s)?(o.headers=Se({"Content-Type":"application/json"},a?.headers),o.body=JSON.stringify(s)):o.body=s,Se(Se({},o),i)):o};async function p_(r,a,i,s,o,c){return new Promise((f,m)=>{r(i,y_(a,s,o,c)).then(y=>{if(!y.ok)throw y;if(s?.noResolveJson)return y;const g=y.headers.get("content-type");return!g||!g.includes("application/json")?{}:y.json()}).then(y=>f(y)).catch(y=>g_(y,m,s))})}async function la(r,a,i,s,o){return p_(r,"POST",a,s,o,i)}var v_=class{constructor(r,a={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Se(Se({},Bd),a),this.fetch=Ld(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var a=this;try{return{data:await la(a.fetch,`${a.url}/CreateIndex`,r,{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ia(i))return{data:null,error:i};throw i}}async getIndex(r,a){var i=this;try{return{data:await la(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:r,indexName:a},{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ia(s))return{data:null,error:s};throw s}}async listIndexes(r){var a=this;try{return{data:await la(a.fetch,`${a.url}/ListIndexes`,r,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ia(i))return{data:null,error:i};throw i}}async deleteIndex(r,a){var i=this;try{return{data:await la(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:r,indexName:a},{headers:i.headers})||{},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ia(s))return{data:null,error:s};throw s}}},b_=class{constructor(r,a={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Se(Se({},Bd),a),this.fetch=Ld(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var a=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await la(a.fetch,`${a.url}/PutVectors`,r,{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ia(i))return{data:null,error:i};throw i}}async getVectors(r){var a=this;try{return{data:await la(a.fetch,`${a.url}/GetVectors`,r,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ia(i))return{data:null,error:i};throw i}}async listVectors(r){var a=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await la(a.fetch,`${a.url}/ListVectors`,r,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ia(i))return{data:null,error:i};throw i}}async queryVectors(r){var a=this;try{return{data:await la(a.fetch,`${a.url}/QueryVectors`,r,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ia(i))return{data:null,error:i};throw i}}async deleteVectors(r){var a=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await la(a.fetch,`${a.url}/DeleteVectors`,r,{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ia(i))return{data:null,error:i};throw i}}},__=class{constructor(r,a={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Se(Se({},Bd),a),this.fetch=Ld(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var a=this;try{return{data:await la(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ia(i))return{data:null,error:i};throw i}}async getBucket(r){var a=this;try{return{data:await la(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:r},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ia(i))return{data:null,error:i};throw i}}async listBuckets(r={}){var a=this;try{return{data:await la(a.fetch,`${a.url}/ListVectorBuckets`,r,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ia(i))return{data:null,error:i};throw i}}async deleteBucket(r){var a=this;try{return{data:await la(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ia(i))return{data:null,error:i};throw i}}},w_=class extends __{constructor(r,a={}){super(r,a.headers||{},a.fetch)}from(r){return new x_(this.url,this.headers,r,this.fetch)}async createBucket(r){var a=()=>super.createBucket,i=this;return a().call(i,r)}async getBucket(r){var a=()=>super.getBucket,i=this;return a().call(i,r)}async listBuckets(r={}){var a=()=>super.listBuckets,i=this;return a().call(i,r)}async deleteBucket(r){var a=()=>super.deleteBucket,i=this;return a().call(i,r)}},x_=class extends v_{constructor(r,a,i,s){super(r,a,s),this.vectorBucketName=i}async createIndex(r){var a=()=>super.createIndex,i=this;return a().call(i,Se(Se({},r),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(r={}){var a=()=>super.listIndexes,i=this;return a().call(i,Se(Se({},r),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(r){var a=()=>super.getIndex,i=this;return a().call(i,i.vectorBucketName,r)}async deleteIndex(r){var a=()=>super.deleteIndex,i=this;return a().call(i,i.vectorBucketName,r)}index(r){return new S_(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},S_=class extends b_{constructor(r,a,i,s,o){super(r,a,o),this.vectorBucketName=i,this.indexName=s}async putVectors(r){var a=()=>super.putVectors,i=this;return a().call(i,Se(Se({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(r){var a=()=>super.getVectors,i=this;return a().call(i,Se(Se({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(r={}){var a=()=>super.listVectors,i=this;return a().call(i,Se(Se({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(r){var a=()=>super.queryVectors,i=this;return a().call(i,Se(Se({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(r){var a=()=>super.deleteVectors,i=this;return a().call(i,Se(Se({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},E_=class extends d_{constructor(r,a={},i,s){super(r,a,i,s)}from(r){return new c_(this.url,this.headers,r,this.fetch)}get vectors(){return new w_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new f_(this.url+"/iceberg",this.headers,this.fetch)}};const ip="2.90.1",pi=30*1e3,xd=3,nd=xd*pi,j_="http://localhost:9999",A_="supabase.auth.token",T_={"X-Client-Info":`gotrue-js/${ip}`},Sd="X-Supabase-Api-Version",lp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},N_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,R_=600*1e3;class Ul extends Error{constructor(a,i,s){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=s}}function me(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class O_ extends Ul{constructor(a,i,s){super(a,i,s),this.name="AuthApiError",this.status=i,this.code=s}}function C_(r){return me(r)&&r.name==="AuthApiError"}class Sn extends Ul{constructor(a,i){super(a),this.name="AuthUnknownError",this.originalError=i}}class fr extends Ul{constructor(a,i,s,o){super(a,s,o),this.name=i,this.status=s}}class ra extends fr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function k_(r){return me(r)&&r.name==="AuthSessionMissingError"}class di extends fr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fo extends fr{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class ho extends fr{constructor(a,i=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function D_(r){return me(r)&&r.name==="AuthImplicitGrantRedirectError"}class ey extends fr{constructor(a,i=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class U_ extends fr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ed extends fr{constructor(a,i){super(a,"AuthRetryableFetchError",i,void 0)}}function id(r){return me(r)&&r.name==="AuthRetryableFetchError"}class ty extends fr{constructor(a,i,s){super(a,"AuthWeakPasswordError",i,"weak_password"),this.reasons=s}}class jd extends fr{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const _o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ay=` 	
\r=`.split(""),z_=(()=>{const r=new Array(128);for(let a=0;a<r.length;a+=1)r[a]=-1;for(let a=0;a<ay.length;a+=1)r[ay[a].charCodeAt(0)]=-2;for(let a=0;a<_o.length;a+=1)r[_o[a].charCodeAt(0)]=a;return r})();function ry(r,a,i){if(r!==null)for(a.queue=a.queue<<8|r,a.queuedBits+=8;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;i(_o[s]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;i(_o[s]),a.queuedBits-=6}}function sp(r,a,i){const s=z_[r];if(s>-1)for(a.queue=a.queue<<6|s,a.queuedBits+=6;a.queuedBits>=8;)i(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function ny(r){const a=[],i=f=>{a.push(String.fromCodePoint(f))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=f=>{L_(f,s,i)};for(let f=0;f<r.length;f+=1)sp(r.charCodeAt(f),o,c);return a.join("")}function M_(r,a){if(r<=127){a(r);return}else if(r<=2047){a(192|r>>6),a(128|r&63);return}else if(r<=65535){a(224|r>>12),a(128|r>>6&63),a(128|r&63);return}else if(r<=1114111){a(240|r>>18),a(128|r>>12&63),a(128|r>>6&63),a(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function B_(r,a){for(let i=0;i<r.length;i+=1){let s=r.charCodeAt(i);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(r.charCodeAt(i+1)-56320&65535|o)+65536,i+=1}M_(s,a)}}function L_(r,a,i){if(a.utf8seq===0){if(r<=127){i(r);return}for(let s=1;s<6;s+=1)if((r>>7-s&1)===0){a.utf8seq=s;break}if(a.utf8seq===2)a.codepoint=r&31;else if(a.utf8seq===3)a.codepoint=r&15;else if(a.utf8seq===4)a.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|r&63,a.utf8seq-=1,a.utf8seq===0&&i(a.codepoint)}}function Si(r){const a=[],i={queue:0,queuedBits:0},s=o=>{a.push(o)};for(let o=0;o<r.length;o+=1)sp(r.charCodeAt(o),i,s);return new Uint8Array(a)}function H_(r){const a=[];return B_(r,i=>a.push(i)),new Uint8Array(a)}function En(r){const a=[],i={queue:0,queuedBits:0},s=o=>{a.push(o)};return r.forEach(o=>ry(o,i,s)),ry(null,i,s),a.join("")}function q_(r){return Math.round(Date.now()/1e3)+r}function $_(){return Symbol("auth-callback")}const Mt=()=>typeof window<"u"&&typeof document<"u",bn={tested:!1,writable:!1},op=()=>{if(!Mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bn.tested)return bn.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),bn.tested=!0,bn.writable=!0}catch{bn.tested=!0,bn.writable=!1}return bn.writable};function P_(r){const a={},i=new URL(r);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((o,c)=>{a[c]=o})}catch{}return i.searchParams.forEach((s,o)=>{a[o]=s}),a}const up=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),V_=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",vi=async(r,a,i)=>{await r.setItem(a,JSON.stringify(i))},_n=async(r,a)=>{const i=await r.getItem(a);if(!i)return null;try{return JSON.parse(i)}catch{return i}},zt=async(r,a)=>{await r.removeItem(a)};let cp=class dp{constructor(){this.promise=new dp.promiseConstructor((a,i)=>{this.resolve=a,this.reject=i})}};cp.promiseConstructor=Promise;function ld(r){const a=r.split(".");if(a.length!==3)throw new jd("Invalid JWT structure");for(let s=0;s<a.length;s++)if(!N_.test(a[s]))throw new jd("JWT not in base64url format");return{header:JSON.parse(ny(a[0])),payload:JSON.parse(ny(a[1])),signature:Si(a[2]),raw:{header:a[0],payload:a[1]}}}async function G_(r){return await new Promise(a=>{setTimeout(()=>a(null),r)})}function K_(r,a){return new Promise((s,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await r(c);if(!a(c,null,f)){s(f);return}}catch(f){if(!a(c,f)){o(f);return}}})()})}function Y_(r){return("0"+r.toString(16)).substr(-2)}function I_(){const a=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=i.length;let o="";for(let c=0;c<56;c++)o+=i.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(a),Array.from(a,Y_).join("")}async function J_(r){const i=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(s);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function X_(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const i=await J_(r);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fi(r,a,i=!1){const s=I_();let o=s;i&&(o+="/PASSWORD_RECOVERY"),await vi(r,`${a}-code-verifier`,o);const c=await X_(s);return[c,s===c?"plain":"s256"]}const Q_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function F_(r){const a=r.headers.get(Sd);if(!a||!a.match(Q_))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function Z_(r){if(!r)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(r<=a)throw new Error("JWT has expired")}function W_(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ew=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hi(r){if(!ew.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sd(){const r={};return new Proxy(r,{get:(a,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const s=i.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tw(r,a){return new Proxy(r,{get:(i,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const c=s.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,s,o)}return!a.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(i,s,o)}})}function iy(r){return JSON.parse(JSON.stringify(r))}const wn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),aw=[502,503,504];async function ly(r){var a;if(!V_(r))throw new Ed(wn(r),0);if(aw.includes(r.status))throw new Ed(wn(r),r.status);let i;try{i=await r.json()}catch(c){throw new Sn(wn(c),c)}let s;const o=F_(r);if(o&&o.getTime()>=lp["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?s=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(s=i.error_code),s){if(s==="weak_password")throw new ty(wn(i),r.status,((a=i.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(s==="session_not_found")throw new ra}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new ty(wn(i),r.status,i.weak_password.reasons);throw new O_(wn(i),r.status||500,s)}const rw=(r,a,i,s)=>{const o={method:r,headers:a?.headers||{}};return r==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),i))};async function xe(r,a,i,s){var o;const c=Object.assign({},s?.headers);c[Sd]||(c[Sd]=lp["2024-01-01"].name),s?.jwt&&(c.Authorization=`Bearer ${s.jwt}`);const f=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(f.redirect_to=s.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",y=await nw(r,a,i+m,{headers:c,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(y):{data:Object.assign({},y),error:null}}async function nw(r,a,i,s,o,c){const f=rw(a,s,o,c);let m;try{m=await r(i,Object.assign({},f))}catch(y){throw console.error(y),new Ed(wn(y),0)}if(m.ok||await ly(m),s?.noResolveJson)return m;try{return await m.json()}catch(y){await ly(y)}}function Ca(r){var a;let i=null;sw(r)&&(i=Object.assign({},r),r.expires_at||(i.expires_at=q_(r.expires_in)));const s=(a=r.user)!==null&&a!==void 0?a:r;return{data:{session:i,user:s},error:null}}function sy(r){const a=Ca(r);return!a.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0)&&(a.data.weak_password=r.weak_password),a}function $r(r){var a;return{data:{user:(a=r.user)!==null&&a!==void 0?a:r},error:null}}function iw(r){return{data:r,error:null}}function lw(r){const{action_link:a,email_otp:i,hashed_token:s,redirect_to:o,verification_type:c}=r,f=No(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:i,hashed_token:s,redirect_to:o,verification_type:c},y=Object.assign({},f);return{data:{properties:m,user:y},error:null}}function oy(r){return r}function sw(r){return r.access_token&&r.refresh_token&&r.expires_in}const od=["global","local","others"];class ow{constructor({url:a="",headers:i={},fetch:s}){this.url=a,this.headers=i,this.fetch=up(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,i=od[0]){if(od.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${od.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}}async inviteUserByEmail(a,i={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:$r})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}async generateLink(a){try{const{options:i}=a,s=No(a,["options"]),o=Object.assign(Object.assign({},s),i);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:lw,redirectTo:i?.redirectTo})}catch(i){if(me(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(a){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:$r})}catch(i){if(me(i))return{data:{user:null},error:i};throw i}}async listUsers(a){var i,s,o,c,f,m,y;try{const g={nextPage:null,lastPage:0,total:0},v=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=a?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(c=(o=a?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:oy});if(v.error)throw v.error;const _=await v.json(),w=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,x=(y=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&y!==void 0?y:[];return x.length>0&&(x.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(S.split(";")[1].split("=")[1]);g[`${R}Page`]=T}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(me(g))return{data:{users:[]},error:g};throw g}}async getUserById(a){hi(a);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:$r})}catch(i){if(me(i))return{data:{user:null},error:i};throw i}}async updateUserById(a,i){hi(a);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:i,headers:this.headers,xform:$r})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}async deleteUser(a,i=!1){hi(a);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:i},xform:$r})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}async _listFactors(a){hi(a.userId);try{const{data:i,error:s}=await xe(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:i,error:s}}catch(i){if(me(i))return{data:null,error:i};throw i}}async _deleteFactor(a){hi(a.userId),hi(a.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}}async _listOAuthClients(a){var i,s,o,c,f,m,y;try{const g={nextPage:null,lastPage:0,total:0},v=await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=a?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(c=(o=a?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:oy});if(v.error)throw v.error;const _=await v.json(),w=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,x=(y=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&y!==void 0?y:[];return x.length>0&&(x.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(S.split(";")[1].split("=")[1]);g[`${R}Page`]=T}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(me(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(a){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(me(i))return{data:null,error:i};throw i}}async _getOAuthClient(a){try{return await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(me(i))return{data:null,error:i};throw i}}async _updateOAuthClient(a,i){try{return await xe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:i,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(me(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(a){try{return await xe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(a){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(me(i))return{data:null,error:i};throw i}}}function uy(r={}){return{getItem:a=>r[a]||null,setItem:(a,i)=>{r[a]=i},removeItem:a=>{delete r[a]}}}const mi={debug:!!(globalThis&&op()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fp extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class uw extends fp{}async function cw(r,a,i){mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,a);const s=new globalThis.AbortController;return a>0&&setTimeout(()=>{s.abort(),mi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,o.name);try{return await i()}finally{mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,o.name)}}else{if(a===0)throw mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new uw(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(mi.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function dw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hp(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function fw(r){return parseInt(r,16)}function hw(r){const a=new TextEncoder().encode(r);return"0x"+Array.from(a,s=>s.toString(16).padStart(2,"0")).join("")}function mw(r){var a;const{chainId:i,domain:s,expirationTime:o,issuedAt:c=new Date,nonce:f,notBefore:m,requestId:y,resources:g,scheme:v,uri:_,version:w}=r;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((a=r.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const x=hp(r.address),S=v?`${v}://${s}`:s,T=r.statement?`${r.statement}
`:"",R=`${S} wants you to sign in with your Ethereum account:
${x}

${T}`;let O=`URI: ${_}
Version: ${w}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${c.toISOString()}`;if(o&&(O+=`
Expiration Time: ${o.toISOString()}`),m&&(O+=`
Not Before: ${m.toISOString()}`),y&&(O+=`
Request ID: ${y}`),g){let D=`
Resources:`;for(const B of g){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);D+=`
- ${B}`}O+=D}return`${R}
${O}`}class jt extends Error{constructor({message:a,code:i,cause:s,name:o}){var c;super(a,{cause:s}),this.__isWebAuthnError=!0,this.name=(c=o??(s instanceof Error?s.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=i}}class wo extends jt{constructor(a,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:a}),this.name="WebAuthnUnknownError",this.originalError=i}}function gw({error:r,options:a}){var i,s,o;const{publicKey:c}=a;if(!c)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(a.signal instanceof AbortSignal)return new jt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((i=c.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new jt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(a.mediation==="conditional"&&((s=c.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new jt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new jt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new jt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new jt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return c.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new jt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new jt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const f=window.location.hostname;if(mp(f)){if(c.rp.id!==f)return new jt({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new jt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new jt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function yw({error:r,options:a}){const{publicKey:i}=a;if(!i)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(a.signal instanceof AbortSignal)return new jt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new jt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const s=window.location.hostname;if(mp(s)){if(i.rpId!==s)return new jt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new jt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class pw{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const vw=new pw;function bw(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:a,user:i,excludeCredentials:s}=r,o=No(r,["challenge","user","excludeCredentials"]),c=Si(a).buffer,f=Object.assign(Object.assign({},i),{id:Si(i.id).buffer}),m=Object.assign(Object.assign({},o),{challenge:c,user:f});if(s&&s.length>0){m.excludeCredentials=new Array(s.length);for(let y=0;y<s.length;y++){const g=s[y];m.excludeCredentials[y]=Object.assign(Object.assign({},g),{id:Si(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return m}function _w(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:a,allowCredentials:i}=r,s=No(r,["challenge","allowCredentials"]),o=Si(a).buffer,c=Object.assign(Object.assign({},s),{challenge:o});if(i&&i.length>0){c.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const m=i[f];c.allowCredentials[f]=Object.assign(Object.assign({},m),{id:Si(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return c}function ww(r){var a;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r;return{id:r.id,rawId:r.id,response:{attestationObject:En(new Uint8Array(r.response.attestationObject)),clientDataJSON:En(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function xw(r){var a;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r,s=r.getClientExtensionResults(),o=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:En(new Uint8Array(o.authenticatorData)),clientDataJSON:En(new Uint8Array(o.clientDataJSON)),signature:En(new Uint8Array(o.signature)),userHandle:o.userHandle?En(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function mp(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function cy(){var r,a;return!!(Mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function Sw(r){try{const a=await navigator.credentials.create(r);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new wo("Browser returned unexpected credential type",a)}:{data:null,error:new wo("Empty credential response",a)}}catch(a){return{data:null,error:gw({error:a,options:r})}}}async function Ew(r){try{const a=await navigator.credentials.get(r);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new wo("Browser returned unexpected credential type",a)}:{data:null,error:new wo("Empty credential response",a)}}catch(a){return{data:null,error:yw({error:a,options:r})}}}const jw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Aw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function xo(...r){const a=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),i=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of r)if(o)for(const c in o){const f=o[c];if(f!==void 0)if(Array.isArray(f))s[c]=f;else if(i(f))s[c]=f;else if(a(f)){const m=s[c];a(m)?s[c]=xo(m,f):s[c]=xo(f)}else s[c]=f}return s}function Tw(r,a){return xo(jw,r,a||{})}function Nw(r,a){return xo(Aw,r,a||{})}class Rw{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:i,friendlyName:s,signal:o},c){try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:i});if(!f)return{data:null,error:m};const y=o??vw.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:g}=f.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${s}`),g.displayName||(g.displayName=g.name)}switch(f.webauthn.type){case"create":{const g=Tw(f.webauthn.credential_options.publicKey,c?.create),{data:v,error:_}=await Sw({publicKey:g,signal:y});return v?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}case"request":{const g=Nw(f.webauthn.credential_options.publicKey,c?.request),{data:v,error:_}=await Ew(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:g,signal:y}));return v?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}}}catch(f){return me(f)?{data:null,error:f}:{data:null,error:new Sn("Unexpected error in challenge",f)}}}async _verify({challengeId:a,factorId:i,webauthn:s}){return this.client.mfa.verify({factorId:i,challengeId:a,webauthn:s})}async _authenticate({factorId:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!i)return{data:null,error:new Ul("rpId is required for WebAuthn authentication")};try{if(!cy())return{data:null,error:new Sn("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:a,webauthn:{rpId:i,rpOrigins:s},signal:o},{request:c});if(!f)return{data:null,error:m};const{webauthn:y}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:y.type,rpId:i,rpOrigins:s,credential_response:y.credential_response}})}catch(f){return me(f)?{data:null,error:f}:{data:null,error:new Sn("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!i)return{data:null,error:new Ul("rpId is required for WebAuthn registration")};try{if(!cy())return{data:null,error:new Sn("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===a&&w.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:m};const{data:y,error:g}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:s},signal:o},{create:c});return y?this._verify({factorId:f.id,challengeId:y.challengeId,webauthn:{rpId:i,rpOrigins:s,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:g}}catch(f){return me(f)?{data:null,error:f}:{data:null,error:new Sn("Unexpected error in register",f)}}}}dw();const Ow={url:j_,storageKey:A_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:T_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function dy(r,a,i){return await i()}const gi={};class zl{get jwks(){var a,i;return(i=(a=gi[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(a){gi[this.storageKey]=Object.assign(Object.assign({},gi[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,i;return(i=(a=gi[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){gi[this.storageKey]=Object.assign(Object.assign({},gi[this.storageKey]),{cachedAt:a})}constructor(a){var i,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},Ow),a);if(this.storageKey=c.storageKey,this.instanceID=(i=zl.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,zl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Mt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new ow({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=up(c.fetch),this.lock=c.lock||dy,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&Mt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=cw:this.lock=dy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Rw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:op()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=uy(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=uy(this.memoryStorage)),Mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ip}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let i={},s="none";if(Mt()&&(i=P_(window.location.href),this._isImplicitGrantCallback(i)?s="implicit":await this._isPKCECallback(i)&&(s="pkce")),Mt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:c}=await this._getSessionFromURL(i,s);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),D_(c)){const y=(a=c.details)===null||a===void 0?void 0:a.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:f,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return me(i)?this._returnResult({error:i}):this._returnResult({error:new Sn("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var i,s,o;try{const c=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(i=a?.options)===null||i===void 0?void 0:i.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=a?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ca}),{data:f,error:m}=c;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const y=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:g,session:y},error:null})}catch(c){if(me(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(a){var i,s,o;try{let c;if("email"in a){const{email:v,password:_,options:w}=a;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await fi(this.storage,this.storageKey)),c=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:v,password:_,data:(i=w?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:x,code_challenge_method:S},xform:Ca})}else if("phone"in a){const{phone:v,password:_,options:w}=a;c=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(s=w?.data)!==null&&s!==void 0?s:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Ca})}else throw new fo("You must provide either an email or phone number and a password");const{data:f,error:m}=c;if(m||!f)return await zt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const y=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:g,session:y},error:null})}catch(c){if(await zt(this.storage,`${this.storageKey}-code-verifier`),me(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(a){try{let i;if("email"in a){const{email:c,password:f,options:m}=a;i=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:sy})}else if("phone"in a){const{phone:c,password:f,options:m}=a;i=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:sy})}else throw new fo("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const c=new di;return this._returnResult({data:{user:null,session:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(i){if(me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(a){var i,s,o,c;return await this._handleProviderSignIn(a.provider,{redirectTo:(i=a.options)===null||i===void 0?void 0:i.redirectTo,scopes:(s=a.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=a.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=a.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:i}=a;switch(i){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(a){var i,s,o,c,f,m,y,g,v,_,w;let x,S;if("message"in a)x=a.message,S=a.signature;else{const{chain:T,wallet:R,statement:O,options:D}=a;let B;if(Mt())if(typeof R=="object")B=R;else{const de=window;if("ethereum"in de&&typeof de.ethereum=="object"&&"request"in de.ethereum&&typeof de.ethereum.request=="function")B=de.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=R}const Q=new URL((i=D?.url)!==null&&i!==void 0?i:window.location.href),se=await B.request({method:"eth_requestAccounts"}).then(de=>de).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!se||se.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const re=hp(se[0]);let k=(s=D?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!k){const de=await B.request({method:"eth_chainId"});k=fw(de)}const te={domain:Q.host,address:re,statement:O,uri:Q.href,version:"1",chainId:k,nonce:(o=D?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(f=(c=D?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=D?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(y=D?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(g=D?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=D?.signInWithEthereum)===null||v===void 0?void 0:v.resources};x=mw(te),S=await B.request({method:"personal_sign",params:[hw(x),re]})}try{const{data:T,error:R}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:S},!((_=a.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=a.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ca});if(R)throw R;if(!T||!T.session||!T.user){const O=new di;return this._returnResult({data:{user:null,session:null},error:O})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:R})}catch(T){if(me(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(a){var i,s,o,c,f,m,y,g,v,_,w,x;let S,T;if("message"in a)S=a.message,T=a.signature;else{const{chain:R,wallet:O,statement:D,options:B}=a;let Q;if(Mt())if(typeof O=="object")Q=O;else{const re=window;if("solana"in re&&typeof re.solana=="object"&&("signIn"in re.solana&&typeof re.solana.signIn=="function"||"signMessage"in re.solana&&typeof re.solana.signMessage=="function"))Q=re.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=O}const se=new URL((i=B?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in Q&&Q.signIn){const re=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B?.signInWithSolana),{version:"1",domain:se.host,uri:se.href}),D?{statement:D}:null));let k;if(Array.isArray(re)&&re[0]&&typeof re[0]=="object")k=re[0];else if(re&&typeof re=="object"&&"signedMessage"in re&&"signature"in re)k=re;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)S=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),T=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${se.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${se.href}`,`Issued At: ${(o=(s=B?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=B?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((f=B?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((m=B?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((y=B?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((g=B?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((_=(v=B?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...B.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const re=await Q.signMessage(new TextEncoder().encode(S),"utf8");if(!re||!(re instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=re}}try{const{data:R,error:O}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:En(T)},!((w=a.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=a.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ca});if(O)throw O;if(!R||!R.session||!R.user){const D=new di;return this._returnResult({data:{user:null,session:null},error:D})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:O})}catch(R){if(me(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(a){const i=await _n(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(i??"").split("/");try{if(!s&&this.flowType==="pkce")throw new U_;const{data:c,error:f}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:s},xform:Ca});if(await zt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!c||!c.session||!c.user){const m=new di;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:f})}catch(c){if(await zt(this.storage,`${this.storageKey}-code-verifier`),me(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(a){try{const{options:i,provider:s,token:o,access_token:c,nonce:f}=a,m=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Ca}),{data:y,error:g}=m;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!y||!y.session||!y.user){const v=new di;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:g})}catch(i){if(me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(a){var i,s,o,c,f;try{if("email"in a){const{email:m,options:y}=a;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await fi(this.storage,this.storageKey));const{error:_}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(i=y?.data)!==null&&i!==void 0?i:{},create_user:(s=y?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in a){const{phone:m,options:y}=a,{data:g,error:v}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=y?.data)!==null&&o!==void 0?o:{},create_user:(c=y?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(f=y?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:v})}throw new fo("You must provide either an email or phone number.")}catch(m){if(await zt(this.storage,`${this.storageKey}-code-verifier`),me(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var i,s;try{let o,c;"options"in a&&(o=(i=a.options)===null||i===void 0?void 0:i.redirectTo,c=(s=a.options)===null||s===void 0?void 0:s.captchaToken);const{data:f,error:m}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Ca});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const y=f.session,g=f.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:g,session:y},error:null})}catch(o){if(me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(a){var i,s,o,c,f;try{let m=null,y=null;this.flowType==="pkce"&&([m,y]=await fi(this.storage,this.storageKey));const g=await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(s=(i=a.options)===null||i===void 0?void 0:i.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=a?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:y}),headers:this.headers,xform:iw});return!((c=g.data)===null||c===void 0)&&c.url&&Mt()&&!(!((f=a.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(m){if(await zt(this.storage,`${this.storageKey}-code-verifier`),me(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;if(s)throw s;if(!i)throw new ra;const{error:o}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(a){if(me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const i=`${this.url}/resend`;if("email"in a){const{email:s,type:o,options:c}=a,{error:f}=await xe(this.fetch,"POST",i,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in a){const{phone:s,type:o,options:c}=a,{data:f,error:m}=await xe(this.fetch,"POST",i,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new fo("You must provide either an email or phone number and a type")}catch(i){if(me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(a,i){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=i();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await a(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const i=await _n(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?a=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const s=a.expires_at?a.expires_at*1e3-Date.now()<nd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",a.expires_at),!s){if(this.userStorage){const f=await _n(this.userStorage,this.storageKey+"-user");f?.user?a.user=f.user:a.user=sd()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};a.user=tw(a.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:o,error:c}=await this._callRefreshToken(a.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(a){try{return a?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:$r}):await this._useSession(async i=>{var s,o,c;const{data:f,error:m}=i;if(m)throw m;return!(!((s=f.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ra}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:$r})})}catch(i){if(me(i))return k_(i)&&(await this._removeSession(),await zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(a,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,i))}async _updateUser(a,i={}){try{return await this._useSession(async s=>{const{data:o,error:c}=s;if(c)throw c;if(!o.session)throw new ra;const f=o.session;let m=null,y=null;this.flowType==="pkce"&&a.email!=null&&([m,y]=await fi(this.storage,this.storageKey));const{data:g,error:v}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:y}),jwt:f.access_token,xform:$r});if(v)throw v;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(s){if(await zt(this.storage,`${this.storageKey}-code-verifier`),me(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new ra;const i=Date.now()/1e3;let s=i,o=!0,c=null;const{payload:f}=ld(a.access_token);if(f.exp&&(s=f.exp,o=s<=i),o){const{data:m,error:y}=await this._callRefreshToken(a.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:y}=await this._getUser(a.access_token);if(y)throw y;c={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:s-i,expires_at:s},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(i){if(me(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async i=>{var s;if(!a){const{data:f,error:m}=i;if(m)throw m;a=(s=f.session)!==null&&s!==void 0?s:void 0}if(!a?.refresh_token)throw new ra;const{data:o,error:c}=await this._callRefreshToken(a.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(a,i){try{if(!Mt())throw new ho("No browser detected.");if(a.error||a.error_description||a.error_code)throw new ho(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new ey("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ho("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new ey("No code detected.");const{data:D,error:B}=await this._exchangeCodeForSession(a.code);if(B)throw B;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:c,refresh_token:f,expires_in:m,expires_at:y,token_type:g}=a;if(!c||!m||!f||!g)throw new ho("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(m);let w=v+_;y&&(w=parseInt(y));const x=w-v;x*1e3<=pi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${_}s`);const S=w-_;v-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,w,v):v-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,w,v);const{data:T,error:R}=await this._getUser(c);if(R)throw R;const O={provider_token:s,provider_refresh_token:o,access_token:c,expires_in:_,expires_at:w,refresh_token:f,token_type:g,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:O,redirectType:a.type},error:null})}catch(s){if(me(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const i=await _n(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&i)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async i=>{var s;const{data:o,error:c}=i;if(c)return this._returnResult({error:c});const f=(s=o.session)===null||s===void 0?void 0:s.access_token;if(f){const{error:m}=await this.admin.signOut(f,a);if(m&&!(C_(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const i=$_(),s={id:i,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:s}}}async _emitInitialSession(a){return await this._useSession(async i=>{var s,o;try{const{data:{session:c},error:f}=i;if(f)throw f;await((s=this.stateChangeEmitters.get(a))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",a,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(a))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",c),console.error(c)}})}async resetPasswordForEmail(a,i={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await fi(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(c){if(await zt(this.storage,`${this.storageKey}-code-verifier`),me(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var a;try{const{data:i,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(a=i.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var i;try{const{data:s,error:o}=await this._useSession(async c=>{var f,m,y,g,v;const{data:_,error:w}=c;if(w)throw w;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(y=a.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",x,{headers:this.headers,jwt:(v=(g=_.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return Mt()&&!(!((i=a.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:a.provider,url:s?.url},error:null})}catch(s){if(me(s))return this._returnResult({data:{provider:a.provider,url:null},error:s});throw s}}async linkIdentityIdToken(a){return await this._useSession(async i=>{var s;try{const{error:o,data:{session:c}}=i;if(o)throw o;const{options:f,provider:m,token:y,access_token:g,nonce:v}=a,_=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=c?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:m,id_token:y,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Ca}),{data:w,error:x}=_;return x?this._returnResult({data:{user:null,session:null},error:x}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new di}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:x}))}catch(o){if(await zt(this.storage,`${this.storageKey}-code-verifier`),me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(a){try{return await this._useSession(async i=>{var s,o;const{data:c,error:f}=i;if(f)throw f;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(o=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(a){const i=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(i,"begin");try{const s=Date.now();return await K_(async o=>(o>0&&await G_(200*Math.pow(2,o-1)),this._debug(i,"refreshing attempt",o),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Ca})),(o,c)=>{const f=200*Math.pow(2,o);return c&&id(c)&&Date.now()+f-s<pi})}catch(s){if(this._debug(i,"error",s),me(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(i,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,i){const s=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",i,"url",s),Mt()&&!i.skipBrowserRedirect&&window.location.assign(s),{data:{provider:a,url:s},error:null}}async _recoverAndRefresh(){var a,i;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await _n(this.storage,this.storageKey);if(o&&this.userStorage){let f=await _n(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:o.user},await vi(this.userStorage,this.storageKey+"-user",f)),o.user=(a=f?.user)!==null&&a!==void 0?a:sd()}else if(o&&!o.user&&!o.user){const f=await _n(this.storage,this.storageKey+"-user");f&&f?.user?(o.user=f.user,await zt(this.storage,this.storageKey+"-user"),await vi(this.storage,this.storageKey,o)):o.user=sd()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const c=((i=o.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<nd;if(this._debug(s,`session has${c?"":" not"} expired with margin of ${nd}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:f}=await this._callRefreshToken(o.refresh_token);f&&(console.error(f),id(f)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(o.access_token);!m&&f?.user?(o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(s,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(a){var i,s;if(!a)throw new ra;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new cp;const{data:c,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!c.session)throw new ra;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={data:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(o,"error",c),me(c)){const f={data:null,error:c};return id(c)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(a,i,s=!0){const o=`#_notifyAllSubscribers(${a})`;this._debug(o,"begin",i,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:a,session:i});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,i)}catch(y){c.push(y)}});if(await Promise.all(f),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await zt(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},a),s=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&i.user&&await vi(this.userStorage,this.storageKey+"-user",{user:i.user});const o=Object.assign({},i);delete o.user;const c=iy(o);await vi(this.storage,this.storageKey,c)}else{const o=iy(i);await vi(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await zt(this.storage,this.storageKey),await zt(this.storage,this.storageKey+"-code-verifier"),await zt(this.storage,this.storageKey+"-user"),this.userStorage&&await zt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&Mt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),pi);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async i=>{const{data:{session:s}}=i;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-a)/pi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${pi}ms, refresh threshold is ${xd} ticks`),o<=xd&&await this._callRefreshToken(s.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof fp)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const i=`#_onVisibilityChanged(${a})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,i,s){const o=[`provider=${encodeURIComponent(i)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[c,f]=await fi(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});o.push(m.toString())}if(s?.queryParams){const c=new URLSearchParams(s.queryParams);o.push(c.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${a}?${o.join("&")}`}async _unenroll(a){try{return await this._useSession(async i=>{var s;const{data:o,error:c}=i;return c?this._returnResult({data:null,error:c}):await xe(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(a){try{return await this._useSession(async i=>{var s,o;const{data:c,error:f}=i;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:y,error:g}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});return g?this._returnResult({data:null,error:g}):(a.factorType==="totp"&&y.type==="totp"&&(!((o=y?.totp)===null||o===void 0)&&o.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var s;const{data:o,error:c}=i;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?ww(a.webauthn.credential_response):xw(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:y}=await xe(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:y}))})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var s;const{data:o,error:c}=i;if(c)return this._returnResult({data:null,error:c});const f=await xe(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:bw(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:_w(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(a){const{data:i,error:s}=await this._challenge({factorId:a.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:a.factorId,challengeId:i.id,code:a.code})}async _listFactors(){var a;const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(a=i?.factors)!==null&&a!==void 0?a:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var a,i;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=ld(s.access_token);let f=null;c.aal&&(f=c.aal);let m=f;((i=(a=s.user.factors)===null||a===void 0?void 0:a.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const g=c.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;return o?this._returnResult({data:null,error:o}):s?await xe(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new ra})})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(a,i){try{return await this._useSession(async s=>{const{data:{session:o},error:c}=s;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new ra});const f=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&Mt()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(s){if(me(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(a,i){try{return await this._useSession(async s=>{const{data:{session:o},error:c}=s;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new ra});const f=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&Mt()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(s){if(me(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;return s?this._returnResult({data:null,error:s}):i?await xe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ra})})}catch(a){if(me(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;return o?this._returnResult({data:null,error:o}):s?(await xe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ra})})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(a,i={keys:[]}){let s=i.keys.find(m=>m.kid===a);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(m=>m.kid===a),s&&this.jwks_cached_at+R_>o)return s;const{data:c,error:f}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,s=c.keys.find(m=>m.kid===a),!s)?null:s}async getClaims(a,i={}){try{let s=a;if(!s){const{data:x,error:S}=await this.getSession();if(S||!x.session)return this._returnResult({data:null,error:S});s=x.session.access_token}const{header:o,payload:c,signature:f,raw:{header:m,payload:y}}=ld(s);i?.allowExpired||Z_(c.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!g){const{error:x}=await this.getUser(s);if(x)throw x;return{data:{claims:c,header:o,signature:f},error:null}}const v=W_(o.alg),_=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,f,H_(`${m}.${y}`)))throw new jd("Invalid JWT signature");return{data:{claims:c,header:o,signature:f},error:null}}catch(s){if(me(s))return this._returnResult({data:null,error:s});throw s}}}zl.nextInstanceID={};const Cw=zl,kw="2.90.1";let jl="";typeof Deno<"u"?jl="deno":typeof document<"u"?jl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jl="react-native":jl="node";const Dw={"X-Client-Info":`supabase-js-${jl}/${kw}`},Uw={headers:Dw},zw={schema:"public"},Mw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bw={};function Ml(r){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ml(r)}function Lw(r,a){if(Ml(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,a);if(Ml(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function Hw(r){var a=Lw(r,"string");return Ml(a)=="symbol"?a:a+""}function qw(r,a,i){return(a=Hw(a))in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i,r}function fy(r,a){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);a&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),i.push.apply(i,s)}return i}function mt(r){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?fy(Object(i),!0).forEach(function(s){qw(r,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):fy(Object(i)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(i,s))})}return r}const $w=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),Pw=()=>Headers,Vw=(r,a,i)=>{const s=$w(i),o=Pw();return async(c,f)=>{var m;const y=(m=await a())!==null&&m!==void 0?m:r;let g=new o(f?.headers);return g.has("apikey")||g.set("apikey",r),g.has("Authorization")||g.set("Authorization",`Bearer ${y}`),s(c,mt(mt({},f),{},{headers:g}))}};function Gw(r){return r.endsWith("/")?r:r+"/"}function Kw(r,a){var i,s;const{db:o,auth:c,realtime:f,global:m}=r,{db:y,auth:g,realtime:v,global:_}=a,w={db:mt(mt({},y),o),auth:mt(mt({},g),c),realtime:mt(mt({},v),f),storage:{},global:mt(mt(mt({},_),m),{},{headers:mt(mt({},(i=_?.headers)!==null&&i!==void 0?i:{}),(s=m?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return r.accessToken?w.accessToken=r.accessToken:delete w.accessToken,w}function Yw(r){const a=r?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Gw(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Iw=class extends Cw{constructor(r){super(r)}},Jw=class{constructor(r,a,i){var s,o;this.supabaseUrl=r,this.supabaseKey=a;const c=Yw(r);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const f=`sb-${c.hostname.split(".")[0]}-auth-token`,m={db:zw,realtime:Bw,auth:mt(mt({},Mw),{},{storageKey:f}),global:Uw},y=Kw(i??{},m);if(this.storageKey=(s=y.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=y.global.headers)!==null&&o!==void 0?o:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=y.auth)!==null&&g!==void 0?g:{},this.headers,y.global.fetch)}this.fetch=Vw(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(mt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new Tb(new URL("rest/v1",c).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new E_(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new xb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,a={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,a,i)}channel(r,a={config:{}}){return this.realtime.channel(r,a)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,a,i;if(r.accessToken)return await r.accessToken();const{data:s}=await r.auth.getSession();return(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:s,userStorage:o,storageKey:c,flowType:f,lock:m,debug:y,throwOnError:g},v,_){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Iw({url:this.authUrl.href,headers:mt(mt({},w),v),storageKey:c,autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:s,userStorage:o,flowType:f,lock:m,debug:y,throwOnError:g,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new Gb(this.realtimeUrl.href,mt(mt({},r),{},{params:mt(mt({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a?.access_token)})}_handleTokenChanged(r,a,i){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Xw=(r,a,i)=>new Jw(r,a,i);function Qw(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const a=r.version;if(a==null)return!1;const i=a.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}Qw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Fw="https://dacbjmygkdlogyinikfh.supabase.co",Zw="sb_publishable_kHP8ZCFxCArMkHpc1sGiLg_gPO1kcdC",ne=Xw(Fw,Zw),Ww=async r=>{const{data:a,error:i}=await ne.auth.signInWithPassword({email:r.email,password:r.password});if(i)throw i;return{user:a.user,session:a.session}},ex=async()=>{const{error:r}=await ne.auth.signOut();if(r)throw r;return window.location.href="/",{message:"Logged out successfully"}},tx=async r=>{const{data:a,error:i}=await ne.auth.signUp({email:r.email,password:r.password});if(i)throw i;if(!a.user)throw new Error("Failed to create user");const{error:s}=await ne.from("admins").insert({id:a.user.id,name:r.name,email:r.email});return s&&console.error("Failed to create admin profile, user may need manual cleanup"),{user:a.user,session:a.session}},ax=async()=>{const{data:{user:r}}=await ne.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:a,error:i}=await ne.from("admins").select("*").eq("id",r.id).single();if(i)throw i;return a},gp=A.createContext(void 0),rx=36e5,nx=({children:r})=>{const[a,i]=A.useState(null),[s,o]=A.useState(null),[c,f]=A.useState(!0),[m,y]=A.useState(null),[g,v]=A.useState(!0),_=A.useRef(null),w=A.useCallback(async()=>{if(!a){o(null),f(!1);return}f(!0),y(null);try{const O=await ax(),D=vb(O);o(D)}catch(O){const D=O instanceof Error?O.message:"Failed to fetch admin profile";y(D),console.error("Admin fetch error:",O),o(null)}finally{f(!1)}},[a]),x=A.useCallback(async O=>{if(!s)throw new Error("Only admin can create new Admin");y(null);try{await tx(O)}catch(D){const B=D instanceof Error?D.message:"Failed to create admin";throw y(B),console.error("Create admin error:",D),D}},[s]),S=A.useCallback(async()=>{try{_.current&&window.clearTimeout(_.current),await ex(),o(null),i(null)}catch(O){throw console.error("Sign out error:",O),O}},[]),T=A.useCallback(()=>{_.current&&window.clearTimeout(_.current),a&&(_.current=window.setTimeout(async()=>{console.log("Session expired due to inactivity"),await S(),alert("Your session has expired due to 1 hour of inactivity. Please log in again.")},rx))},[a,S]);A.useEffect(()=>{ne.auth.getSession().then(({data:{session:D}})=>{i(D?.user??null),v(!1)});const{data:{subscription:O}}=ne.auth.onAuthStateChange((D,B)=>{i(B?.user??null),v(!1)});return()=>O.unsubscribe()},[]),A.useEffect(()=>{g||(a?w():(o(null),f(!1)))},[a,g,w]),A.useEffect(()=>{if(!a){_.current&&window.clearTimeout(_.current);return}T();const O=["mousedown","keydown","scroll","touchstart","click"];return O.forEach(D=>{document.addEventListener(D,T)}),()=>{_.current&&window.clearTimeout(_.current),O.forEach(D=>{document.removeEventListener(D,T)})}},[a,T]);const R={admin:s,authUser:a,loading:g||c,error:m,isAdmin:!!s,refetchAdmin:w,createNewAdmin:x,signOut:S};return h.jsx(gp.Provider,{value:R,children:r})},Oo=()=>{const r=A.useContext(gp);if(r===void 0)throw new Error("useAdmin must be used within an AdminProvider");return r};var yp=r=>{throw TypeError(r)},ix=(r,a,i)=>a.has(r)||yp("Cannot "+i),ud=(r,a,i)=>(ix(r,a,"read from private field"),i?i.call(r):a.get(r)),lx=(r,a,i)=>a.has(r)?yp("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(r):a.set(r,i),hy="popstate";function sx(r={}){function a(o,c){let{pathname:f="/",search:m="",hash:y=""}=hr(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Bl("",{pathname:f,search:m,hash:y},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let y=o.location.href,g=y.indexOf("#");m=g===-1?y:y.slice(0,g)}return m+"#"+(typeof c=="string"?c:$a(c))}function s(o,c){ut(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return ux(a,i,s,r)}function Oe(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function ut(r,a){if(!r){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function ox(){return Math.random().toString(36).substring(2,10)}function my(r,a){return{usr:r.state,key:r.key,idx:a}}function Bl(r,a,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof a=="string"?hr(a):a,state:i,key:a&&a.key||s||ox()}}function $a({pathname:r="/",search:a="",hash:i=""}){return a&&a!=="?"&&(r+=a.charAt(0)==="?"?a:"?"+a),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function hr(r){let a={};if(r){let i=r.indexOf("#");i>=0&&(a.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(a.search=r.substring(s),r=r.substring(0,s)),r&&(a.pathname=r)}return a}function ux(r,a,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,f=o.history,m="POP",y=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function _(){m="POP";let R=v(),O=R==null?null:R-g;g=R,y&&y({action:m,location:T.location,delta:O})}function w(R,O){m="PUSH";let D=Bl(T.location,R,O);i&&i(D,R),g=v()+1;let B=my(D,g),Q=T.createHref(D);try{f.pushState(B,"",Q)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(Q)}c&&y&&y({action:m,location:T.location,delta:1})}function x(R,O){m="REPLACE";let D=Bl(T.location,R,O);i&&i(D,R),g=v();let B=my(D,g),Q=T.createHref(D);f.replaceState(B,"",Q),c&&y&&y({action:m,location:T.location,delta:0})}function S(R){return pp(R)}let T={get action(){return m},get location(){return r(o,f)},listen(R){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(hy,_),y=R,()=>{o.removeEventListener(hy,_),y=null}},createHref(R){return a(o,R)},createURL:S,encodeLocation(R){let O=S(R);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:w,replace:x,go(R){return f.go(R)}};return T}function pp(r,a=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Oe(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:$a(r);return s=s.replace(/ $/,"%20"),!a&&s.startsWith("//")&&(s=i+s),new URL(s,i)}var Al,gy=class{constructor(r){if(lx(this,Al,new Map),r)for(let[a,i]of r)this.set(a,i)}get(r){if(ud(this,Al).has(r))return ud(this,Al).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,a){ud(this,Al).set(r,a)}};Al=new WeakMap;var cx=new Set(["lazy","caseSensitive","path","id","index","children"]);function dx(r){return cx.has(r)}var fx=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function hx(r){return fx.has(r)}function mx(r){return r.index===!0}function Ll(r,a,i=[],s={},o=!1){return r.map((c,f)=>{let m=[...i,String(f)],y=typeof c.id=="string"?c.id:m.join("-");if(Oe(c.index!==!0||!c.children,"Cannot specify children on an index route"),Oe(o||!s[y],`Found a route id collision on id "${y}".  Route id's must be globally unique within Data Router usages`),mx(c)){let g={...c,id:y};return s[y]=yy(g,a(g)),g}else{let g={...c,id:y,children:void 0};return s[y]=yy(g,a(g)),c.children&&(g.children=Ll(c.children,a,m,s,o)),g}})}function yy(r,a){return Object.assign(r,{...a,...typeof a.lazy=="object"&&a.lazy!=null?{lazy:{...r.lazy,...a.lazy}}:{}})}function Pr(r,a,i="/"){return Tl(r,a,i,!1)}function Tl(r,a,i,s){let o=typeof a=="string"?hr(a):a,c=_a(o.pathname||"/",i);if(c==null)return null;let f=vp(r);yx(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let g=Tx(c);m=jx(f[y],g,s)}return m}function gx(r,a){let{route:i,pathname:s,params:o}=r;return{id:i.id,pathname:s,params:o,data:a[i.id],loaderData:a[i.id],handle:i.handle}}function vp(r,a=[],i=[],s="",o=!1){let c=(f,m,y=o,g)=>{let v={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&y)return;Oe(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let _=qa([s,v.relativePath]),w=i.concat(v);f.children&&f.children.length>0&&(Oe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),vp(f.children,a,w,_,y)),!(f.path==null&&!f.index)&&a.push({path:_,score:Sx(_,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))c(f,m);else for(let y of bp(f.path))c(f,m,!0,y)}),a}function bp(r){let a=r.split("/");if(a.length===0)return[];let[i,...s]=a,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let f=bp(s.join("/")),m=[];return m.push(...f.map(y=>y===""?c:[c,y].join("/"))),o&&m.push(...f),m.map(y=>r.startsWith("/")&&y===""?"/":y)}function yx(r){r.sort((a,i)=>a.score!==i.score?i.score-a.score:Ex(a.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var px=/^:[\w-]+$/,vx=3,bx=2,_x=1,wx=10,xx=-2,py=r=>r==="*";function Sx(r,a){let i=r.split("/"),s=i.length;return i.some(py)&&(s+=xx),a&&(s+=bx),i.filter(o=>!py(o)).reduce((o,c)=>o+(px.test(c)?vx:c===""?_x:wx),s)}function Ex(r,a){return r.length===a.length&&r.slice(0,-1).every((s,o)=>s===a[o])?r[r.length-1]-a[a.length-1]:0}function jx(r,a,i=!1){let{routesMeta:s}=r,o={},c="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],g=m===s.length-1,v=c==="/"?a:a.slice(c.length)||"/",_=So({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},v),w=y.route;if(!_&&g&&i&&!s[s.length-1].route.index&&(_=So({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!_)return null;Object.assign(o,_.params),f.push({params:o,pathname:qa([c,_.pathname]),pathnameBase:Ox(qa([c,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(c=qa([c,_.pathnameBase]))}return f}function So(r,a){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=Ax(r.path,r.caseSensitive,r.end),o=a.match(i);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:_},w)=>{if(v==="*"){let S=m[w]||"";f=c.slice(0,c.length-S.length).replace(/(.)\/+$/,"$1")}const x=m[w];return _&&!x?g[v]=void 0:g[v]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:f,pattern:r}}function Ax(r,a=!1,i=!0){ut(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,a?void 0:"i"),s]}function Tx(r){try{return r.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return ut(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),r}}function _a(r,a){if(a==="/")return r;if(!r.toLowerCase().startsWith(a.toLowerCase()))return null;let i=a.endsWith("/")?a.length-1:a.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function Nx({basename:r,pathname:a}){return a==="/"?r:qa([r,a])}var _p=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Co=r=>_p.test(r);function Rx(r,a="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?hr(r):r,c;if(i)if(Co(i))c=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),ut(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${i}`)}i.startsWith("/")?c=vy(i.substring(1),"/"):c=vy(i,a)}else c=a;return{pathname:c,search:Cx(s),hash:kx(o)}}function vy(r,a){let i=a.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function cd(r,a,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${a}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wp(r){return r.filter((a,i)=>i===0||a.route.path&&a.route.path.length>0)}function ko(r){let a=wp(r);return a.map((i,s)=>s===a.length-1?i.pathname:i.pathnameBase)}function Do(r,a,i,s=!1){let o;typeof r=="string"?o=hr(r):(o={...r},Oe(!o.pathname||!o.pathname.includes("?"),cd("?","pathname","search",o)),Oe(!o.pathname||!o.pathname.includes("#"),cd("#","pathname","hash",o)),Oe(!o.search||!o.search.includes("#"),cd("#","search","hash",o)));let c=r===""||o.pathname==="",f=c?"/":o.pathname,m;if(f==null)m=i;else{let _=a.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),_-=1;o.pathname=w.join("/")}m=_>=0?a[_]:"/"}let y=Rx(o,m),g=f&&f!=="/"&&f.endsWith("/"),v=(c||f===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(g||v)&&(y.pathname+="/"),y}var qa=r=>r.join("/").replace(/\/\/+/g,"/"),Ox=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Cx=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,kx=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Pl=class{constructor(r,a,i,s=!1){this.status=r,this.statusText=a||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function Hl(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Vl(r){return r.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var xp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Sp(r,a){let i=r;if(typeof i!="string"||!_p.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let s=i,o=!1;if(xp)try{let c=new URL(window.location.href),f=i.startsWith("//")?new URL(c.protocol+i):new URL(i),m=_a(f.pathname,a);f.origin===c.origin&&m!=null?i=m+f.search+f.hash:o=!0}catch{ut(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:i}}var Gr=Symbol("Uninstrumented");function Dx(r,a){let i={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};r.forEach(o=>o({id:a.id,index:a.index,path:a.path,instrument(c){let f=Object.keys(i);for(let m of f)c[m]&&i[m].push(c[m])}}));let s={};if(typeof a.lazy=="function"&&i.lazy.length>0){let o=wi(i.lazy,a.lazy,()=>{});o&&(s.lazy=o)}if(typeof a.lazy=="object"){let o=a.lazy;["middleware","loader","action"].forEach(c=>{let f=o[c],m=i[`lazy.${c}`];if(typeof f=="function"&&m.length>0){let y=wi(m,f,()=>{});y&&(s.lazy=Object.assign(s.lazy||{},{[c]:y}))}})}return["loader","action"].forEach(o=>{let c=a[o];if(typeof c=="function"&&i[o].length>0){let f=c[Gr]??c,m=wi(i[o],f,(...y)=>by(y[0]));m&&(o==="loader"&&f.hydrate===!0&&(m.hydrate=!0),m[Gr]=f,s[o]=m)}}),a.middleware&&a.middleware.length>0&&i.middleware.length>0&&(s.middleware=a.middleware.map(o=>{let c=o[Gr]??o,f=wi(i.middleware,c,(...m)=>by(m[0]));return f?(f[Gr]=c,f):o})),s}function Ux(r,a){let i={navigate:[],fetch:[]};if(a.forEach(s=>s({instrument(o){let c=Object.keys(o);for(let f of c)o[f]&&i[f].push(o[f])}})),i.navigate.length>0){let s=r.navigate[Gr]??r.navigate,o=wi(i.navigate,s,(...c)=>{let[f,m]=c;return{to:typeof f=="number"||typeof f=="string"?f:f?$a(f):".",..._y(r,m??{})}});o&&(o[Gr]=s,r.navigate=o)}if(i.fetch.length>0){let s=r.fetch[Gr]??r.fetch,o=wi(i.fetch,s,(...c)=>{let[f,,m,y]=c;return{href:m??".",fetcherKey:f,..._y(r,y??{})}});o&&(o[Gr]=s,r.fetch=o)}return r}function wi(r,a,i){return r.length===0?null:async(...s)=>{let o=await Ep(r,i(...s),()=>a(...s),r.length-1);if(o.type==="error")throw o.value;return o.value}}async function Ep(r,a,i,s){let o=r[s],c;if(o){let f,m=async()=>(f?console.error("You cannot call instrumented handlers more than once"):f=Ep(r,a,i,s-1),c=await f,Oe(c,"Expected a result"),c.type==="error"&&c.value instanceof Error?{status:"error",error:c.value}:{status:"success",error:void 0});try{await o(m,a)}catch(y){console.error("An instrumentation function threw an error:",y)}f||await m(),await f}else try{c={type:"success",value:await i()}}catch(f){c={type:"error",value:f}}return c||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function by(r){let{request:a,context:i,params:s,unstable_pattern:o}=r;return{request:zx(a),params:{...s},unstable_pattern:o,context:Mx(i)}}function _y(r,a){return{currentUrl:$a(r.state.location),..."formMethod"in a?{formMethod:a.formMethod}:{},..."formEncType"in a?{formEncType:a.formEncType}:{},..."formData"in a?{formData:a.formData}:{},..."body"in a?{body:a.body}:{}}}function zx(r){return{method:r.method,url:r.url,headers:{get:(...a)=>r.headers.get(...a)}}}function Mx(r){if(Lx(r)){let a={...r};return Object.freeze(a),a}else return{get:a=>r.get(a)}}var Bx=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lx(r){if(r===null||typeof r!="object")return!1;const a=Object.getPrototypeOf(r);return a===Object.prototype||a===null||Object.getOwnPropertyNames(a).sort().join("\0")===Bx}var jp=["POST","PUT","PATCH","DELETE"],Hx=new Set(jp),qx=["GET",...jp],$x=new Set(qx),Ap=new Set([301,302,303,307,308]),Px=new Set([307,308]),dd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Gx=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),Tp="remix-router-transitions",Np=Symbol("ResetLoaderData");function Kx(r){const a=r.window?r.window:typeof window<"u"?window:void 0,i=typeof a<"u"&&typeof a.document<"u"&&typeof a.document.createElement<"u";Oe(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=r.hydrationRouteProperties||[],o=r.mapRouteProperties||Gx,c=o;if(r.unstable_instrumentations){let E=r.unstable_instrumentations;c=z=>({...o(z),...Dx(E.map(P=>P.route).filter(Boolean),z)})}let f={},m=Ll(r.routes,c,void 0,f),y,g=r.basename||"/";g.startsWith("/")||(g=`/${g}`);let v=r.dataStrategy||Qx,_={...r.future},w=null,x=new Set,S=null,T=null,R=null,O=r.hydrationData!=null,D=Pr(m,r.history.location,g),B=!1,Q=null,se;if(D==null&&!r.patchRoutesOnNavigation){let E=va(404,{pathname:r.history.location.pathname}),{matches:z,route:P}=mo(m);se=!0,D=z,Q={[P.id]:E}}else if(D&&!r.hydrationData&&Zr(D,m,r.history.location.pathname).active&&(D=null),D)if(D.some(E=>E.route.lazy))se=!1;else if(!D.some(E=>Hd(E.route)))se=!0;else{let E=r.hydrationData?r.hydrationData.loaderData:null,z=r.hydrationData?r.hydrationData.errors:null;if(z){let P=D.findIndex(J=>z[J.route.id]!==void 0);se=D.slice(0,P+1).every(J=>!Td(J.route,E,z))}else se=D.every(P=>!Td(P.route,E,z))}else{se=!1,D=[];let E=Zr(null,m,r.history.location.pathname);E.active&&E.matches&&(B=!0,D=E.matches)}let re,k={historyAction:r.history.action,location:r.history.location,matches:D,initialized:se,navigation:dd,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||Q,fetchers:new Map,blockers:new Map},te="POP",de=null,Ce=!1,Re,ke=!1,X=new Map,be=null,pe=!1,q=!1,F=new Set,ee=new Map,ve=0,Ee=-1,N=new Map,G=new Set,M=new Map,W=new Map,fe=new Set,je=new Map,Be,gt=null;function it(){if(w=r.history.listen(({action:E,location:z,delta:P})=>{if(Be){Be(),Be=void 0;return}ut(je.size===0||P!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let J=Xr({currentLocation:k.location,nextLocation:z,historyAction:E});if(J&&P!=null){let Z=new Promise(he=>{Be=he});r.history.go(P*-1),Ga(J,{state:"blocked",location:z,proceed(){Ga(J,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),Z.then(()=>r.history.go(P))},reset(){let he=new Map(k.blockers);he.set(J,xl),_t({blockers:he})}}),de?.resolve(),de=null;return}return xa(E,z)}),i){mS(a,X);let E=()=>gS(a,X);a.addEventListener("pagehide",E),be=()=>a.removeEventListener("pagehide",E)}return k.initialized||xa("POP",k.location,{initialHydration:!0}),re}function Yr(){w&&w(),be&&be(),x.clear(),Re&&Re.abort(),k.fetchers.forEach((E,z)=>Ci(z)),k.blockers.forEach((E,z)=>Xl(z))}function Nn(E){return x.add(E),()=>x.delete(E)}function _t(E,z={}){E.matches&&(E.matches=E.matches.map(Z=>{let he=f[Z.route.id],ie=Z.route;return ie.element!==he.element||ie.errorElement!==he.errorElement||ie.hydrateFallbackElement!==he.hydrateFallbackElement?{...Z,route:he}:Z})),k={...k,...E};let P=[],J=[];k.fetchers.forEach((Z,he)=>{Z.state==="idle"&&(fe.has(he)?P.push(he):J.push(he))}),fe.forEach(Z=>{!k.fetchers.has(Z)&&!ee.has(Z)&&P.push(Z)}),[...x].forEach(Z=>Z(k,{deletedFetchers:P,newErrors:E.errors??null,viewTransitionOpts:z.viewTransitionOpts,flushSync:z.flushSync===!0})),P.forEach(Z=>Ci(Z)),J.forEach(Z=>k.fetchers.delete(Z))}function Va(E,z,{flushSync:P}={}){let J=k.actionData!=null&&k.navigation.formMethod!=null&&Ht(k.navigation.formMethod)&&k.navigation.state==="loading"&&E.state?._isRedirect!==!0,Z;z.actionData?Object.keys(z.actionData).length>0?Z=z.actionData:Z=null:J?Z=k.actionData:Z=null;let he=z.loaderData?Oy(k.loaderData,z.loaderData,z.matches||[],z.errors):k.loaderData,ie=k.blockers;ie.size>0&&(ie=new Map(ie),ie.forEach((_e,ge)=>ie.set(ge,xl)));let ae=pe?!1:Ql(E,z.matches||k.matches),le=Ce===!0||k.navigation.formMethod!=null&&Ht(k.navigation.formMethod)&&E.state?._isRedirect!==!0;y&&(m=y,y=void 0),pe||te==="POP"||(te==="PUSH"?r.history.push(E,E.state):te==="REPLACE"&&r.history.replace(E,E.state));let ce;if(te==="POP"){let _e=X.get(k.location.pathname);_e&&_e.has(E.pathname)?ce={currentLocation:k.location,nextLocation:E}:X.has(E.pathname)&&(ce={currentLocation:E,nextLocation:k.location})}else if(ke){let _e=X.get(k.location.pathname);_e?_e.add(E.pathname):(_e=new Set([E.pathname]),X.set(k.location.pathname,_e)),ce={currentLocation:k.location,nextLocation:E}}_t({...z,actionData:Z,loaderData:he,historyAction:te,location:E,initialized:!0,navigation:dd,revalidation:"idle",restoreScrollPosition:ae,preventScrollReset:le,blockers:ie},{viewTransitionOpts:ce,flushSync:P===!0}),te="POP",Ce=!1,ke=!1,pe=!1,q=!1,de?.resolve(),de=null,gt?.resolve(),gt=null}async function Ua(E,z){if(de?.resolve(),de=null,typeof E=="number"){de||(de=Uy());let Le=de.promise;return r.history.go(E),Le}let P=Ad(k.location,k.matches,g,E,z?.fromRouteId,z?.relative),{path:J,submission:Z,error:he}=wy(!1,P,z),ie=k.location,ae=Bl(k.location,J,z&&z.state);ae={...ae,...r.history.encodeLocation(ae)};let le=z&&z.replace!=null?z.replace:void 0,ce="PUSH";le===!0?ce="REPLACE":le===!1||Z!=null&&Ht(Z.formMethod)&&Z.formAction===k.location.pathname+k.location.search&&(ce="REPLACE");let _e=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,ge=(z&&z.flushSync)===!0,Ve=Xr({currentLocation:ie,nextLocation:ae,historyAction:ce});if(Ve){Ga(Ve,{state:"blocked",location:ae,proceed(){Ga(Ve,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),Ua(E,z)},reset(){let Le=new Map(k.blockers);Le.set(Ve,xl),_t({blockers:Le})}});return}await xa(ce,ae,{submission:Z,pendingError:he,preventScrollReset:_e,replace:z&&z.replace,enableViewTransition:z&&z.viewTransition,flushSync:ge,callSiteDefaultShouldRevalidate:z&&z.unstable_defaultShouldRevalidate})}function Ai(){gt||(gt=Uy()),On(),_t({revalidation:"loading"});let E=gt.promise;return k.navigation.state==="submitting"?E:k.navigation.state==="idle"?(xa(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),E):(xa(te||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:ke===!0}),E)}async function xa(E,z,P){Re&&Re.abort(),Re=null,te=E,pe=(P&&P.startUninterruptedRevalidation)===!0,Fr(k.location,k.matches),Ce=(P&&P.preventScrollReset)===!0,ke=(P&&P.enableViewTransition)===!0;let J=y||m,Z=P&&P.overrideNavigation,he=P?.initialHydration&&k.matches&&k.matches.length>0&&!B?k.matches:Pr(J,z,g),ie=(P&&P.flushSync)===!0;if(he&&k.initialized&&!q&&nS(k.location,z)&&!(P&&P.submission&&Ht(P.submission.formMethod))){Va(z,{matches:he},{flushSync:ie});return}let ae=Zr(he,J,z.pathname);if(ae.active&&ae.matches&&(he=ae.matches),!he){let{error:ct,notFoundMatches:dt,route:He}=mr(z.pathname);Va(z,{matches:dt,loaderData:{},errors:{[He.id]:ct}},{flushSync:ie});return}Re=new AbortController;let le=bi(r.history,z,Re.signal,P&&P.submission),ce=r.getContext?await r.getContext():new gy,_e;if(P&&P.pendingError)_e=[Vr(he).route.id,{type:"error",error:P.pendingError}];else if(P&&P.submission&&Ht(P.submission.formMethod)){let ct=await Mo(le,z,P.submission,he,ce,ae.active,P&&P.initialHydration===!0,{replace:P.replace,flushSync:ie});if(ct.shortCircuited)return;if(ct.pendingActionResult){let[dt,He]=ct.pendingActionResult;if(na(He)&&Hl(He.error)&&He.error.status===404){Re=null,Va(z,{matches:ct.matches,loaderData:{},errors:{[dt]:He.error}});return}}he=ct.matches||he,_e=ct.pendingActionResult,Z=fd(z,P.submission),ie=!1,ae.active=!1,le=bi(r.history,le.url,le.signal)}let{shortCircuited:ge,matches:Ve,loaderData:Le,errors:st}=await Il(le,z,he,ce,ae.active,Z,P&&P.submission,P&&P.fetcherSubmission,P&&P.replace,P&&P.initialHydration===!0,ie,_e,P&&P.callSiteDefaultShouldRevalidate);ge||(Re=null,Va(z,{matches:Ve||he,...Cy(_e),loaderData:Le,errors:st}))}async function Mo(E,z,P,J,Z,he,ie,ae={}){On();let le=fS(z,P);if(_t({navigation:le},{flushSync:ae.flushSync===!0}),he){let ge=await gr(J,z.pathname,E.signal);if(ge.type==="aborted")return{shortCircuited:!0};if(ge.type==="error"){if(ge.partialMatches.length===0){let{matches:Le,route:st}=mo(m);return{matches:Le,pendingActionResult:[st.id,{type:"error",error:ge.error}]}}let Ve=Vr(ge.partialMatches).route.id;return{matches:ge.partialMatches,pendingActionResult:[Ve,{type:"error",error:ge.error}]}}else if(ge.matches)J=ge.matches;else{let{notFoundMatches:Ve,error:Le,route:st}=mr(z.pathname);return{matches:Ve,pendingActionResult:[st.id,{type:"error",error:Le}]}}}let ce,_e=po(J,z);if(!_e.route.action&&!_e.route.lazy)ce={type:"error",error:va(405,{method:E.method,pathname:z.pathname,routeId:_e.route.id})};else{let ge=Ei(c,f,E,J,_e,ie?[]:s,Z),Ve=await Ir(E,ge,Z,null);if(ce=Ve[_e.route.id],!ce){for(let Le of J)if(Ve[Le.route.id]){ce=Ve[Le.route.id];break}}if(E.signal.aborted)return{shortCircuited:!0}}if(jn(ce)){let ge;return ae&&ae.replace!=null?ge=ae.replace:ge=Ty(ce.response.headers.get("Location"),new URL(E.url),g,r.history)===k.location.pathname+k.location.search,await yt(E,ce,!0,{submission:P,replace:ge}),{shortCircuited:!0}}if(na(ce)){let ge=Vr(J,_e.route.id);return(ae&&ae.replace)!==!0&&(te="PUSH"),{matches:J,pendingActionResult:[ge.route.id,ce,_e.route.id]}}return{matches:J,pendingActionResult:[_e.route.id,ce]}}async function Il(E,z,P,J,Z,he,ie,ae,le,ce,_e,ge,Ve){let Le=he||fd(z,ie),st=ie||ae||Dy(Le),ct=!pe&&!ce;if(Z){if(ct){let pt=Rn(ge);_t({navigation:Le,...pt!==void 0?{actionData:pt}:{}},{flushSync:_e})}let qe=await gr(P,z.pathname,E.signal);if(qe.type==="aborted")return{shortCircuited:!0};if(qe.type==="error"){if(qe.partialMatches.length===0){let{matches:Ta,route:Ot}=mo(m);return{matches:Ta,loaderData:{},errors:{[Ot.id]:qe.error}}}let pt=Vr(qe.partialMatches).route.id;return{matches:qe.partialMatches,loaderData:{},errors:{[pt]:qe.error}}}else if(qe.matches)P=qe.matches;else{let{error:pt,notFoundMatches:Ta,route:Ot}=mr(z.pathname);return{matches:Ta,loaderData:{},errors:{[Ot.id]:pt}}}}let dt=y||m,{dsMatches:He,revalidatingFetchers:Nt}=xy(E,J,c,f,r.history,k,P,st,z,ce?[]:s,ce===!0,q,F,fe,M,G,dt,g,r.patchRoutesOnNavigation!=null,ge,Ve);if(Ee=++ve,!r.dataStrategy&&!He.some(qe=>qe.shouldLoad)&&!He.some(qe=>qe.route.middleware&&qe.route.middleware.length>0)&&Nt.length===0){let qe=Bt();return Va(z,{matches:P,loaderData:{},errors:ge&&na(ge[1])?{[ge[0]]:ge[1].error}:null,...Cy(ge),...qe?{fetchers:new Map(k.fetchers)}:{}},{flushSync:_e}),{shortCircuited:!0}}if(ct){let qe={};if(!Z){qe.navigation=Le;let pt=Rn(ge);pt!==void 0&&(qe.actionData=pt)}Nt.length>0&&(qe.fetchers=Ti(Nt)),_t(qe,{flushSync:_e})}Nt.forEach(qe=>{lt(qe.key),qe.controller&&ee.set(qe.key,qe.controller)});let Pt=()=>Nt.forEach(qe=>lt(qe.key));Re&&Re.signal.addEventListener("abort",Pt);let{loaderResults:rt,fetcherResults:ja}=await Ri(He,Nt,E,J);if(E.signal.aborted)return{shortCircuited:!0};Re&&Re.signal.removeEventListener("abort",Pt),Nt.forEach(qe=>ee.delete(qe.key));let Xt=go(rt);if(Xt)return await yt(E,Xt.result,!0,{replace:le}),{shortCircuited:!0};if(Xt=go(ja),Xt)return G.add(Xt.key),await yt(E,Xt.result,!0,{replace:le}),{shortCircuited:!0};let{loaderData:Aa,errors:oa}=Ry(k,P,rt,ge,Nt,ja);ce&&k.errors&&(oa={...k.errors,...oa});let Ya=Bt(),Wr=Jl(Ee),en=Ya||Wr||Nt.length>0;return{matches:P,loaderData:Aa,errors:oa,...en?{fetchers:new Map(k.fetchers)}:{}}}function Rn(E){if(E&&!na(E[1]))return{[E[0]]:E[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Ti(E){return E.forEach(z=>{let P=k.fetchers.get(z.key),J=Sl(void 0,P?P.data:void 0);k.fetchers.set(z.key,J)}),new Map(k.fetchers)}async function Ni(E,z,P,J){lt(E);let Z=(J&&J.flushSync)===!0,he=y||m,ie=Ad(k.location,k.matches,g,P,z,J?.relative),ae=Pr(he,ie,g),le=Zr(ae,he,ie);if(le.active&&le.matches&&(ae=le.matches),!ae){Sa(E,z,va(404,{pathname:ie}),{flushSync:Z});return}let{path:ce,submission:_e,error:ge}=wy(!0,ie,J);if(ge){Sa(E,z,ge,{flushSync:Z});return}let Ve=r.getContext?await r.getContext():new gy,Le=(J&&J.preventScrollReset)===!0;if(_e&&Ht(_e.formMethod)){await Bo(E,z,ce,ae,Ve,le.active,Z,Le,_e,J&&J.unstable_defaultShouldRevalidate);return}M.set(E,{routeId:z,path:ce}),await Lo(E,z,ce,ae,Ve,le.active,Z,Le,_e)}async function Bo(E,z,P,J,Z,he,ie,ae,le,ce){On(),M.delete(E);let _e=k.fetchers.get(E);$t(E,hS(le,_e),{flushSync:ie});let ge=new AbortController,Ve=bi(r.history,P,ge.signal,le);if(he){let $e=await gr(J,new URL(Ve.url).pathname,Ve.signal,E);if($e.type==="aborted")return;if($e.type==="error"){Sa(E,z,$e.error,{flushSync:ie});return}else if($e.matches)J=$e.matches;else{Sa(E,z,va(404,{pathname:P}),{flushSync:ie});return}}let Le=po(J,P);if(!Le.route.action&&!Le.route.lazy){let $e=va(405,{method:le.formMethod,pathname:P,routeId:z});Sa(E,z,$e,{flushSync:ie});return}ee.set(E,ge);let st=ve,ct=Ei(c,f,Ve,J,Le,s,Z),dt=await Ir(Ve,ct,Z,E),He=dt[Le.route.id];if(!He){for(let $e of ct)if(dt[$e.route.id]){He=dt[$e.route.id];break}}if(Ve.signal.aborted){ee.get(E)===ge&&ee.delete(E);return}if(fe.has(E)){if(jn(He)||na(He)){$t(E,cr(void 0));return}}else{if(jn(He))if(ee.delete(E),Ee>st){$t(E,cr(void 0));return}else return G.add(E),$t(E,Sl(le)),yt(Ve,He,!1,{fetcherSubmission:le,preventScrollReset:ae});if(na(He)){Sa(E,z,He.error);return}}let Nt=k.navigation.location||k.location,Pt=bi(r.history,Nt,ge.signal),rt=y||m,ja=k.navigation.state!=="idle"?Pr(rt,k.navigation.location,g):k.matches;Oe(ja,"Didn't find any matches after fetcher action");let Xt=++ve;N.set(E,Xt);let Aa=Sl(le,He.data);k.fetchers.set(E,Aa);let{dsMatches:oa,revalidatingFetchers:Ya}=xy(Pt,Z,c,f,r.history,k,ja,le,Nt,s,!1,q,F,fe,M,G,rt,g,r.patchRoutesOnNavigation!=null,[Le.route.id,He],ce);Ya.filter($e=>$e.key!==E).forEach($e=>{let tn=$e.key,Zl=k.fetchers.get(tn),ki=Sl(void 0,Zl?Zl.data:void 0);k.fetchers.set(tn,ki),lt(tn),$e.controller&&ee.set(tn,$e.controller)}),_t({fetchers:new Map(k.fetchers)});let Wr=()=>Ya.forEach($e=>lt($e.key));ge.signal.addEventListener("abort",Wr);let{loaderResults:en,fetcherResults:qe}=await Ri(oa,Ya,Pt,Z);if(ge.signal.aborted)return;if(ge.signal.removeEventListener("abort",Wr),N.delete(E),ee.delete(E),Ya.forEach($e=>ee.delete($e.key)),k.fetchers.has(E)){let $e=cr(He.data);k.fetchers.set(E,$e)}let pt=go(en);if(pt)return yt(Pt,pt.result,!1,{preventScrollReset:ae});if(pt=go(qe),pt)return G.add(pt.key),yt(Pt,pt.result,!1,{preventScrollReset:ae});let{loaderData:Ta,errors:Ot}=Ry(k,ja,en,void 0,Ya,qe);Jl(Xt),k.navigation.state==="loading"&&Xt>Ee?(Oe(te,"Expected pending action"),Re&&Re.abort(),Va(k.navigation.location,{matches:ja,loaderData:Ta,errors:Ot,fetchers:new Map(k.fetchers)})):(_t({errors:Ot,loaderData:Oy(k.loaderData,Ta,ja,Ot),fetchers:new Map(k.fetchers)}),q=!1)}async function Lo(E,z,P,J,Z,he,ie,ae,le){let ce=k.fetchers.get(E);$t(E,Sl(le,ce?ce.data:void 0),{flushSync:ie});let _e=new AbortController,ge=bi(r.history,P,_e.signal);if(he){let He=await gr(J,new URL(ge.url).pathname,ge.signal,E);if(He.type==="aborted")return;if(He.type==="error"){Sa(E,z,He.error,{flushSync:ie});return}else if(He.matches)J=He.matches;else{Sa(E,z,va(404,{pathname:P}),{flushSync:ie});return}}let Ve=po(J,P);ee.set(E,_e);let Le=ve,st=Ei(c,f,ge,J,Ve,s,Z),dt=(await Ir(ge,st,Z,E))[Ve.route.id];if(ee.get(E)===_e&&ee.delete(E),!ge.signal.aborted){if(fe.has(E)){$t(E,cr(void 0));return}if(jn(dt))if(Ee>Le){$t(E,cr(void 0));return}else{G.add(E),await yt(ge,dt,!1,{preventScrollReset:ae});return}if(na(dt)){Sa(E,z,dt.error);return}$t(E,cr(dt.data))}}async function yt(E,z,P,{submission:J,fetcherSubmission:Z,preventScrollReset:he,replace:ie}={}){P||(de?.resolve(),de=null),z.response.headers.has("X-Remix-Revalidate")&&(q=!0);let ae=z.response.headers.get("Location");Oe(ae,"Expected a Location header on the redirect Response"),ae=Ty(ae,new URL(E.url),g,r.history);let le=Bl(k.location,ae,{_isRedirect:!0});if(i){let st=!1;if(z.response.headers.has("X-Remix-Reload-Document"))st=!0;else if(Co(ae)){const ct=pp(ae,!0);st=ct.origin!==a.location.origin||_a(ct.pathname,g)==null}if(st){ie?a.location.replace(ae):a.location.assign(ae);return}}Re=null;let ce=ie===!0||z.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:_e,formAction:ge,formEncType:Ve}=k.navigation;!J&&!Z&&_e&&ge&&Ve&&(J=Dy(k.navigation));let Le=J||Z;if(Px.has(z.response.status)&&Le&&Ht(Le.formMethod))await xa(ce,le,{submission:{...Le,formAction:ae},preventScrollReset:he||Ce,enableViewTransition:P?ke:void 0});else{let st=fd(le,J);await xa(ce,le,{overrideNavigation:st,fetcherSubmission:Z,preventScrollReset:he||Ce,enableViewTransition:P?ke:void 0})}}async function Ir(E,z,P,J){let Z,he={};try{Z=await Zx(v,E,z,J,P,!1)}catch(ie){return z.filter(ae=>ae.shouldLoad).forEach(ae=>{he[ae.route.id]={type:"error",error:ie}}),he}if(E.signal.aborted)return he;if(!Ht(E.method))for(let ie of z){if(Z[ie.route.id]?.type==="error")break;!Z.hasOwnProperty(ie.route.id)&&!k.loaderData.hasOwnProperty(ie.route.id)&&(!k.errors||!k.errors.hasOwnProperty(ie.route.id))&&ie.shouldCallHandler()&&(Z[ie.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${ie.route.id}`)})}for(let[ie,ae]of Object.entries(Z))if(oS(ae)){let le=ae.result;he[ie]={type:"redirect",response:aS(le,E,ie,z,g)}}else he[ie]=await tS(ae);return he}async function Ri(E,z,P,J){let Z=Ir(P,E,J,null),he=Promise.all(z.map(async le=>{if(le.matches&&le.match&&le.request&&le.controller){let _e=(await Ir(le.request,le.matches,J,le.key))[le.match.route.id];return{[le.key]:_e}}else return Promise.resolve({[le.key]:{type:"error",error:va(404,{pathname:le.path})}})})),ie=await Z,ae=(await he).reduce((le,ce)=>Object.assign(le,ce),{});return{loaderResults:ie,fetcherResults:ae}}function On(){q=!0,M.forEach((E,z)=>{ee.has(z)&&F.add(z),lt(z)})}function $t(E,z,P={}){k.fetchers.set(E,z),_t({fetchers:new Map(k.fetchers)},{flushSync:(P&&P.flushSync)===!0})}function Sa(E,z,P,J={}){let Z=Vr(k.matches,z);Ci(E),_t({errors:{[Z.route.id]:P},fetchers:new Map(k.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function Oi(E){return W.set(E,(W.get(E)||0)+1),fe.has(E)&&fe.delete(E),k.fetchers.get(E)||Vx}function Ho(E,z){lt(E,z?.reason),$t(E,cr(null))}function Ci(E){let z=k.fetchers.get(E);ee.has(E)&&!(z&&z.state==="loading"&&N.has(E))&&lt(E),M.delete(E),N.delete(E),G.delete(E),fe.delete(E),F.delete(E),k.fetchers.delete(E)}function Jr(E){let z=(W.get(E)||0)-1;z<=0?(W.delete(E),fe.add(E)):W.set(E,z),_t({fetchers:new Map(k.fetchers)})}function lt(E,z){let P=ee.get(E);P&&(P.abort(z),ee.delete(E))}function Ea(E){for(let z of E){let P=Oi(z),J=cr(P.data);k.fetchers.set(z,J)}}function Bt(){let E=[],z=!1;for(let P of G){let J=k.fetchers.get(P);Oe(J,`Expected fetcher: ${P}`),J.state==="loading"&&(G.delete(P),E.push(P),z=!0)}return Ea(E),z}function Jl(E){let z=[];for(let[P,J]of N)if(J<E){let Z=k.fetchers.get(P);Oe(Z,`Expected fetcher: ${P}`),Z.state==="loading"&&(lt(P),N.delete(P),z.push(P))}return Ea(z),z.length>0}function qo(E,z){let P=k.blockers.get(E)||xl;return je.get(E)!==z&&je.set(E,z),P}function Xl(E){k.blockers.delete(E),je.delete(E)}function Ga(E,z){let P=k.blockers.get(E)||xl;Oe(P.state==="unblocked"&&z.state==="blocked"||P.state==="blocked"&&z.state==="blocked"||P.state==="blocked"&&z.state==="proceeding"||P.state==="blocked"&&z.state==="unblocked"||P.state==="proceeding"&&z.state==="unblocked",`Invalid blocker state transition: ${P.state} -> ${z.state}`);let J=new Map(k.blockers);J.set(E,z),_t({blockers:J})}function Xr({currentLocation:E,nextLocation:z,historyAction:P}){if(je.size===0)return;je.size>1&&ut(!1,"A router only supports one blocker at a time");let J=Array.from(je.entries()),[Z,he]=J[J.length-1],ie=k.blockers.get(Z);if(!(ie&&ie.state==="proceeding")&&he({currentLocation:E,nextLocation:z,historyAction:P}))return Z}function mr(E){let z=va(404,{pathname:E}),P=y||m,{matches:J,route:Z}=mo(P);return{notFoundMatches:J,route:Z,error:z}}function Ka(E,z,P){if(S=E,R=z,T=P||null,!O&&k.navigation===dd){O=!0;let J=Ql(k.location,k.matches);J!=null&&_t({restoreScrollPosition:J})}return()=>{S=null,R=null,T=null}}function Qr(E,z){return T&&T(E,z.map(J=>gx(J,k.loaderData)))||E.key}function Fr(E,z){if(S&&R){let P=Qr(E,z);S[P]=R()}}function Ql(E,z){if(S){let P=Qr(E,z),J=S[P];if(typeof J=="number")return J}return null}function Zr(E,z,P){if(r.patchRoutesOnNavigation)if(E){if(Object.keys(E[0].params).length>0)return{active:!0,matches:Tl(z,P,g,!0)}}else return{active:!0,matches:Tl(z,P,g,!0)||[]};return{active:!1,matches:null}}async function gr(E,z,P,J){if(!r.patchRoutesOnNavigation)return{type:"success",matches:E};let Z=E;for(;;){let he=y==null,ie=y||m,ae=f;try{await r.patchRoutesOnNavigation({signal:P,path:z,matches:Z,fetcherKey:J,patch:(_e,ge)=>{P.aborted||Sy(_e,ge,ie,ae,c,!1)}})}catch(_e){return{type:"error",error:_e,partialMatches:Z}}finally{he&&!P.aborted&&(m=[...m])}if(P.aborted)return{type:"aborted"};let le=Pr(ie,z,g),ce=null;if(le){if(Object.keys(le[0].params).length===0)return{type:"success",matches:le};if(ce=Tl(ie,z,g,!0),!(ce&&Z.length<ce.length&&yr(Z,ce.slice(0,Z.length))))return{type:"success",matches:le}}if(ce||(ce=Tl(ie,z,g,!0)),!ce||yr(Z,ce))return{type:"success",matches:null};Z=ce}}function yr(E,z){return E.length===z.length&&E.every((P,J)=>P.route.id===z[J].route.id)}function $o(E){f={},y=Ll(E,c,void 0,f)}function Fl(E,z,P=!1){let J=y==null;Sy(E,z,y||m,f,c,P),J&&(m=[...m],_t({}))}return re={get basename(){return g},get future(){return _},get state(){return k},get routes(){return m},get window(){return a},initialize:it,subscribe:Nn,enableScrollRestoration:Ka,navigate:Ua,fetch:Ni,revalidate:Ai,createHref:E=>r.history.createHref(E),encodeLocation:E=>r.history.encodeLocation(E),getFetcher:Oi,resetFetcher:Ho,deleteFetcher:Jr,dispose:Yr,getBlocker:qo,deleteBlocker:Xl,patchRoutes:Fl,_internalFetchControllers:ee,_internalSetRoutes:$o,_internalSetStateDoNotUseOrYouWillBreakYourApp(E){_t(E)}},r.unstable_instrumentations&&(re=Ux(re,r.unstable_instrumentations.map(E=>E.router).filter(Boolean))),re}function Yx(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Ad(r,a,i,s,o,c){let f,m;if(o){f=[];for(let g of a)if(f.push(g),g.route.id===o){m=g;break}}else f=a,m=a[a.length-1];let y=Do(s||".",ko(f),_a(r.pathname,i)||r.pathname,c==="path");if(s==null&&(y.search=r.search,y.hash=r.hash),(s==null||s===""||s===".")&&m){let g=$d(y.search);if(m.route.index&&!g)y.search=y.search?y.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&g){let v=new URLSearchParams(y.search),_=v.getAll("index");v.delete("index"),_.filter(x=>x).forEach(x=>v.append("index",x));let w=v.toString();y.search=w?`?${w}`:""}}return i!=="/"&&(y.pathname=Nx({basename:i,pathname:y.pathname})),$a(y)}function wy(r,a,i){if(!i||!Yx(i))return{path:a};if(i.formMethod&&!dS(i.formMethod))return{path:a,error:va(405,{method:i.formMethod})};let s=()=>({path:a,error:va(400,{type:"invalid-body"})}),c=(i.formMethod||"get").toUpperCase(),f=Up(a);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Ht(c))return s();let _=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((w,[x,S])=>`${w}${x}=${S}
`,""):String(i.body);return{path:a,submission:{formMethod:c,formAction:f,formEncType:i.formEncType,formData:void 0,json:void 0,text:_}}}else if(i.formEncType==="application/json"){if(!Ht(c))return s();try{let _=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:a,submission:{formMethod:c,formAction:f,formEncType:i.formEncType,formData:void 0,json:_,text:void 0}}}catch{return s()}}}Oe(typeof FormData=="function","FormData is not available in this environment");let m,y;if(i.formData)m=Rd(i.formData),y=i.formData;else if(i.body instanceof FormData)m=Rd(i.body),y=i.body;else if(i.body instanceof URLSearchParams)m=i.body,y=Ny(m);else if(i.body==null)m=new URLSearchParams,y=new FormData;else try{m=new URLSearchParams(i.body),y=Ny(m)}catch{return s()}let g={formMethod:c,formAction:f,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:y,json:void 0,text:void 0};if(Ht(g.formMethod))return{path:a,submission:g};let v=hr(a);return r&&v.search&&$d(v.search)&&m.append("index",""),v.search=`?${m}`,{path:$a(v),submission:g}}function xy(r,a,i,s,o,c,f,m,y,g,v,_,w,x,S,T,R,O,D,B,Q){let se=B?na(B[1])?B[1].error:B[1].data:void 0,re=o.createURL(c.location),k=o.createURL(y),te;if(v&&c.errors){let pe=Object.keys(c.errors)[0];te=f.findIndex(q=>q.route.id===pe)}else if(B&&na(B[1])){let pe=B[0];te=f.findIndex(q=>q.route.id===pe)-1}let de=B?B[1].statusCode:void 0,Ce=de&&de>=400,Re={currentUrl:re,currentParams:c.matches[0]?.params||{},nextUrl:k,nextParams:f[0].params,...m,actionResult:se,actionStatus:de},ke=Vl(f),X=f.map((pe,q)=>{let{route:F}=pe,ee=null;if(te!=null&&q>te?ee=!1:F.lazy?ee=!0:Hd(F)?v?ee=Td(F,c.loaderData,c.errors):Ix(c.loaderData,c.matches[q],pe)&&(ee=!0):ee=!1,ee!==null)return Nd(i,s,r,ke,pe,g,a,ee);let ve=!1;typeof Q=="boolean"?ve=Q:Ce?ve=!1:(_||re.pathname+re.search===k.pathname+k.search||re.search!==k.search||Jx(c.matches[q],pe))&&(ve=!0);let Ee={...Re,defaultShouldRevalidate:ve},N=Ol(pe,Ee);return Nd(i,s,r,ke,pe,g,a,N,Ee,Q)}),be=[];return S.forEach((pe,q)=>{if(v||!f.some(W=>W.route.id===pe.routeId)||x.has(q))return;let F=c.fetchers.get(q),ee=F&&F.state!=="idle"&&F.data===void 0,ve=Pr(R,pe.path,O);if(!ve){if(D&&ee)return;be.push({key:q,routeId:pe.routeId,path:pe.path,matches:null,match:null,request:null,controller:null});return}if(T.has(q))return;let Ee=po(ve,pe.path),N=new AbortController,G=bi(o,pe.path,N.signal),M=null;if(w.has(q))w.delete(q),M=Ei(i,s,G,ve,Ee,g,a);else if(ee)_&&(M=Ei(i,s,G,ve,Ee,g,a));else{let W;typeof Q=="boolean"?W=Q:Ce?W=!1:W=_;let fe={...Re,defaultShouldRevalidate:W};Ol(Ee,fe)&&(M=Ei(i,s,G,ve,Ee,g,a,fe))}M&&be.push({key:q,routeId:pe.routeId,path:pe.path,matches:M,match:Ee,request:G,controller:N})}),{dsMatches:X,revalidatingFetchers:be}}function Hd(r){return r.loader!=null||r.middleware!=null&&r.middleware.length>0}function Td(r,a,i){if(r.lazy)return!0;if(!Hd(r))return!1;let s=a!=null&&r.id in a,o=i!=null&&i[r.id]!==void 0;return!s&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!s&&!o}function Ix(r,a,i){let s=!a||i.route.id!==a.route.id,o=!r.hasOwnProperty(i.route.id);return s||o}function Jx(r,a){let i=r.route.path;return r.pathname!==a.pathname||i!=null&&i.endsWith("*")&&r.params["*"]!==a.params["*"]}function Ol(r,a){if(r.route.shouldRevalidate){let i=r.route.shouldRevalidate(a);if(typeof i=="boolean")return i}return a.defaultShouldRevalidate}function Sy(r,a,i,s,o,c){let f;if(r){let g=s[r];Oe(g,`No route found to patch children into: routeId = ${r}`),g.children||(g.children=[]),f=g.children}else f=i;let m=[],y=[];if(a.forEach(g=>{let v=f.find(_=>Rp(g,_));v?y.push({existingRoute:v,newRoute:g}):m.push(g)}),m.length>0){let g=Ll(m,o,[r||"_","patch",String(f?.length||"0")],s);f.push(...g)}if(c&&y.length>0)for(let g=0;g<y.length;g++){let{existingRoute:v,newRoute:_}=y[g],w=v,[x]=Ll([_],o,[],{},!0);Object.assign(w,{element:x.element?x.element:w.element,errorElement:x.errorElement?x.errorElement:w.errorElement,hydrateFallbackElement:x.hydrateFallbackElement?x.hydrateFallbackElement:w.hydrateFallbackElement})}}function Rp(r,a){return"id"in r&&"id"in a&&r.id===a.id?!0:r.index===a.index&&r.path===a.path&&r.caseSensitive===a.caseSensitive?(!r.children||r.children.length===0)&&(!a.children||a.children.length===0)?!0:r.children.every((i,s)=>a.children?.some(o=>Rp(i,o))):!1}var Ey=new WeakMap,Op=({key:r,route:a,manifest:i,mapRouteProperties:s})=>{let o=i[a.id];if(Oe(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let c=o.lazy[r];if(!c)return;let f=Ey.get(o);f||(f={},Ey.set(o,f));let m=f[r];if(m)return m;let y=(async()=>{let g=dx(r),_=o[r]!==void 0&&r!=="hasErrorBoundary";if(g)ut(!g,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),f[r]=Promise.resolve();else if(_)ut(!1,`Route "${o.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let w=await c();w!=null&&(Object.assign(o,{[r]:w}),Object.assign(o,s(o)))}typeof o.lazy=="object"&&(o.lazy[r]=void 0,Object.values(o.lazy).every(w=>w===void 0)&&(o.lazy=void 0))})();return f[r]=y,y},jy=new WeakMap;function Xx(r,a,i,s,o){let c=i[r.id];if(Oe(c,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let v=jy.get(c);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let _=(async()=>{Oe(typeof r.lazy=="function","No lazy route function found");let w=await r.lazy(),x={};for(let S in w){let T=w[S];if(T===void 0)continue;let R=hx(S),D=c[S]!==void 0&&S!=="hasErrorBoundary";R?ut(!R,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):D?ut(!D,`Route "${c.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):x[S]=T}Object.assign(c,x),Object.assign(c,{...s(c),lazy:void 0})})();return jy.set(c,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let f=Object.keys(r.lazy),m=[],y;for(let v of f){if(o&&o.includes(v))continue;let _=Op({key:v,route:r,manifest:i,mapRouteProperties:s});_&&(m.push(_),v===a&&(y=_))}let g=m.length>0?Promise.all(m).then(()=>{}):void 0;return g?.catch(()=>{}),y?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:y}}async function Ay(r){let a=r.matches.filter(o=>o.shouldLoad),i={};return(await Promise.all(a.map(o=>o.resolve()))).forEach((o,c)=>{i[a[c].route.id]=o}),i}async function Qx(r){return r.matches.some(a=>a.route.middleware)?Cp(r,()=>Ay(r)):Ay(r)}function Cp(r,a){return Fx(r,a,s=>{if(cS(s))throw s;return s},lS,i);function i(s,o,c){if(c)return Promise.resolve(Object.assign(c.value,{[o]:{type:"error",result:s}}));{let{matches:f}=r,m=Math.min(Math.max(f.findIndex(g=>g.route.id===o),0),Math.max(f.findIndex(g=>g.shouldCallHandler()),0)),y=Vr(f,f[m].route.id).route.id;return Promise.resolve({[y]:{type:"error",result:s}})}}}async function Fx(r,a,i,s,o){let{matches:c,request:f,params:m,context:y,unstable_pattern:g}=r,v=c.flatMap(w=>w.route.middleware?w.route.middleware.map(x=>[w.route.id,x]):[]);return await kp({request:f,params:m,context:y,unstable_pattern:g},v,a,i,s,o)}async function kp(r,a,i,s,o,c,f=0){let{request:m}=r;if(m.signal.aborted)throw m.signal.reason??new Error(`Request aborted: ${m.method} ${m.url}`);let y=a[f];if(!y)return await i();let[g,v]=y,_,w=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");try{return _={value:await kp(r,a,i,s,o,c,f+1)},_.value}catch(x){return _={value:await c(x,g,_)},_.value}};try{let x=await v(r,w),S=x!=null?s(x):void 0;return o(S)?S:_?S??_.value:(_={value:await w()},_.value)}catch(x){return await c(x,g,_)}}function Dp(r,a,i,s,o){let c=Op({key:"middleware",route:s.route,manifest:a,mapRouteProperties:r}),f=Xx(s.route,Ht(i.method)?"action":"loader",a,r,o);return{middleware:c,route:f.lazyRoutePromise,handler:f.lazyHandlerPromise}}function Nd(r,a,i,s,o,c,f,m,y=null,g){let v=!1,_=Dp(r,a,i,o,c);return{...o,_lazyPromises:_,shouldLoad:m,shouldRevalidateArgs:y,shouldCallHandler(w){return v=!0,y?typeof g=="boolean"?Ol(o,{...y,defaultShouldRevalidate:g}):typeof w=="boolean"?Ol(o,{...y,defaultShouldRevalidate:w}):Ol(o,y):m},resolve(w){let{lazy:x,loader:S,middleware:T}=o.route,R=v||m||w&&!Ht(i.method)&&(x||S),O=T&&T.length>0&&!S&&!x;return R&&(Ht(i.method)||!O)?Wx({request:i,unstable_pattern:s,match:o,lazyHandlerPromise:_?.handler,lazyRoutePromise:_?.route,handlerOverride:w,scopedContext:f}):Promise.resolve({type:"data",result:void 0})}}}function Ei(r,a,i,s,o,c,f,m=null){return s.map(y=>y.route.id!==o.route.id?{...y,shouldLoad:!1,shouldRevalidateArgs:m,shouldCallHandler:()=>!1,_lazyPromises:Dp(r,a,i,y,c),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Nd(r,a,i,Vl(s),y,c,f,!0,m))}async function Zx(r,a,i,s,o,c){i.some(g=>g._lazyPromises?.middleware)&&await Promise.all(i.map(g=>g._lazyPromises?.middleware));let f={request:a,unstable_pattern:Vl(i),params:i[0].params,context:o,matches:i},y=await r({...f,fetcherKey:s,runClientMiddleware:g=>{let v=f;return Cp(v,()=>g({...v,fetcherKey:s,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(i.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return y}async function Wx({request:r,unstable_pattern:a,match:i,lazyHandlerPromise:s,lazyRoutePromise:o,handlerOverride:c,scopedContext:f}){let m,y,g=Ht(r.method),v=g?"action":"loader",_=w=>{let x,S=new Promise((O,D)=>x=D);y=()=>x(),r.signal.addEventListener("abort",y);let T=O=>typeof w!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${v}" [routeId: ${i.route.id}]`)):w({request:r,unstable_pattern:a,params:i.params,context:f},...O!==void 0?[O]:[]),R=(async()=>{try{return{type:"data",result:await(c?c(D=>T(D)):T())}}catch(O){return{type:"error",result:O}}})();return Promise.race([R,S])};try{let w=g?i.route.action:i.route.loader;if(s||o)if(w){let x,[S]=await Promise.all([_(w).catch(T=>{x=T}),s,o]);if(x!==void 0)throw x;m=S}else{await s;let x=g?i.route.action:i.route.loader;if(x)[m]=await Promise.all([_(x),o]);else if(v==="action"){let S=new URL(r.url),T=S.pathname+S.search;throw va(405,{method:r.method,pathname:T,routeId:i.route.id})}else return{type:"data",result:void 0}}else if(w)m=await _(w);else{let x=new URL(r.url),S=x.pathname+x.search;throw va(404,{pathname:S})}}catch(w){return{type:"error",result:w}}finally{y&&r.signal.removeEventListener("abort",y)}return m}async function eS(r){let a=r.headers.get("Content-Type");return a&&/\bapplication\/json\b/.test(a)?r.body==null?null:r.json():r.text()}async function tS(r){let{result:a,type:i}=r;if(qd(a)){let s;try{s=await eS(a)}catch(o){return{type:"error",error:o}}return i==="error"?{type:"error",error:new Pl(a.status,a.statusText,s),statusCode:a.status,headers:a.headers}:{type:"data",data:s,statusCode:a.status,headers:a.headers}}return i==="error"?ky(a)?a.data instanceof Error?{type:"error",error:a.data,statusCode:a.init?.status,headers:a.init?.headers?new Headers(a.init.headers):void 0}:{type:"error",error:iS(a),statusCode:Hl(a)?a.status:void 0,headers:a.init?.headers?new Headers(a.init.headers):void 0}:{type:"error",error:a,statusCode:Hl(a)?a.status:void 0}:ky(a)?{type:"data",data:a.data,statusCode:a.init?.status,headers:a.init?.headers?new Headers(a.init.headers):void 0}:{type:"data",data:a}}function aS(r,a,i,s,o){let c=r.headers.get("Location");if(Oe(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!Co(c)){let f=s.slice(0,s.findIndex(m=>m.route.id===i)+1);c=Ad(new URL(a.url),f,o,c),r.headers.set("Location",c)}return r}function Ty(r,a,i,s){let o=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Co(r)){let c=r,f=c.startsWith("//")?new URL(a.protocol+c):new URL(c);if(o.includes(f.protocol))throw new Error("Invalid redirect location");let m=_a(f.pathname,i)!=null;if(f.origin===a.origin&&m)return f.pathname+f.search+f.hash}try{let c=s.createURL(r);if(o.includes(c.protocol))throw new Error("Invalid redirect location")}catch{}return r}function bi(r,a,i,s){let o=r.createURL(Up(a)).toString(),c={signal:i};if(s&&Ht(s.formMethod)){let{formMethod:f,formEncType:m}=s;c.method=f.toUpperCase(),m==="application/json"?(c.headers=new Headers({"Content-Type":m}),c.body=JSON.stringify(s.json)):m==="text/plain"?c.body=s.text:m==="application/x-www-form-urlencoded"&&s.formData?c.body=Rd(s.formData):c.body=s.formData}return new Request(o,c)}function Rd(r){let a=new URLSearchParams;for(let[i,s]of r.entries())a.append(i,typeof s=="string"?s:s.name);return a}function Ny(r){let a=new FormData;for(let[i,s]of r.entries())a.append(i,s);return a}function rS(r,a,i,s=!1,o=!1){let c={},f=null,m,y=!1,g={},v=i&&na(i[1])?i[1].error:void 0;return r.forEach(_=>{if(!(_.route.id in a))return;let w=_.route.id,x=a[w];if(Oe(!jn(x),"Cannot handle redirect results in processLoaderData"),na(x)){let S=x.error;if(v!==void 0&&(S=v,v=void 0),f=f||{},o)f[w]=S;else{let T=Vr(r,w);f[T.route.id]==null&&(f[T.route.id]=S)}s||(c[w]=Np),y||(y=!0,m=Hl(x.error)?x.error.status:500),x.headers&&(g[w]=x.headers)}else c[w]=x.data,x.statusCode&&x.statusCode!==200&&!y&&(m=x.statusCode),x.headers&&(g[w]=x.headers)}),v!==void 0&&i&&(f={[i[0]]:v},i[2]&&(c[i[2]]=void 0)),{loaderData:c,errors:f,statusCode:m||200,loaderHeaders:g}}function Ry(r,a,i,s,o,c){let{loaderData:f,errors:m}=rS(a,i,s);return o.filter(y=>!y.matches||y.matches.some(g=>g.shouldLoad)).forEach(y=>{let{key:g,match:v,controller:_}=y;if(_&&_.signal.aborted)return;let w=c[g];if(Oe(w,"Did not find corresponding fetcher result"),na(w)){let x=Vr(r.matches,v?.route.id);m&&m[x.route.id]||(m={...m,[x.route.id]:w.error}),r.fetchers.delete(g)}else if(jn(w))Oe(!1,"Unhandled fetcher revalidation redirect");else{let x=cr(w.data);r.fetchers.set(g,x)}}),{loaderData:f,errors:m}}function Oy(r,a,i,s){let o=Object.entries(a).filter(([,c])=>c!==Np).reduce((c,[f,m])=>(c[f]=m,c),{});for(let c of i){let f=c.route.id;if(!a.hasOwnProperty(f)&&r.hasOwnProperty(f)&&c.route.loader&&(o[f]=r[f]),s&&s.hasOwnProperty(f))break}return o}function Cy(r){return r?na(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Vr(r,a){return(a?r.slice(0,r.findIndex(s=>s.route.id===a)+1):[...r]).reverse().find(s=>s.route.hasErrorBoundary===!0)||r[0]}function mo(r){let a=r.length===1?r[0]:r.find(i=>i.index||!i.path||i.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:a}],route:a}}function va(r,{pathname:a,routeId:i,method:s,type:o,message:c}={}){let f="Unknown Server Error",m="Unknown @remix-run/router error";return r===400?(f="Bad Request",s&&a&&i?m=`You made a ${s} request to "${a}" but did not provide a \`loader\` for route "${i}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):r===403?(f="Forbidden",m=`Route "${i}" does not match URL "${a}"`):r===404?(f="Not Found",m=`No route matches URL "${a}"`):r===405&&(f="Method Not Allowed",s&&a&&i?m=`You made a ${s.toUpperCase()} request to "${a}" but did not provide an \`action\` for route "${i}", so there is no way to handle the request.`:s&&(m=`Invalid request method "${s.toUpperCase()}"`)),new Pl(r||500,f,new Error(m),!0)}function go(r){let a=Object.entries(r);for(let i=a.length-1;i>=0;i--){let[s,o]=a[i];if(jn(o))return{key:s,result:o}}}function Up(r){let a=typeof r=="string"?hr(r):r;return $a({...a,hash:""})}function nS(r,a){return r.pathname!==a.pathname||r.search!==a.search?!1:r.hash===""?a.hash!=="":r.hash===a.hash?!0:a.hash!==""}function iS(r){return new Pl(r.init?.status??500,r.init?.statusText??"Internal Server Error",r.data)}function lS(r){return r!=null&&typeof r=="object"&&Object.entries(r).every(([a,i])=>typeof a=="string"&&sS(i))}function sS(r){return r!=null&&typeof r=="object"&&"type"in r&&"result"in r&&(r.type==="data"||r.type==="error")}function oS(r){return qd(r.result)&&Ap.has(r.result.status)}function na(r){return r.type==="error"}function jn(r){return(r&&r.type)==="redirect"}function ky(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function qd(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function uS(r){return Ap.has(r)}function cS(r){return qd(r)&&uS(r.status)&&r.headers.has("Location")}function dS(r){return $x.has(r.toUpperCase())}function Ht(r){return Hx.has(r.toUpperCase())}function $d(r){return new URLSearchParams(r).getAll("index").some(a=>a==="")}function po(r,a){let i=typeof a=="string"?hr(a).search:a.search;if(r[r.length-1].route.index&&$d(i||""))return r[r.length-1];let s=wp(r);return s[s.length-1]}function Dy(r){let{formMethod:a,formAction:i,formEncType:s,text:o,formData:c,json:f}=r;if(!(!a||!i||!s)){if(o!=null)return{formMethod:a,formAction:i,formEncType:s,formData:void 0,json:void 0,text:o};if(c!=null)return{formMethod:a,formAction:i,formEncType:s,formData:c,json:void 0,text:void 0};if(f!==void 0)return{formMethod:a,formAction:i,formEncType:s,formData:void 0,json:f,text:void 0}}}function fd(r,a){return a?{state:"loading",location:r,formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function fS(r,a){return{state:"submitting",location:r,formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text}}function Sl(r,a){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:a}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:a}}function hS(r,a){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:a?a.data:void 0}}function cr(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function mS(r,a){try{let i=r.sessionStorage.getItem(Tp);if(i){let s=JSON.parse(i);for(let[o,c]of Object.entries(s||{}))c&&Array.isArray(c)&&a.set(o,new Set(c||[]))}}catch{}}function gS(r,a){if(a.size>0){let i={};for(let[s,o]of a)i[s]=[...o];try{r.sessionStorage.setItem(Tp,JSON.stringify(i))}catch(s){ut(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function Uy(){let r,a,i=new Promise((s,o)=>{r=async c=>{s(c);try{await i}catch{}},a=async c=>{o(c);try{await i}catch{}}});return{promise:i,resolve:r,reject:a}}var Tn=A.createContext(null);Tn.displayName="DataRouter";var Gl=A.createContext(null);Gl.displayName="DataRouterState";var zp=A.createContext(!1);function yS(){return A.useContext(zp)}var Pd=A.createContext({isTransitioning:!1});Pd.displayName="ViewTransition";var Mp=A.createContext(new Map);Mp.displayName="Fetchers";var pS=A.createContext(null);pS.displayName="Await";var sa=A.createContext(null);sa.displayName="Navigation";var Kl=A.createContext(null);Kl.displayName="Location";var wa=A.createContext({outlet:null,matches:[],isDataRoute:!1});wa.displayName="Route";var Vd=A.createContext(null);Vd.displayName="RouteError";var Bp="REACT_ROUTER_ERROR",vS="REDIRECT",bS="ROUTE_ERROR_RESPONSE";function _S(r){if(r.startsWith(`${Bp}:${vS}:{`))try{let a=JSON.parse(r.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function wS(r){if(r.startsWith(`${Bp}:${bS}:{`))try{let a=JSON.parse(r.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new Pl(a.status,a.statusText,a.data)}catch{}}function xS(r,{relative:a}={}){Oe(ji(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=A.useContext(sa),{hash:o,pathname:c,search:f}=Yl(r,{relative:a}),m=c;return i!=="/"&&(m=c==="/"?i:qa([i,c])),s.createHref({pathname:m,search:f,hash:o})}function ji(){return A.useContext(Kl)!=null}function Pa(){return Oe(ji(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Kl).location}function SS(){return A.useContext(Kl).navigationType}var Lp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hp(r){A.useContext(sa).static||A.useLayoutEffect(r)}function Kr(){let{isDataRoute:r}=A.useContext(wa);return r?LS():ES()}function ES(){Oe(ji(),"useNavigate() may be used only in the context of a <Router> component.");let r=A.useContext(Tn),{basename:a,navigator:i}=A.useContext(sa),{matches:s}=A.useContext(wa),{pathname:o}=Pa(),c=JSON.stringify(ko(s)),f=A.useRef(!1);return Hp(()=>{f.current=!0}),A.useCallback((y,g={})=>{if(ut(f.current,Lp),!f.current)return;if(typeof y=="number"){i.go(y);return}let v=Do(y,JSON.parse(c),o,g.relative==="path");r==null&&a!=="/"&&(v.pathname=v.pathname==="/"?a:qa([a,v.pathname])),(g.replace?i.replace:i.push)(v,g.state,g)},[a,i,c,o,r])}var jS=A.createContext(null);function AS(r){let a=A.useContext(wa).outlet;return A.useMemo(()=>a&&A.createElement(jS.Provider,{value:r},a),[a,r])}function qp(){let{matches:r}=A.useContext(wa),a=r[r.length-1];return a?a.params:{}}function Yl(r,{relative:a}={}){let{matches:i}=A.useContext(wa),{pathname:s}=Pa(),o=JSON.stringify(ko(i));return A.useMemo(()=>Do(r,JSON.parse(o),s,a==="path"),[r,o,s,a])}function TS(r,a,i,s,o){Oe(ji(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=A.useContext(sa),{matches:f}=A.useContext(wa),m=f[f.length-1],y=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",_=m&&m.route;{let D=_&&_.path||"";Pp(g,!_||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let w=Pa(),x;x=w;let S=x.pathname||"/",T=S;if(v!=="/"){let D=v.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(D.length).join("/")}let R=Pr(r,{pathname:T});return ut(_||R!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ut(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),kS(R&&R.map(D=>Object.assign({},D,{params:Object.assign({},y,D.params),pathname:qa([v,c.encodeLocation?c.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:qa([v,c.encodeLocation?c.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),f,i,s,o)}function NS(){let r=BS(),a=Hl(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:c},"ErrorBoundary")," or"," ",A.createElement("code",{style:c},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},a),i?A.createElement("pre",{style:o},i):null,f)}var RS=A.createElement(NS,null),$p=class extends A.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,a){return a.location!==r.location||a.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:a.error,location:a.location,revalidation:r.revalidation||a.revalidation}}componentDidCatch(r,a){this.props.onError?this.props.onError(r,a):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const i=wS(r.digest);i&&(r=i)}let a=r!==void 0?A.createElement(wa.Provider,{value:this.props.routeContext},A.createElement(Vd.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?A.createElement(OS,{error:r},a):a}};$p.contextType=zp;var hd=new WeakMap;function OS({children:r,error:a}){let{basename:i}=A.useContext(sa);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let s=_S(a.digest);if(s){let o=hd.get(a);if(o)throw o;let c=Sp(s.location,i);if(xp&&!hd.get(a))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw hd.set(a,f),f}return A.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return r}function CS({routeContext:r,match:a,children:i}){let s=A.useContext(Tn);return s&&s.static&&s.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=a.route.id),A.createElement(wa.Provider,{value:r},i)}function kS(r,a=[],i=null,s=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(a.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,f=i?.errors;if(f!=null){let v=c.findIndex(_=>_.route.id&&f?.[_.route.id]!==void 0);Oe(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let m=!1,y=-1;if(i)for(let v=0;v<c.length;v++){let _=c[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(y=v),_.route.id){let{loaderData:w,errors:x}=i,S=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!x||x[_.route.id]===void 0);if(_.route.lazy||S){m=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}let g=i&&s?(v,_)=>{s(v,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:Vl(i.matches),errorInfo:_})}:void 0;return c.reduceRight((v,_,w)=>{let x,S=!1,T=null,R=null;i&&(x=f&&_.route.id?f[_.route.id]:void 0,T=_.route.errorElement||RS,m&&(y<0&&w===0?(Pp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,R=null):y===w&&(S=!0,R=_.route.hydrateFallbackElement||null)));let O=a.concat(c.slice(0,w+1)),D=()=>{let B;return x?B=T:S?B=R:_.route.Component?B=A.createElement(_.route.Component,null):_.route.element?B=_.route.element:B=v,A.createElement(CS,{match:_,routeContext:{outlet:v,matches:O,isDataRoute:i!=null},children:B})};return i&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?A.createElement($p,{location:i.location,revalidation:i.revalidation,component:T,error:x,children:D(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:g}):D()},null)}function Gd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DS(r){let a=A.useContext(Tn);return Oe(a,Gd(r)),a}function US(r){let a=A.useContext(Gl);return Oe(a,Gd(r)),a}function zS(r){let a=A.useContext(wa);return Oe(a,Gd(r)),a}function Kd(r){let a=zS(r),i=a.matches[a.matches.length-1];return Oe(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function MS(){return Kd("useRouteId")}function BS(){let r=A.useContext(Vd),a=US("useRouteError"),i=Kd("useRouteError");return r!==void 0?r:a.errors?.[i]}function LS(){let{router:r}=DS("useNavigate"),a=Kd("useNavigate"),i=A.useRef(!1);return Hp(()=>{i.current=!0}),A.useCallback(async(o,c={})=>{ut(i.current,Lp),i.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:a,...c}))},[r,a])}var zy={};function Pp(r,a,i){!a&&!zy[r]&&(zy[r]=!0,ut(!1,i))}var My={};function By(r,a){!r&&!My[a]&&(My[a]=!0,console.warn(a))}var HS="useOptimistic",Ly=db[HS],qS=()=>{};function $S(r){return Ly?Ly(r):[r,qS]}function PS(r){let a={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&ut(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(a,{element:A.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&ut(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(a,{hydrateFallbackElement:A.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&ut(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(a,{errorElement:A.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),a}var VS=["HydrateFallback","hydrateFallbackElement"],GS=class{constructor(){this.status="pending",this.promise=new Promise((r,a)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",r(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",a(i))}})}};function KS({router:r,flushSync:a,onError:i,unstable_useTransitions:s}){s=yS()||s;let[c,f]=A.useState(r.state),[m,y]=$S(c),[g,v]=A.useState(),[_,w]=A.useState({isTransitioning:!1}),[x,S]=A.useState(),[T,R]=A.useState(),[O,D]=A.useState(),B=A.useRef(new Map),Q=A.useCallback((te,{deletedFetchers:de,newErrors:Ce,flushSync:Re,viewTransitionOpts:ke})=>{Ce&&i&&Object.values(Ce).forEach(be=>i(be,{location:te.location,params:te.matches[0]?.params??{},unstable_pattern:Vl(te.matches)})),te.fetchers.forEach((be,pe)=>{be.data!==void 0&&B.current.set(pe,be.data)}),de.forEach(be=>B.current.delete(be)),By(Re===!1||a!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let X=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(By(ke==null||X,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ke||!X){a&&Re?a(()=>f(te)):s===!1?f(te):A.startTransition(()=>{s===!0&&y(be=>Hy(be,te)),f(te)});return}if(a&&Re){a(()=>{T&&(x?.resolve(),T.skipTransition()),w({isTransitioning:!0,flushSync:!0,currentLocation:ke.currentLocation,nextLocation:ke.nextLocation})});let be=r.window.document.startViewTransition(()=>{a(()=>f(te))});be.finished.finally(()=>{a(()=>{S(void 0),R(void 0),v(void 0),w({isTransitioning:!1})})}),a(()=>R(be));return}T?(x?.resolve(),T.skipTransition(),D({state:te,currentLocation:ke.currentLocation,nextLocation:ke.nextLocation})):(v(te),w({isTransitioning:!0,flushSync:!1,currentLocation:ke.currentLocation,nextLocation:ke.nextLocation}))},[r.window,a,T,x,s,y,i]);A.useLayoutEffect(()=>r.subscribe(Q),[r,Q]),A.useEffect(()=>{_.isTransitioning&&!_.flushSync&&S(new GS)},[_]),A.useEffect(()=>{if(x&&g&&r.window){let te=g,de=x.promise,Ce=r.window.document.startViewTransition(async()=>{s===!1?f(te):A.startTransition(()=>{s===!0&&y(Re=>Hy(Re,te)),f(te)}),await de});Ce.finished.finally(()=>{S(void 0),R(void 0),v(void 0),w({isTransitioning:!1})}),R(Ce)}},[g,x,r.window,s,y]),A.useEffect(()=>{x&&g&&m.location.key===g.location.key&&x.resolve()},[x,T,m.location,g]),A.useEffect(()=>{!_.isTransitioning&&O&&(v(O.state),w({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}),D(void 0))},[_.isTransitioning,O]);let se=A.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:te=>r.navigate(te),push:(te,de,Ce)=>r.navigate(te,{state:de,preventScrollReset:Ce?.preventScrollReset}),replace:(te,de,Ce)=>r.navigate(te,{replace:!0,state:de,preventScrollReset:Ce?.preventScrollReset})}),[r]),re=r.basename||"/",k=A.useMemo(()=>({router:r,navigator:se,static:!1,basename:re,onError:i}),[r,se,re,i]);return A.createElement(A.Fragment,null,A.createElement(Tn.Provider,{value:k},A.createElement(Gl.Provider,{value:m},A.createElement(Mp.Provider,{value:B.current},A.createElement(Pd.Provider,{value:_},A.createElement(XS,{basename:re,location:m.location,navigationType:m.historyAction,navigator:se,unstable_useTransitions:s},A.createElement(YS,{routes:r.routes,future:r.future,state:m,onError:i})))))),null)}function Hy(r,a){return{...r,navigation:a.navigation.state!=="idle"?a.navigation:r.navigation,revalidation:a.revalidation!=="idle"?a.revalidation:r.revalidation,actionData:a.navigation.state!=="submitting"?a.actionData:r.actionData,fetchers:a.fetchers}}var YS=A.memo(IS);function IS({routes:r,future:a,state:i,onError:s}){return TS(r,void 0,i,s,a)}function Od({to:r,replace:a,state:i,relative:s}){Oe(ji(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=A.useContext(sa);ut(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=A.useContext(wa),{pathname:f}=Pa(),m=Kr(),y=Do(r,ko(c),f,s==="path"),g=JSON.stringify(y);return A.useEffect(()=>{m(JSON.parse(g),{replace:a,state:i,relative:s})},[m,g,s,a,i]),null}function JS(r){return AS(r.context)}function XS({basename:r="/",children:a=null,location:i,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:f}){Oe(!ji(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),y=A.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:f,future:{}}),[m,o,c,f]);typeof i=="string"&&(i=hr(i));let{pathname:g="/",search:v="",hash:_="",state:w=null,key:x="default"}=i,S=A.useMemo(()=>{let T=_a(g,m);return T==null?null:{location:{pathname:T,search:v,hash:_,state:w,key:x},navigationType:s}},[m,g,v,_,w,x,s]);return ut(S!=null,`<Router basename="${m}"> is not able to match the URL "${g}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:A.createElement(sa.Provider,{value:y},A.createElement(Kl.Provider,{children:a,value:S}))}var vo="get",bo="application/x-www-form-urlencoded";function Uo(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function QS(r){return Uo(r)&&r.tagName.toLowerCase()==="button"}function FS(r){return Uo(r)&&r.tagName.toLowerCase()==="form"}function ZS(r){return Uo(r)&&r.tagName.toLowerCase()==="input"}function WS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function eE(r,a){return r.button===0&&(!a||a==="_self")&&!WS(r)}var yo=null;function tE(){if(yo===null)try{new FormData(document.createElement("form"),0),yo=!1}catch{yo=!0}return yo}var aE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function md(r){return r!=null&&!aE.has(r)?(ut(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bo}"`),null):r}function rE(r,a){let i,s,o,c,f;if(FS(r)){let m=r.getAttribute("action");s=m?_a(m,a):null,i=r.getAttribute("method")||vo,o=md(r.getAttribute("enctype"))||bo,c=new FormData(r)}else if(QS(r)||ZS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||m.getAttribute("action");if(s=y?_a(y,a):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||vo,o=md(r.getAttribute("formenctype"))||md(m.getAttribute("enctype"))||bo,c=new FormData(m,r),!tE()){let{name:g,type:v,value:_}=r;if(v==="image"){let w=g?`${g}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else g&&c.append(g,_)}}else{if(Uo(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=vo,s=null,o=bo,f=r}return c&&o==="text/plain"&&(f=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yd(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function nE(r,a,i,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:a&&_a(o.pathname,a)==="/"?o.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function iE(r,a){if(r.id in a)return a[r.id];try{let i=await import(r.module);return a[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lE(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function sE(r,a,i){let s=await Promise.all(r.map(async o=>{let c=a.routes[o.route.id];if(c){let f=await iE(c,i);return f.links?f.links():[]}return[]}));return dE(s.flat(1).filter(lE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function qy(r,a,i,s,o,c){let f=(y,g)=>i[g]?y.route.id!==i[g].route.id:!0,m=(y,g)=>i[g].pathname!==y.pathname||i[g].route.path?.endsWith("*")&&i[g].params["*"]!==y.params["*"];return c==="assets"?a.filter((y,g)=>f(y,g)||m(y,g)):c==="data"?a.filter((y,g)=>{let v=s.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(f(y,g)||m(y,g))return!0;if(y.route.shouldRevalidate){let _=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function oE(r,a,{includeHydrateFallback:i}={}){return uE(r.map(s=>{let o=a.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function uE(r){return[...new Set(r)]}function cE(r){let a={},i=Object.keys(r).sort();for(let s of i)a[s]=r[s];return a}function dE(r,a){let i=new Set;return new Set(a),r.reduce((s,o)=>{let c=JSON.stringify(cE(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function Vp(){let r=A.useContext(Tn);return Yd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function fE(){let r=A.useContext(Gl);return Yd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Id=A.createContext(void 0);Id.displayName="FrameworkContext";function Gp(){let r=A.useContext(Id);return Yd(r,"You must render this element inside a <HydratedRouter> element"),r}function hE(r,a){let i=A.useContext(Id),[s,o]=A.useState(!1),[c,f]=A.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:g,onMouseLeave:v,onTouchStart:_}=a,w=A.useRef(null);A.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let T=O=>{O.forEach(D=>{f(D.isIntersecting)})},R=new IntersectionObserver(T,{threshold:.5});return w.current&&R.observe(w.current),()=>{R.disconnect()}}},[r]),A.useEffect(()=>{if(s){let T=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(T)}}},[s]);let x=()=>{o(!0)},S=()=>{o(!1),f(!1)};return i?r!=="intent"?[c,w,{}]:[c,w,{onFocus:El(m,x),onBlur:El(y,S),onMouseEnter:El(g,x),onMouseLeave:El(v,S),onTouchStart:El(_,x)}]:[!1,w,{}]}function El(r,a){return i=>{r&&r(i),i.defaultPrevented||a(i)}}function mE({page:r,...a}){let{router:i}=Vp(),s=A.useMemo(()=>Pr(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?A.createElement(yE,{page:r,matches:s,...a}):null}function gE(r){let{manifest:a,routeModules:i}=Gp(),[s,o]=A.useState([]);return A.useEffect(()=>{let c=!1;return sE(r,a,i).then(f=>{c||o(f)}),()=>{c=!0}},[r,a,i]),s}function yE({page:r,matches:a,...i}){let s=Pa(),{future:o,manifest:c,routeModules:f}=Gp(),{basename:m}=Vp(),{loaderData:y,matches:g}=fE(),v=A.useMemo(()=>qy(r,a,g,c,s,"data"),[r,a,g,c,s]),_=A.useMemo(()=>qy(r,a,g,c,s,"assets"),[r,a,g,c,s]),w=A.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let T=new Set,R=!1;if(a.forEach(D=>{let B=c.routes[D.route.id];!B||!B.hasLoader||(!v.some(Q=>Q.route.id===D.route.id)&&D.route.id in y&&f[D.route.id]?.shouldRevalidate||B.hasClientLoader?R=!0:T.add(D.route.id))}),T.size===0)return[];let O=nE(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return R&&T.size>0&&O.searchParams.set("_routes",a.filter(D=>T.has(D.route.id)).map(D=>D.route.id).join(",")),[O.pathname+O.search]},[m,o.unstable_trailingSlashAwareDataRequests,y,s,c,v,a,r,f]),x=A.useMemo(()=>oE(_,c),[_,c]),S=gE(_);return A.createElement(A.Fragment,null,w.map(T=>A.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...i})),x.map(T=>A.createElement("link",{key:T,rel:"modulepreload",href:T,...i})),S.map(({key:T,link:R})=>A.createElement("link",{key:T,nonce:i.nonce,...R})))}function pE(...r){return a=>{r.forEach(i=>{typeof i=="function"?i(a):i!=null&&(i.current=a)})}}var vE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vE&&(window.__reactRouterVersion="7.12.0")}catch{}function bE(r,a){return Kx({basename:a?.basename,getContext:a?.getContext,future:a?.future,history:sx({window:a?.window}),hydrationData:_E(),routes:r,mapRouteProperties:PS,hydrationRouteProperties:VS,dataStrategy:a?.dataStrategy,patchRoutesOnNavigation:a?.patchRoutesOnNavigation,window:a?.window,unstable_instrumentations:a?.unstable_instrumentations}).initialize()}function _E(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:wE(r.errors)}),r}function wE(r){if(!r)return null;let a=Object.entries(r),i={};for(let[s,o]of a)if(o&&o.__type==="RouteErrorResponse")i[s]=new Pl(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let c=window[o.__subType];if(typeof c=="function")try{let f=new c(o.message);f.stack="",i[s]=f}catch{}}if(i[s]==null){let c=new Error(o.message);c.stack="",i[s]=c}}else i[s]=o;return i}var Kp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zo=A.forwardRef(function({onClick:a,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:f,state:m,target:y,to:g,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:w,...x},S){let{basename:T,unstable_useTransitions:R}=A.useContext(sa),O=typeof g=="string"&&Kp.test(g),D=Sp(g,T);g=D.to;let B=xS(g,{relative:o}),[Q,se,re]=hE(s,x),k=jE(g,{replace:f,state:m,target:y,preventScrollReset:v,relative:o,viewTransition:_,unstable_defaultShouldRevalidate:w,unstable_useTransitions:R});function te(Ce){a&&a(Ce),Ce.defaultPrevented||k(Ce)}let de=A.createElement("a",{...x,...re,href:D.absoluteURL||B,onClick:D.isExternal||c?a:te,ref:pE(S,se),target:y,"data-discover":!O&&i==="render"?"true":void 0});return Q&&!O?A.createElement(A.Fragment,null,de,A.createElement(mE,{page:B})):de});zo.displayName="Link";var xE=A.forwardRef(function({"aria-current":a="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:f,viewTransition:m,children:y,...g},v){let _=Yl(f,{relative:g.relative}),w=Pa(),x=A.useContext(Gl),{navigator:S,basename:T}=A.useContext(sa),R=x!=null&&OE(_)&&m===!0,O=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,D=w.pathname,B=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(D=D.toLowerCase(),B=B?B.toLowerCase():null,O=O.toLowerCase()),B&&T&&(B=_a(B,T)||B);const Q=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let se=D===O||!o&&D.startsWith(O)&&D.charAt(Q)==="/",re=B!=null&&(B===O||!o&&B.startsWith(O)&&B.charAt(O.length)==="/"),k={isActive:se,isPending:re,isTransitioning:R},te=se?a:void 0,de;typeof s=="function"?de=s(k):de=[s,se?"active":null,re?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let Ce=typeof c=="function"?c(k):c;return A.createElement(zo,{...g,"aria-current":te,className:de,ref:v,style:Ce,to:f,viewTransition:m},typeof y=="function"?y(k):y)});xE.displayName="NavLink";var SE=A.forwardRef(({discover:r="render",fetcherKey:a,navigate:i,reloadDocument:s,replace:o,state:c,method:f=vo,action:m,onSubmit:y,relative:g,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:w,...x},S)=>{let{unstable_useTransitions:T}=A.useContext(sa),R=NE(),O=RE(m,{relative:g}),D=f.toLowerCase()==="get"?"get":"post",B=typeof m=="string"&&Kp.test(m),Q=se=>{if(y&&y(se),se.defaultPrevented)return;se.preventDefault();let re=se.nativeEvent.submitter,k=re?.getAttribute("formmethod")||f,te=()=>R(re||se.currentTarget,{fetcherKey:a,method:k,navigate:i,replace:o,state:c,relative:g,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:w});T&&i!==!1?A.startTransition(()=>te()):te()};return A.createElement("form",{ref:S,method:D,action:O,onSubmit:s?y:Q,...x,"data-discover":!B&&r==="render"?"true":void 0})});SE.displayName="Form";function EE(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yp(r){let a=A.useContext(Tn);return Oe(a,EE(r)),a}function jE(r,{target:a,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:y}={}){let g=Kr(),v=Pa(),_=Yl(r,{relative:c});return A.useCallback(w=>{if(eE(w,a)){w.preventDefault();let x=i!==void 0?i:$a(v)===$a(_),S=()=>g(r,{replace:x,state:s,preventScrollReset:o,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:m});y?A.startTransition(()=>S()):S()}},[v,g,_,i,s,a,r,o,c,f,m,y])}var AE=0,TE=()=>`__${String(++AE)}__`;function NE(){let{router:r}=Yp("useSubmit"),{basename:a}=A.useContext(sa),i=MS(),s=r.fetch,o=r.navigate;return A.useCallback(async(c,f={})=>{let{action:m,method:y,encType:g,formData:v,body:_}=rE(c,a);if(f.navigate===!1){let w=f.fetcherKey||TE();await s(w,i,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:_,formMethod:f.method||y,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:_,formMethod:f.method||y,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,a,i])}function RE(r,{relative:a}={}){let{basename:i}=A.useContext(sa),s=A.useContext(wa);Oe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Yl(r||".",{relative:a})},f=Pa();if(r==null){c.search=f.search;let m=new URLSearchParams(c.search),y=m.getAll("index");if(y.some(v=>v==="")){m.delete("index"),y.filter(_=>_).forEach(_=>m.append("index",_));let v=m.toString();c.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:qa([i,c.pathname])),$a(c)}function OE(r,{relative:a}={}){let i=A.useContext(Pd);Oe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Yp("useViewTransitionState"),o=Yl(r,{relative:a});if(!i.isTransitioning)return!1;let c=_a(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=_a(i.nextLocation.pathname,s)||i.nextLocation.pathname;return So(o.pathname,f)!=null||So(o.pathname,c)!=null}var CE=Xy();function kE(r){return A.createElement(KS,{flushSync:CE.flushSync,...r})}const DE=()=>{const{pathname:r}=Pa(),a=SS();return A.useEffect(()=>{a!=="POP"&&window.scrollTo(0,0)},[r,a]),null};const UE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zE=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,i,s)=>s?s.toUpperCase():i.toLowerCase()),$y=r=>{const a=zE(r);return a.charAt(0).toUpperCase()+a.slice(1)},Ip=(...r)=>r.filter((a,i,s)=>!!a&&a.trim()!==""&&s.indexOf(a)===i).join(" ").trim(),ME=r=>{for(const a in r)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var BE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const LE=A.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:f,...m},y)=>A.createElement("svg",{ref:y,...BE,width:a,height:a,stroke:r,strokeWidth:s?Number(i)*24/Number(a):i,className:Ip("lucide",o),...!c&&!ME(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,v])=>A.createElement(g,v)),...Array.isArray(c)?c:[c]]));const We=(r,a)=>{const i=A.forwardRef(({className:s,...o},c)=>A.createElement(LE,{ref:c,iconNode:a,className:Ip(`lucide-${UE($y(r))}`,`lucide-${r}`,s),...o}));return i.displayName=$y(r),i};const HE=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Jd=We("arrow-left",HE);const qE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$E=We("chevron-down",qE);const PE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],VE=We("chevron-left",PE);const GE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],KE=We("chevron-right",GE);const YE=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],IE=We("chevron-up",YE);const JE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Py=We("circle-check-big",JE);const XE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vy=We("circle-x",XE);const QE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],FE=We("clock",QE);const ZE=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Jp=We("eye-off",ZE);const WE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xp=We("eye",WE);const e1=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],t1=We("house",e1);const a1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ha=We("loader-circle",a1);const r1=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],n1=We("log-out",r1);const i1=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Cd=We("map-pin",i1);const l1=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],s1=We("menu",l1);const o1=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],An=We("package",o1);const u1=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Eo=We("pen",u1);const c1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],jo=We("plus",c1);const d1=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ao=We("save",d1);const f1=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],h1=We("settings",f1);const m1=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Qp=We("shopping-bag",m1);const g1=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Gy=We("star",g1);const y1=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ky=We("tag",y1);const p1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ql=We("trash-2",p1);const v1=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],b1=We("upload",v1);const _1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],w1=We("users",_1);const x1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],To=We("x",x1),kd="/saisoku-admin/assets/logo-gabadak-transparent-Du-TxF25.png",S1=[{path:"/admin",label:"Dashboard",icon:h.jsx(t1,{size:20})},{path:"/admin/orders",label:"Orders",icon:h.jsx(Qp,{size:20})},{path:"/admin/products",label:"Products",icon:h.jsx(An,{size:20})},{path:"/admin/admins",label:"Admins",icon:h.jsx(w1,{size:20})},{path:"/admin/settings",label:"Settings",icon:h.jsx(h1,{size:20})}];function E1(){const r=Pa(),a=Kr(),{admin:i,signOut:s}=Oo(),[o,c]=A.useState(!1),[f,m]=A.useState(!1),y=async()=>{confirm("Are you sure you want to logout?")&&(await s(),a("/"))},g=v=>v==="/admin"?r.pathname==="/admin":r.pathname.startsWith(v);return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 h-16 bg-white border-b border-gray-200 flex items-center justify-between px-4 z-50",children:[h.jsx("img",{src:kd,alt:"Logo",className:"h-20"}),h.jsx("button",{onClick:()=>m(!f),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:f?h.jsx(To,{size:24}):h.jsx(s1,{size:24})})]}),f&&h.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>m(!1)}),h.jsxs("aside",{className:`
          fixed top-0 left-0 h-screen bg-white border-r border-gray-200 z-40 transition-all duration-300
          ${o?"w-20":"w-64"}
          ${f?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `,children:[h.jsx("div",{className:"h-20 flex items-center justify-center border-b border-gray-200 px-4",children:o?h.jsxs("div",{className:"w-12 h-12 bg-[#0ABAB5] rounded-lg flex items-center justify-center text-white font-bold text-lg",children:[" ","S"]}):h.jsx("img",{src:kd,alt:"Logo",className:"h-30"})}),!o&&h.jsx("div",{className:"p-4 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-[#0ABAB5] rounded-full flex items-center justify-center text-white font-semibold",children:i?.name?.charAt(0).toUpperCase()||"A"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:i?.name||"Admin"}),h.jsx("p",{className:"text-xs text-gray-500 truncate",children:i?.email})]})]})}),h.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:S1.map(v=>h.jsxs(zo,{to:v.path,onClick:()=>m(!1),className:`
                flex items-center gap-3 px-4 py-3 mx-2 rounded-lg transition-colors no-underline
                ${g(v.path)?"bg-[#0ABAB5] text-white":"text-gray-700 hover:bg-gray-100"}
                ${o?"justify-center":""}
              `,title:o?v.label:void 0,children:[v.icon,!o&&h.jsx("span",{className:"text-sm font-medium",children:v.label})]},v.path))}),h.jsx("div",{className:"border-t border-gray-200 p-4",children:h.jsxs("button",{onClick:y,className:`
              flex items-center gap-3 w-full px-4 py-3 rounded-lg text-red-600 hover:bg-red-50 transition-colors
              ${o?"justify-center":""}
            `,title:o?"Logout":void 0,children:[h.jsx(n1,{size:20}),!o&&h.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})}),h.jsx("button",{onClick:()=>c(!o),className:"hidden lg:flex absolute -right-3 top-24 w-8 h-8 bg-white border border-gray-200 rounded-full items-center justify-center hover:bg-gray-50 transition shadow-sm",children:o?h.jsx(KE,{size:18}):h.jsx(VE,{size:18})})]}),h.jsx("div",{className:`
          ${o?"lg:ml-20":"lg:ml-64"}
          pt-16 lg:pt-0 transition-all duration-300
        `})]})}const j1=()=>h.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[h.jsx(DE,{}),h.jsx(E1,{}),h.jsx("main",{className:"flex flex-col min-h-screen w-full",children:h.jsx(JS,{})})]}),A1="/saisoku-admin/assets/saisoku-wall_2-C4nVa4Fj.jpg",T1=()=>{const r=Kr(),[a,i]=A.useState(""),[s,o]=A.useState(""),[c,f]=A.useState(""),[m,y]=A.useState(!1),[g,v]=A.useState(!1),{refetchAdmin:_}=Oo(),w=async x=>{x.preventDefault(),f(""),y(!0);try{console.log("Attempting admin login"),await Ww({email:a,password:s}),console.log("Admin login successful"),console.log("Fetching admin profile"),await _(),console.log("Admin profile loaded, redirecting..."),r("/admin",{replace:!0})}catch(S){console.error("Admin login error:",S),f(S.message||"Login failed. Please check your credentials or contact support.")}finally{y(!1)}};return h.jsxs("div",{className:"min-h-screen w-full flex flex-col lg:flex-row overflow-hidden",children:[h.jsxs("div",{className:"w-full lg:w-1/2 h-64 sm:h-80 lg:min-h-screen relative",style:{backgroundImage:`url(${A1})`,backgroundSize:"cover",backgroundPosition:"center"},children:[h.jsx("div",{className:"absolute inset-0 bg-black/50"}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsxs("div",{className:"text-white text-center px-4",children:[h.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-4",style:{fontFamily:"Poppins, sans-serif"},children:"Sa'isoku Official"}),h.jsx("p",{className:"text-lg sm:text-xl opacity-90",style:{fontFamily:"Poppins, sans-serif"},children:"Admin Page"})]})})]}),h.jsx("div",{className:"w-full lg:w-1/2 bg-white flex items-center justify-center px-4 sm:px-6 lg:px-8 py-8 sm:py-10 lg:py-12 overflow-y-auto",children:h.jsxs("div",{className:"w-full max-w-md",children:[h.jsx("h1",{className:"text-black text-2xl sm:text-3xl lg:text-4xl font-bold text-center mb-1 sm:mb-2",style:{fontFamily:"Poppins, sans-serif"},children:"Admin Login"}),h.jsx("p",{className:"text-gray-600 text-sm sm:text-base text-center mb-6 sm:mb-8 lg:mb-12",style:{fontFamily:"Poppins, sans-serif"},children:"Enter your credentials to access the admin panel"}),c&&h.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mb-4 text-center text-sm",children:c}),h.jsxs("form",{onSubmit:w,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-black font-medium mb-2",style:{fontFamily:"Poppins, sans-serif"},children:"Email"}),h.jsx("input",{type:"email",placeholder:"Enter your admin email",value:a,onChange:x=>i(x.target.value),className:"w-full px-4 sm:px-5 lg:px-6 py-2.5 sm:py-3 border-gray-200 rounded-full text-sm sm:text-base text-gray-700 border-2 focus:border-[#0ABAB5] focus:outline-none focus:ring-0",style:{fontFamily:"Poppins, sans-serif"},required:!0,autoComplete:"email"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-black font-medium mb-2",style:{fontFamily:"Poppins, sans-serif"},children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:g?"text":"password",placeholder:"Enter your password",value:s,onChange:x=>o(x.target.value),className:"w-full px-4 sm:px-5 lg:px-6 py-2.5 sm:py-3 border-gray-200 rounded-full text-sm sm:text-base text-gray-700 border-2 focus:border-[#0ABAB5] focus:outline-none focus:ring-0",style:{fontFamily:"Poppins, sans-serif"},required:!0,autoComplete:"current-password"}),h.jsx("button",{type:"button",onClick:x=>{x.preventDefault(),x.stopPropagation(),v(!g)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 cursor-pointer","aria-label":g?"Hide password":"Show password",children:g?h.jsx(Jp,{size:18}):h.jsx(Xp,{size:18})})]})]}),h.jsx("button",{type:"submit",disabled:m,className:"w-full bg-[#0ABAB5] text-white font-bold text-lg py-3 rounded-full hover:bg-[#2E8B57] transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed cursor-pointer",style:{fontFamily:"Poppins, sans-serif"},children:m?"Logging in...":"Login"})]}),h.jsx("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg border border-gray-200",children:h.jsx("p",{className:"text-gray-600 text-xs text-center",style:{fontFamily:"Poppins, sans-serif"},children:"This is a secure admin area. All login attempts are monitored and logged."})})]})})]})},N1=async r=>{const{status:a,page:i=0,limit:s=10,searchQuery:o}=r||{};let c=ne.from("orders").select(`
      *,
      order_items (
        id,
        order_id,
        variant_id,
        quantity,
        price_at_purchase,
        variant_snapshot,
        created_at
      )
    `,{count:"exact"}).order("created_at",{ascending:!1});a&&(c=c.eq("status",a)),o&&o.trim()&&(c=c.or(`order_number.ilike.%${o}%,recipient_name.ilike.%${o}%`));const f=i*s,m=f+s-1;c=c.range(f,m);const{data:y,error:g,count:v}=await c;if(g)throw g;const _=v||0,w=Math.ceil(_/s);return{orders:y||[],total:_,page:i,totalPages:w}},R1=async r=>{const{data:a,error:i}=await ne.from("orders").select(`
      *,
      order_items (
        id,
        order_id,
        variant_id,
        quantity,
        price_at_purchase,
        variant_snapshot,
        created_at
      )
    `).eq("id",r).single();if(i)throw i;return a},Fp=async(r,a)=>{const{data:i,error:s}=await ne.from("orders").update({status:a,updated_at:new Date().toISOString()}).eq("id",r).select(`
      *,
      order_items (
        id,
        order_id,
        variant_id,
        quantity,
        price_at_purchase,
        variant_snapshot,
        created_at
      )
    `).single();if(s)throw s;return i},O1=async r=>{const{data:a,error:i}=await ne.from("payment_proofs").select("*").eq("order_id",r).order("uploaded_at",{ascending:!1}).limit(1).maybeSingle();if(i)throw console.error("Error fetching payment proof:",i),i;if(!a)return console.log("No payment proof found for order:",r),null;console.log("Payment proof data:",a);const s="OrderReceipts";let o="";if(a.image_url.includes("/storage/v1/object/public/OrderReceipts/")?o=a.image_url.split("/storage/v1/object/public/OrderReceipts/")[1]:a.image_url.includes("/storage/v1/object/OrderReceipts/")&&(o=a.image_url.split("/storage/v1/object/OrderReceipts/")[1]),!o)return console.error("Could not extract path from URL:",a.image_url),a;console.log("Extracted image path:",o);const{data:c,error:f}=await ne.storage.from(s).createSignedUrl(o,3600);return f?(console.error("Failed to create signed URL:",f),a):(console.log("Signed URL generated successfully"),{...a,image_url:c.signedUrl})},C1=async(r,a)=>{const{data:{user:i}}=await ne.auth.getUser();if(!i)throw new Error("Not authenticated");const{error:s}=await ne.from("payment_proofs").update({status:"verified",verified_at:new Date().toISOString(),verified_by:i.id,admin_notes:a}).eq("order_id",r);if(s)throw s;const{error:o}=await ne.from("orders").update({status:"processing",updated_at:new Date().toISOString()}).eq("id",r);if(o)throw o},k1=async(r,a)=>{const{data:{user:i}}=await ne.auth.getUser();if(!i)throw new Error("Not authenticated");const{error:s}=await ne.from("payment_proofs").update({status:"rejected",verified_at:new Date().toISOString(),verified_by:i.id,admin_notes:a}).eq("order_id",r);if(s)throw s;const{error:o}=await ne.from("orders").update({status:"pending_payment",updated_at:new Date().toISOString()}).eq("id",r);if(o)throw o},D1=async()=>{const{data:r,error:a}=await ne.from("orders").select("status");if(a)throw a;const i={total:r.length,pending_payment:0,payment_uploaded:0,processing:0,shipped:0,delivered:0,cancelled:0};return r.forEach(s=>{const o=s.status;o in i&&i[o]++}),i};function U1(r){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r)}function z1(r){return new Date(r).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})}function M1(){const[r,a]=A.useState([]),[i,s]=A.useState(!0),[o,c]=A.useState("all");A.useEffect(()=>{m()},[o]);const f=["pending_payment","payment_uploaded","processing","shipped","delivered","cancelled"],m=async()=>{try{s(!0);const v=await N1({status:o==="all"?void 0:o});a(v.orders)}catch(g){console.error("Failed to load orders:",g)}finally{s(!1)}},y=async(g,v)=>{try{await Fp(g,v),a(_=>_.map(w=>w.id===g?{...w,status:v}:w))}catch(_){console.error("Failed to update status:",_),alert("Failed to update order status")}};return h.jsxs("div",{className:"p-6 lg:p-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Orders"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all customer orders"})]}),h.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by status:"}),h.jsxs("select",{value:o,onChange:g=>c(g.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[h.jsx("option",{value:"all",children:"All Orders"}),f.map(g=>h.jsx("option",{value:g,children:g.replace(/_/g," ").toUpperCase()},g))]})]}),h.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Order Number"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Customer"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Date"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Total"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200",children:i?h.jsx("tr",{children:h.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"Loading orders..."})}):r.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"No orders found"})}):r.map(g=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4",children:h.jsx(zo,{to:`/admin/orders/${g.id}`,className:"text-blue-600 hover:text-blue-800 font-medium hover:underline",children:g.order_number})}),h.jsx("td",{className:"px-6 py-4 text-gray-900",children:g.recipient_name}),h.jsx("td",{className:"px-6 py-4 text-gray-600 text-sm",children:z1(g.created_at)}),h.jsx("td",{className:"px-6 py-4 text-right font-medium text-gray-900",children:U1(g.total_amount)}),h.jsx("td",{className:"px-6 py-4",children:h.jsx("select",{value:g.status,onChange:v=>y(g.id,v.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:f.map(v=>h.jsx("option",{value:v,children:v.replace(/_/g," ").toUpperCase()},v))})})]},g.id))})]})})}),!i&&r.length>0&&h.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Total: ",h.jsx("span",{className:"font-semibold",children:r.length})," orders"]})]})}const B1=({children:r})=>{const{authUser:a,isAdmin:i,loading:s}=Oo();return s?h.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0ABAB5] mx-auto mb-4"}),h.jsx("div",{className:"text-lg text-gray-600",style:{fontFamily:"Poppins, sans-serif"},children:"Verifying admin access..."})]})}):a?i?h.jsx(h.Fragment,{children:r}):h.jsx(Od,{to:"/",replace:!0}):h.jsx(Od,{to:"/",replace:!0})},L1={pending_payment:"bg-yellow-100 text-yellow-800 border-yellow-300",payment_uploaded:"bg-blue-100 text-blue-800 border-blue-300",processing:"bg-purple-100 text-purple-800 border-purple-300",shipped:"bg-indigo-100 text-indigo-800 border-indigo-300",delivered:"bg-green-100 text-green-800 border-green-300",cancelled:"bg-red-100 text-red-800 border-red-300"},H1=["pending_payment","payment_uploaded","processing","shipped","delivered","cancelled"];function Yy(r){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r)}function Iy(r){return new Date(r).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}function q1(){const r=Kr(),{orderId:a}=qp(),[i,s]=A.useState(null),[o,c]=A.useState(null),[f,m]=A.useState(!0),[y,g]=A.useState(!1),[v,_]=A.useState(null);A.useEffect(()=>{a&&w()},[a]);const w=async()=>{m(!0),_(null);try{const R=await R1(a);s(R);try{const O=await O1(a);c(O)}catch{c(null)}}catch(R){console.error("Failed to load order:",R),_(R.message||"Failed to load order")}finally{m(!1)}},x=async()=>{if(confirm("Approve this payment? Order status will be changed to PROCESSING.")){g(!0);try{await C1(a),await new Promise(R=>setTimeout(R,500)),await w(),alert("Payment approved successfully!")}catch(R){alert(R.message||"Failed to approve payment")}finally{g(!1)}}},S=async()=>{const R=prompt("Reason for rejection (will be shown to customer):");if(R){g(!0);try{await k1(a,R),await w(),alert("Payment rejected. Customer has been notified.")}catch(O){alert(O.message||"Failed to reject payment")}finally{g(!1)}}},T=async R=>{if(confirm(`Change order status to ${R.replace(/_/g," ").toUpperCase()}?`)){g(!0);try{await Fp(a,R),await w()}catch(O){alert(O.message||"Failed to update status")}finally{g(!1)}}};return f?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0ABAB5] mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Loading order..."})]})}):v||!i?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-md max-w-md",children:[h.jsx(An,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Order Not Found"}),h.jsx("p",{className:"text-gray-600 mb-6",children:v||"Order does not exist"}),h.jsx("button",{onClick:()=>r("/admin/orders"),className:"w-full bg-[#0ABAB5] text-white py-3 rounded-lg hover:bg-[#099490] transition",children:"Back to Orders"})]})}):h.jsx("div",{className:"min-h-screen bg-gray-50 p-6 lg:p-6",children:h.jsxs("div",{className:"w-full",children:[h.jsxs("button",{onClick:()=>r("/admin/orders"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6 transition",children:[h.jsx(Jd,{size:20}),h.jsx("span",{className:"font-medium",children:"Back to Orders"})]}),h.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6 border border-gray-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Order ",i.order_number]}),h.jsxs("p",{className:"text-gray-600",children:["Placed on ",Iy(i.created_at)]})]}),h.jsx("select",{value:i.status,onChange:R=>T(R.target.value),disabled:y||o?.status==="pending",className:`px-4 py-2 rounded-lg border-2 font-semibold text-sm cursor-pointer transition ${L1[i.status]} ${o?.status==="pending"?"opacity-50 cursor-not-allowed":""}`,children:H1.map(R=>h.jsx("option",{value:R,children:R.replace(/_/g," ").toUpperCase()},R))})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[h.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(An,{className:"text-[#0ABAB5]",size:24}),h.jsx("h2",{className:"text-xl font-semibold",children:"Order Items"})]}),h.jsx("div",{className:"space-y-4",children:i.order_items.map(R=>h.jsxs("div",{className:"flex gap-4 pb-4 border-b border-gray-100 last:border-0",children:[h.jsx("img",{src:R.variant_snapshot.image_url||"/placeholder.jpg",alt:R.variant_snapshot.variant_name,className:"w-20 h-20 object-cover rounded-lg"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-gray-800",children:R.variant_snapshot.variant_name}),h.jsxs("p",{className:"text-sm text-gray-600",children:[R.variant_snapshot.size&&`Size: ${R.variant_snapshot.size}`,R.variant_snapshot.color&&`  Color: ${R.variant_snapshot.color}`]}),h.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",R.quantity]}),h.jsx("p",{className:"font-bold text-[#0ABAB5]",children:Yy(R.price_at_purchase*R.quantity)})]})]},R.id))}),h.jsx("div",{className:"mt-4 pt-4 border-t",children:h.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[h.jsx("span",{children:"Total Amount"}),h.jsx("span",{className:"text-[#0ABAB5]",children:Yy(i.total_amount)})]})})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(Cd,{className:"text-[#0ABAB5]",size:24}),h.jsx("h2",{className:"text-xl font-semibold",children:"Shipping Address"})]}),h.jsxs("div",{className:"space-y-2 text-gray-700",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Recipient:"})," ",i.recipient_name]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Phone:"})," ",i.phone]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Address:"}),h.jsx("br",{}),i.address,i.address_optional&&`, ${i.address_optional}`,h.jsx("br",{}),i.district,", ",i.city,h.jsx("br",{}),i.region,", ",i.country," ",i.postcode]})]})]})]}),h.jsx("div",{className:"lg:col-span-1",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 sticky top-6",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Payment Proof"}),o?h.jsxs("div",{children:[h.jsx("img",{src:o.image_url,alt:"Payment proof",className:"w-full rounded-lg border border-gray-200 mb-4"}),h.jsxs("div",{className:"mb-4",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Status:"}),h.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${o.status==="pending"?"bg-blue-100 text-blue-800":o.status==="verified"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o.status.toUpperCase()})]}),o.admin_notes&&h.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[h.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Admin Notes:"}),h.jsx("p",{className:"text-sm text-gray-800",children:o.admin_notes})]}),h.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Uploaded: ",Iy(o.uploaded_at)]}),o.status==="pending"&&h.jsxs("div",{className:"space-y-2",children:[h.jsxs("button",{onClick:x,disabled:y,className:"w-full flex items-center justify-center gap-2 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition disabled:opacity-50",children:[h.jsx(Py,{size:18}),"Approve"]}),h.jsxs("button",{onClick:S,disabled:y,className:"w-full flex items-center justify-center gap-2 bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition disabled:opacity-50",children:[h.jsx(Vy,{size:18}),"Reject"]})]}),o.status==="verified"&&h.jsxs("div",{className:"text-center py-3 bg-green-50 rounded-lg",children:[h.jsx(Py,{className:"text-green-600 mx-auto mb-2",size:32}),h.jsx("p",{className:"text-sm font-semibold text-green-800",children:"Payment Verified"})]}),o.status==="rejected"&&h.jsxs("div",{className:"text-center py-3 bg-red-50 rounded-lg",children:[h.jsx(Vy,{className:"text-red-600 mx-auto mb-2",size:32}),h.jsx("p",{className:"text-sm font-semibold text-red-800",children:"Payment Rejected"})]})]}):h.jsxs("div",{className:"text-center py-8",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full mx-auto mb-3 flex items-center justify-center",children:h.jsx(An,{className:"text-gray-400",size:32})}),h.jsx("p",{className:"text-sm text-gray-500",children:"No payment proof uploaded yet"})]})]})})]})]})})}const $1=()=>h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"mb-8",children:h.jsx("img",{src:kd,alt:"Sa'isoku",className:"w-48 mx-auto"})}),h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4",children:"Sorry! Not your fault, we will fix this"}),h.jsx("p",{className:"text-gray-600 text-sm md:text-base mb-8",children:"We're working on something amazing. Please check back soon."}),h.jsx("a",{href:"/admin",className:"inline-block px-6 py-3 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] transition font-semibold",children:"Back to Home"})]})});function P1(){const{admin:r}=Oo(),[a,i]=A.useState({total:0,pending_payment:0,payment_uploaded:0,processing:0,shipped:0,delivered:0,cancelled:0}),[s,o]=A.useState(!0);A.useEffect(()=>{(async()=>{try{const m=await D1();i(m)}catch(m){console.error("Failed to fetch order stats:",m)}finally{o(!1)}})()},[]);const c=f=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(f);return s?h.jsx("div",{className:"p-6 lg:p-8",children:h.jsxs("div",{className:"animate-pulse",children:[h.jsx("div",{className:"h-8 bg-gray-200 rounded w-64 mb-8"}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx("div",{className:"h-48 bg-gray-200 rounded-xl"}),h.jsx("div",{className:"h-48 bg-gray-200 rounded-xl"}),h.jsx("div",{className:"h-48 bg-gray-200 rounded-xl"})]})]})}):h.jsxs("div",{className:"p-6 lg:p-6",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",r?.name||"Admin","!"]}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Here's what's happening with your store today."})]}),h.jsx("div",{className:"mb-6",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 px-4 py-6 hover:shadow-md transition-shadow",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("div",{className:"w-12 h-12 bg-[#0ABAB5] bg-opacity-10 rounded-lg flex items-center justify-center",children:h.jsx(Qp,{className:"text-[#FFFFFF]",size:24})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Orders Overview"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Total orders in system"})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("div",{className:"text-4xl font-bold text-gray-900",children:a.total}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Total Orders"})]}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsxs("div",{className:"bg-yellow-50 rounded-lg p-2 border border-yellow-200 flex-1 min-w-[140px]",children:[h.jsx("div",{className:"text-xl font-bold text-yellow-700",children:a.pending_payment}),h.jsx("div",{className:"text-xs text-yellow-600",children:"Pending Payment"})]}),h.jsxs("div",{className:"bg-blue-50 rounded-lg p-2 border border-blue-200 flex-1 min-w-[140px]",children:[h.jsx("div",{className:"text-xl font-bold text-blue-700",children:a.payment_uploaded}),h.jsx("div",{className:"text-xs text-blue-600",children:"Payment Uploaded"})]}),h.jsxs("div",{className:"bg-purple-50 rounded-lg p-2 border border-purple-200 flex-1 min-w-[140px]",children:[h.jsx("div",{className:"text-xl font-bold text-purple-700",children:a.processing}),h.jsx("div",{className:"text-xs text-purple-600",children:"Processing"})]}),h.jsxs("div",{className:"bg-indigo-50 rounded-lg p-2 border border-indigo-200 flex-1 min-w-[140px]",children:[h.jsx("div",{className:"text-xl font-bold text-indigo-700",children:a.shipped}),h.jsx("div",{className:"text-xs text-indigo-600",children:"Shipped"})]}),h.jsxs("div",{className:"bg-green-50 rounded-lg p-2 border border-green-200 flex-1 min-w-[140px]",children:[h.jsx("div",{className:"text-xl font-bold text-green-700",children:a.delivered}),h.jsx("div",{className:"text-xs text-green-600",children:"Delivered"})]}),h.jsxs("div",{className:"bg-red-50 rounded-lg p-2 border border-red-200 flex-1 min-w-[140px]",children:[h.jsx("div",{className:"text-xl font-bold text-red-700",children:a.cancelled}),h.jsx("div",{className:"text-xs text-red-600",children:"Cancelled"})]})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 px-4 py-6 hover:shadow-md transition-shadow",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-[#0ABAB5] rounded-lg flex items-center justify-center",children:h.jsx(An,{className:"text-[#FFFFFF]",size:24})}),h.jsx("div",{children:h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Products"})})]}),h.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:"-"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Coming soon"}),h.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:h.jsx("p",{className:"text-xs text-gray-500",children:"Product management will be available here"})})]}),h.jsxs("div",{className:"bg-[#0ABAB5]  rounded-xl shadow-sm p-6 text-white hover:shadow-md transition-shadow",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center",children:h.jsx(FE,{className:"text-[#0ABAB5]",size:24})}),h.jsx("div",{children:h.jsx("h2",{className:"text-lg font-semibold",children:"Last Login"})})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm opacity-90",children:"Admin"}),h.jsx("p",{className:"text-lg font-semibold",children:r?.name||"N/A"})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm opacity-90",children:"Email"}),h.jsx("p",{className:"text-sm font-medium",children:r?.email||"N/A"})]}),h.jsxs("div",{className:"pt-3 border-t border-white border-opacity-20",children:[h.jsx("p",{className:"text-xs opacity-75",children:"Account created"}),h.jsx("p",{className:"text-sm font-medium",children:r?.createdAt?c(r.createdAt):"N/A"})]})]})]})]})]})}function V1(r){const a=[];return r.name?.trim()||a.push("Name is required"),r.address?.trim()||a.push("Address is required"),r.city?.trim()||a.push("City is required"),r.phone?.trim()||a.push("Phone is required"),{valid:a.length===0,errors:a}}const G1=async()=>{const{data:r,error:a}=await ne.from("store_locations").select("*").order("is_default",{ascending:!1}).order("created_at",{ascending:!1});if(a)throw a;return r},K1=async r=>{const a=V1(r);if(!a.valid)throw new Error(`Validation failed: ${a.errors.join(", ")}`);const{count:i}=await ne.from("store_locations").select("*",{count:"exact",head:!0}),s=i===0,{data:o,error:c}=await ne.from("store_locations").insert({...r,is_active:r.is_active??!0,is_default:s}).select().single();if(c)throw c;return o},Zp=async(r,a)=>{if(a.is_default===!0){const{error:o}=await ne.from("store_locations").update({is_default:!1}).neq("id",r);if(o)throw o}const{data:i,error:s}=await ne.from("store_locations").update({...a,updated_at:new Date().toISOString()}).eq("id",r).select().single();if(s)throw s;if(!i)throw new Error("Store location not found");return i},Y1=async r=>{const{count:a}=await ne.from("store_locations").select("*",{count:"exact",head:!0});if(a===1)throw new Error("Cannot delete the last store location");const{data:i}=await ne.from("store_locations").select("is_default").eq("id",r).single();if(i?.is_default)throw new Error("Cannot delete the default store location. Please set another location as default first.");const{error:s}=await ne.from("store_locations").delete().eq("id",r);if(s)throw s},I1=async r=>Zp(r,{is_default:!0}),xi={async getAllCategories(){const{data:r,error:a}=await ne.from("categories").select("*").order("name",{ascending:!0});if(a)throw console.error("Error fetching categories:",a),a;return r||[]},async getCategoriesWithCount(){const{data:r,error:a}=await ne.from("categories").select(`
        *,
        products!category_id(count)
      `).order("name",{ascending:!0});if(a)throw console.error("Error fetching categories with count:",a),a;return(r||[]).map(s=>({id:s.id,name:s.name,default_display_mode:s.default_display_mode,created_at:s.created_at,updated_at:s.updated_at,product_count:s.products?.[0]?.count||0}))},async getCategoryById(r){const{data:a,error:i}=await ne.from("categories").select("*").eq("id",r).single();if(i)throw console.error("Error fetching category:",i),i;return a},async createCategory(r){const{data:a}=await ne.from("categories").select("id").ilike("name",r.name).single();if(a)throw new Error(`Category "${r.name}" already exists`);const{data:i,error:s}=await ne.from("categories").insert({name:r.name.trim(),default_display_mode:r.default_display_mode}).select().single();if(s)throw console.error("Error creating category:",s),s;return i},async updateCategory(r,a){if(a.name){const{data:c}=await ne.from("categories").select("id").ilike("name",a.name).neq("id",r).single();if(c)throw new Error(`Category "${a.name}" already exists`)}const i={};a.name!==void 0&&(i.name=a.name.trim()),a.default_display_mode!==void 0&&(i.default_display_mode=a.default_display_mode);const{data:s,error:o}=await ne.from("categories").update(i).eq("id",r).select().single();if(o)throw console.error("Error updating category:",o),o;return s},async deleteCategory(r){const{count:a,error:i}=await ne.from("products").select("id",{count:"exact",head:!0}).eq("category_id",r);if(i)throw console.error("Error checking category usage:",i),i;if(a&&a>0)throw new Error(`Cannot delete category. It has ${a} product(s) assigned to it.`);const{error:s}=await ne.from("categories").delete().eq("id",r);if(s)throw console.error("Error deleting category:",s),s}};function J1(){const[r,a]=A.useState("categories"),[i,s]=A.useState([]),[o,c]=A.useState(!0),[f,m]=A.useState(!1),[y,g]=A.useState(null),[v,_]=A.useState(!1),[w,x]=A.useState({name:"",address:"",city:"",region:"",district:"",postcode:"",phone:"",email:"",maps_url:"",is_active:!0}),[S,T]=A.useState([]),[R,O]=A.useState(!0),[D,B]=A.useState(!1),[Q,se]=A.useState(null),[re,k]=A.useState(!1),[te,de]=A.useState({name:"",default_display_mode:"individual"});A.useEffect(()=>{Ce(),F()},[]);const Ce=async()=>{c(!0);try{const M=await G1();s(M)}catch(M){console.error("Failed to load locations:",M),alert("Failed to load locations")}finally{c(!1)}},Re=M=>{g(M.id),x({name:M.name,address:M.address,city:M.city,region:M.region||"",district:M.district||"",postcode:M.postcode||"",phone:M.phone,email:M.email||"",maps_url:M.maps_url||"",is_active:M.is_active}),_(!1)},ke=()=>{_(!0),g(null),x({name:"",address:"",city:"",region:"",district:"",postcode:"",phone:"",email:"",maps_url:"",is_active:!0})},X=()=>{g(null),_(!1),x({name:"",address:"",city:"",region:"",district:"",postcode:"",phone:"",email:"",maps_url:"",is_active:!0})},be=async()=>{if(!w.name||!w.address||!w.city||!w.phone){alert("Please fill in all required fields (Name, Address, City, Phone)");return}m(!0);try{v?(await K1(w),alert("Location added successfully!")):y&&(await Zp(y,w),alert("Location updated successfully!")),X(),await Ce()}catch(M){console.error("Failed to save location:",M),alert(M.message||"Failed to save location")}finally{m(!1)}},pe=async M=>{if(confirm("Are you sure you want to delete this location?"))try{await Y1(M),alert("Location deleted successfully!"),await Ce()}catch(W){console.error("Failed to delete location:",W),alert(W.message||"Failed to delete location")}},q=async M=>{try{await I1(M),alert("Default location updated!"),await Ce()}catch(W){console.error("Failed to set default location:",W),alert(W.message||"Failed to set default location")}},F=async()=>{O(!0);try{const M=await xi.getCategoriesWithCount();T(M)}catch(M){console.error("Failed to load categories:",M),alert("Failed to load categories")}finally{O(!1)}},ee=M=>{se(M.id),de({name:M.name,default_display_mode:M.default_display_mode}),k(!1)},ve=()=>{k(!0),se(null),de({name:"",default_display_mode:"individual"})},Ee=()=>{se(null),k(!1),de({name:"",default_display_mode:"individual"})},N=async()=>{if(!te.name.trim()){alert("Please enter a category name");return}B(!0);try{re?(await xi.createCategory({name:te.name.trim(),default_display_mode:te.default_display_mode}),alert("Category added successfully!")):Q&&(await xi.updateCategory(Q,{name:te.name.trim(),default_display_mode:te.default_display_mode}),alert("Category updated successfully!")),Ee(),await F()}catch(M){console.error("Failed to save category:",M),alert(M.message||"Failed to save category")}finally{B(!1)}},G=async(M,W)=>{if(W>0){alert(`Cannot delete this category. It has ${W} product(s) assigned to it.`);return}if(confirm("Are you sure you want to delete this category?"))try{await xi.deleteCategory(M),alert("Category deleted successfully!"),await F()}catch(fe){console.error("Failed to delete category:",fe),alert(fe.message||"Failed to delete category")}};return o&&r==="location"?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsx(Ha,{className:"w-12 h-12 text-[#0ABAB5] animate-spin"})}):h.jsx("div",{className:"min-h-screen bg-gray-50 p-4 lg:p-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),h.jsx("p",{className:"text-gray-600",children:"Manage your store configuration"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[h.jsx("div",{className:"lg:col-span-1",children:h.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:h.jsxs("nav",{className:"space-y-1",children:[h.jsxs("button",{onClick:()=>a("categories"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition ${r==="categories"?"bg-[#0ABAB5] text-white":"text-gray-700 hover:bg-gray-100"}`,children:[h.jsx(Ky,{size:20}),h.jsx("span",{className:"font-medium",children:"Categories"})]}),h.jsxs("button",{onClick:()=>a("location"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition ${r==="location"?"bg-[#0ABAB5] text-white":"text-gray-700 hover:bg-gray-100"}`,children:[h.jsx(Cd,{size:20}),h.jsx("span",{className:"font-medium",children:"Store Location"})]})]})})}),h.jsxs("div",{className:"lg:col-span-3",children:[r==="categories"&&h.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Product Categories"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product categories and their default display modes."})]}),h.jsxs("button",{onClick:ve,className:"flex items-center gap-2 px-4 py-2 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] transition",children:[h.jsx(jo,{size:20}),h.jsx("span",{className:"hidden sm:inline",children:"Add Category"})]})]}),(re||Q)&&h.jsxs("div",{className:"p-6 bg-blue-50 border-b border-blue-200",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:re?"Add New Category":"Edit Category"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category Name *"}),h.jsx("input",{type:"text",value:te.name,onChange:M=>de({...te,name:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"e.g., Tas, Boneka, Gelang"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Display Mode *"}),h.jsxs("select",{value:te.default_display_mode,onChange:M=>de({...te,default_display_mode:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5] bg-white",children:[h.jsx("option",{value:"individual",children:"Individual (Each variant shown separately)"}),h.jsx("option",{value:"grouped",children:"Grouped (Variants grouped by product)"})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This sets the default display mode for products in this category."})]})]}),h.jsxs("div",{className:"flex gap-3 mt-6",children:[h.jsxs("button",{onClick:N,disabled:D,className:"flex items-center gap-2 px-6 py-2 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] transition disabled:opacity-50",children:[D?h.jsx(Ha,{size:20,className:"animate-spin"}):h.jsx(Ao,{size:20}),"Save Category"]}),h.jsxs("button",{onClick:Ee,disabled:D,className:"flex items-center gap-2 px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition",children:[h.jsx(To,{size:20}),"Cancel"]})]})]}),h.jsx("div",{className:"p-6",children:R?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx(Ha,{className:"w-8 h-8 text-[#0ABAB5] animate-spin"})}):S.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Ky,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"No categories added yet"}),h.jsx("button",{onClick:ve,className:"mt-4 px-6 py-2 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] transition",children:"Add Your First Category"})]}):h.jsx("div",{className:"space-y-4",children:S.map(M=>h.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:M.name}),h.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${M.default_display_mode==="grouped"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:M.default_display_mode==="grouped"?"Grouped":"Individual"})]}),h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[h.jsx(An,{size:16}),h.jsxs("span",{children:[M.product_count," product(s)"]})]})]}),h.jsxs("div",{className:"flex gap-2 ml-4",children:[h.jsx("button",{onClick:()=>ee(M),className:"p-2 text-[#0ABAB5] hover:bg-teal-50 rounded-lg transition",title:"Edit category",children:h.jsx(Eo,{size:20})}),h.jsx("button",{onClick:()=>G(M.id,M.product_count),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:M.product_count>0,title:M.product_count>0?"Cannot delete category with products":"Delete category",children:h.jsx(ql,{size:20})})]})]})},M.id))})})]}),r==="location"&&h.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Store Locations"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your store locations. The default location is used for courier calculations."})]}),h.jsxs("button",{onClick:ke,className:"flex items-center gap-2 px-4 py-2 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] transition",children:[h.jsx(jo,{size:20}),h.jsx("span",{className:"hidden sm:inline",children:"Add Location"})]})]}),(v||y)&&h.jsxs("div",{className:"p-6 bg-blue-50 border-b border-blue-200",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:v?"Add New Location":"Edit Location"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Store Name *"}),h.jsx("input",{type:"text",value:w.name||"",onChange:M=>x({...w,name:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"Main Store"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),h.jsx("input",{type:"tel",value:w.phone||"",onChange:M=>x({...w,phone:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"+628123456789"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsx("input",{type:"email",value:w.email||"",onChange:M=>x({...w,email:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"store@example.com"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),h.jsx("input",{type:"text",value:w.city||"",onChange:M=>x({...w,city:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"Jakarta"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Region/Province"}),h.jsx("input",{type:"text",value:w.region||"",onChange:M=>x({...w,region:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"DKI Jakarta"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"District"}),h.jsx("input",{type:"text",value:w.district||"",onChange:M=>x({...w,district:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"Menteng"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code"}),h.jsx("input",{type:"text",value:w.postcode||"",onChange:M=>x({...w,postcode:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"10310"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Google Maps URL"}),h.jsx("input",{type:"url",value:w.maps_url||"",onChange:M=>x({...w,maps_url:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"https://maps.google.com/..."})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),h.jsx("textarea",{value:w.address||"",onChange:M=>x({...w,address:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",rows:2,placeholder:"Jl. Merdeka No. 123"})]})]}),h.jsxs("div",{className:"flex gap-3 mt-6",children:[h.jsxs("button",{onClick:be,disabled:f,className:"flex items-center gap-2 px-6 py-2 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] transition disabled:opacity-50",children:[f?h.jsx(Ha,{size:20,className:"animate-spin"}):h.jsx(Ao,{size:20}),"Save Changes"]}),h.jsxs("button",{onClick:X,disabled:f,className:"flex items-center gap-2 px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition",children:[h.jsx(To,{size:20}),"Cancel"]})]})]}),h.jsx("div",{className:"p-6",children:i.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Cd,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"No locations added yet"}),h.jsx("button",{onClick:ke,className:"mt-4 px-6 py-2 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] transition",children:"Add Your First Location"})]}):h.jsx("div",{className:"space-y-4",children:i.map(M=>h.jsx("div",{className:`border rounded-lg p-4 ${M.is_default?"border-[#0ABAB5] bg-teal-50":"border-gray-200"}`,children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:M.name}),M.is_default&&h.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-[#0ABAB5] text-white text-xs rounded-full",children:[h.jsx(Gy,{size:12}),"Default"]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600",children:[h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"Address:"})," ",M.address]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"City:"})," ",M.city]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"Phone:"})," ",M.phone]})]})]}),h.jsxs("div",{className:"flex gap-2 ml-4",children:[!M.is_default&&h.jsx("button",{onClick:()=>q(M.id),className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded-lg transition",children:h.jsx(Gy,{size:20})}),h.jsx("button",{onClick:()=>Re(M),className:"p-2 text-[#0ABAB5] hover:bg-teal-50 rounded-lg transition",children:h.jsx(Eo,{size:20})}),h.jsx("button",{onClick:()=>pe(M.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition disabled:opacity-50",disabled:M.is_default,children:h.jsx(ql,{size:20})})]})]})},M.id))})})]})]})]})]})})}const ba={async getAllProductsAdmin(){const{data:r,error:a}=await ne.from("products").select(`
        *,
        variants (*),
        categories!category_id (
          name
        )
      `).order("created_at",{ascending:!1});if(a)throw console.error("Error fetching products:",a),a;return(r||[]).map(i=>({...i,category_name:i.categories?.name||null}))},async createProduct(r){const{data:a,error:i}=await ne.from("products").insert({name:r.name,category_id:r.category_id,description:r.description,description_english:r.description_english,display_mode:r.display_mode||"individual",is_featured:r.is_featured||!1,is_active:r.is_active!==void 0?r.is_active:!0}).select().single();if(i)throw console.error("Error creating product:",i),i;return a},async updateProduct(r,a){const i={};a.name!==void 0&&(i.name=a.name),a.category_id!==void 0&&(i.category_id=a.category_id),a.description!==void 0&&(i.description=a.description),a.description_english!==void 0&&(i.description_english=a.description_english),a.display_mode!==void 0&&(i.display_mode=a.display_mode),a.is_featured!==void 0&&(i.is_featured=a.is_featured),a.is_active!==void 0&&(i.is_active=a.is_active);const{data:s,error:o}=await ne.from("products").update(i).eq("id",r).select().single();if(o)throw console.error("Error updating product:",o),o;return s},async deleteProduct(r){const{count:a}=await ne.from("variants").select("id",{count:"exact",head:!0}).eq("product_id",r);if(a&&a>0)throw new Error(`Cannot delete product. It has ${a} variant(s). Delete variants first.`);const{error:i}=await ne.from("products").delete().eq("id",r);if(i)throw console.error("Error deleting product:",i),i},async createVariant(r){const{data:a,error:i}=await ne.from("variants").insert({product_id:r.product_id,sku:r.sku,variant_name:r.variant_name,size:r.size,color:r.color,color_hex:r.color_hex,price:r.price,stock:r.stock,image_url:r.image_url,is_active:r.is_active!==void 0?r.is_active:!0}).select().single();if(i)throw console.error("Error creating variant:",i),i;return a},async updateVariant(r,a){const i={};a.sku!==void 0&&(i.sku=a.sku),a.variant_name!==void 0&&(i.variant_name=a.variant_name),a.size!==void 0&&(i.size=a.size),a.color!==void 0&&(i.color=a.color),a.color_hex!==void 0&&(i.color_hex=a.color_hex),a.price!==void 0&&(i.price=a.price),a.stock!==void 0&&(i.stock=a.stock),a.image_url!==void 0&&(i.image_url=a.image_url),a.is_active!==void 0&&(i.is_active=a.is_active);const{data:s,error:o}=await ne.from("variants").update(i).eq("id",r).select().single();if(o)throw console.error("Error updating variant:",o),o;return s},async deleteVariant(r){const{error:a}=await ne.from("variant_images").delete().eq("variant_id",r);a&&console.error("Error deleting variant images:",a);const{error:i}=await ne.from("variants").delete().eq("id",r);if(i)throw console.error("Error deleting variant:",i),i},async uploadVariantImage(r,a,i=0,s=!1){const o=a.name.split(".").pop(),f=`variant-images/${`${r}/${Date.now()}.${o}`}`,{error:m}=await ne.storage.from("saisokuphotos").upload(f,a);if(m)throw console.error("Error uploading image:",m),m;const{data:y,error:g}=await ne.storage.from("saisokuphotos").createSignedUrl(f,31536e4);if(g)throw console.error("Error creating signed URL:",g),g;s&&await ne.from("variant_images").update({is_primary:!1}).eq("variant_id",r);const{data:v,error:_}=await ne.from("variant_images").insert({variant_id:r,image_url:y.signedUrl,display_order:i,is_primary:s}).select().single();if(_)throw console.error("Error creating image record:",_),_;return s&&await ne.from("variants").update({image_url:y.signedUrl}).eq("id",r),v},async updateVariantImage(r,a){const i={};a.display_order!==void 0&&(i.display_order=a.display_order),a.is_primary!==void 0&&(i.is_primary=a.is_primary);const{data:s,error:o}=await ne.from("variant_images").update(i).eq("id",r).select().single();if(o)throw console.error("Error updating image:",o),o;return s},async setPrimaryImage(r,a){await ne.from("variant_images").update({is_primary:!1}).eq("variant_id",a);const{data:i,error:s}=await ne.from("variant_images").update({is_primary:!0}).eq("id",r).select("image_url").single();if(s)throw console.error("Error setting primary image:",s),s;await ne.from("variants").update({image_url:i.image_url}).eq("id",a)},async deleteVariantImage(r,a,i){const{data:s}=await ne.from("variant_images").select("is_primary").eq("id",r).single();try{const c=a.match(/variant-images\/.+?(?=\?)/);c&&await ne.storage.from("saisokuphotos").remove([c[0]])}catch(c){console.error("Error deleting from storage:",c)}const{error:o}=await ne.from("variant_images").delete().eq("id",r);if(o)throw o;if(s?.is_primary){const{data:c}=await ne.from("variant_images").select("image_url").eq("variant_id",i).order("display_order").limit(1);await ne.from("variants").update({image_url:c?.[0]?.image_url||null}).eq("id",i)}},async getVariantImages(r){const{data:a,error:i}=await ne.from("variant_images").select("*").eq("variant_id",r).order("display_order",{ascending:!0});if(i)throw console.error("Error fetching variant images:",i),i;return a||[]}};function X1(){const r=Kr(),[a,i]=A.useState([]),[s,o]=A.useState(!0),[c,f]=A.useState(null),[m,y]=A.useState(""),[g,v]=A.useState("all");A.useEffect(()=>{_()},[]);const _=async()=>{o(!0);try{const O=await ba.getAllProductsAdmin();i(O)}catch(O){console.error("Failed to load products:",O),alert("Failed to load products")}finally{o(!1)}},w=async(O,D)=>{if(confirm(`Delete product "${D}"? This cannot be undone.`))try{await ba.deleteProduct(O),alert("Product deleted successfully!"),_()}catch(B){console.error("Failed to delete product:",B),alert(B.message||"Failed to delete product")}},x=O=>{f(c===O?null:O)},S=O=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(O),T=["all",...new Set(a.map(O=>O.category_name).filter(Boolean))],R=a.filter(O=>{const D=O.name.toLowerCase().includes(m.toLowerCase()),B=g==="all"||O.category_name===g;return D&&B});return s?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsx(Ha,{className:"w-12 h-12 text-[#0ABAB5] animate-spin"})}):h.jsx("div",{className:"min-h-screen bg-gray-50 p-4 lg:p-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Products"}),h.jsx("p",{className:"text-gray-600",children:"Manage your product catalog and variants"})]}),h.jsxs("button",{onClick:()=>r("/admin/products/new"),className:"flex items-center gap-2 px-6 py-3 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] transition font-semibold",children:[h.jsx(jo,{size:20}),"Add Product"]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[h.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[h.jsx("div",{className:"flex-1",children:h.jsx("input",{type:"text",placeholder:"Search products...",value:m,onChange:O=>y(O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5] focus:border-transparent"})}),h.jsx("div",{children:h.jsx("select",{value:g,onChange:O=>v(O.target.value),className:"w-full md:w-48 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5] bg-white",children:T.map(O=>h.jsx("option",{value:O,children:O==="all"?"All Categories":O},O))})})]}),h.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Showing ",R.length," of ",a.length," products"]})]}),h.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:R.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(An,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600 mb-2",children:"No products found"}),h.jsx("button",{onClick:()=>r("/admin/products/new"),className:"mt-4 px-6 py-2 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] transition",children:"Add Your First Product"})]}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Variants"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Display Mode"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200",children:R.map(O=>{const D=c===O.id,B=O.variants.reduce((Q,se)=>Q+se.stock,0);return h.jsxs(h.Fragment,{children:[h.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:()=>x(O.id),className:"text-gray-400 hover:text-gray-600",children:D?h.jsx(IE,{size:20}):h.jsx($E,{size:20})}),h.jsxs("div",{children:[h.jsx("div",{className:"font-medium text-gray-900",children:O.name}),O.is_featured&&h.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full",children:"Featured"})]})]})}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:O.category_name||"-"}),h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"text-sm",children:[h.jsxs("div",{className:"font-medium text-gray-900",children:[O.variants.length," variant(s)"]}),h.jsxs("div",{className:"text-gray-500",children:["Stock: ",B]})]})}),h.jsx("td",{className:"px-6 py-4",children:h.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${O.display_mode==="grouped"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:O.display_mode==="grouped"?"Grouped":"Individual"})}),h.jsx("td",{className:"px-6 py-4",children:O.is_active?h.jsxs("span",{className:"flex items-center gap-1 text-green-600 text-sm",children:[h.jsx(Xp,{size:16}),"Active"]}):h.jsxs("span",{className:"flex items-center gap-1 text-gray-400 text-sm",children:[h.jsx(Jp,{size:16}),"Inactive"]})}),h.jsx("td",{className:"px-6 py-4 text-right",children:h.jsxs("div",{className:"flex items-center justify-end gap-2",children:[h.jsx("button",{onClick:()=>r(`/admin/products/${O.id}/edit`),className:"p-2 text-[#0ABAB5] hover:bg-teal-50 rounded-lg transition",title:"Edit product",children:h.jsx(Eo,{size:18})}),h.jsx("button",{onClick:()=>w(O.id,O.name),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete product",children:h.jsx(ql,{size:18})})]})})]},O.id),D&&h.jsx("tr",{children:h.jsx("td",{colSpan:6,className:"px-6 py-4 bg-gray-50",children:h.jsxs("div",{className:"space-y-2",children:[h.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Variants (",O.variants.length,")"]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:O.variants.map(Q=>h.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-medium text-sm text-gray-900",children:Q.variant_name}),h.jsxs("div",{className:"text-xs text-gray-500",children:["SKU: ",Q.sku]})]}),Q.color_hex&&h.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-gray-300",style:{backgroundColor:Q.color_hex}})]}),h.jsxs("div",{className:"flex items-center justify-between text-xs",children:[h.jsx("span",{className:"text-[#0ABAB5] font-semibold",children:S(Q.price)}),h.jsxs("span",{className:`${Q.stock>10?"text-green-600":Q.stock>0?"text-orange-600":"text-red-600"}`,children:["Stock: ",Q.stock]})]})]},Q.id))})]})})})]})})})]})})})]})})}const Jy={Tas:"grouped",Boneka:"individual",Gelang:"grouped",Gantungan:"individual"},Q1={async getAllProducts(r){let a=ne.from("products").select(`
        *,
        variants (*)
      `).eq("is_active",!0);r?.category&&(a=a.eq("category",r.category));const{data:i,error:s}=await a;if(s)throw console.error("Error fetching products:",s),s;return i||[]},async getProductById(r){const{data:a,error:i}=await ne.from("products").select(`
      *,
      variants (
        *,
        images:variant_images(*)
      )
    `).eq("id",r).eq("is_active",!0).single();if(i)throw console.error("Error fetching product:",i),i;return a&&a.variants&&a.variants.forEach(s=>{s.images&&Array.isArray(s.images)&&s.images.sort((o,c)=>o.display_order-c.display_order)}),a},async getProductByVariantId(r){const{data:a,error:i}=await ne.from("variants").select("product_id").eq("id",r).single();if(i||!a)throw console.error("Error fetching variant:",i),i;const{data:s,error:o}=await ne.from("products").select(`
      *,
      variants (
        *,
        images:variant_images(*)
      )
    `).eq("id",a.product_id).eq("is_active",!0).single();if(o)throw console.error("Error fetching product:",o),o;return s&&s.variants&&s.variants.forEach(c=>{c.images&&Array.isArray(c.images)&&c.images.sort((f,m)=>f.display_order-m.display_order)}),s},async getProductBySku(r){const{data:a,error:i}=await ne.from("variants").select(`
        *,
        products (
          *,
          variants (*)
        )
      `).eq("sku",r).single();if(i)throw console.error("Error fetching product by SKU:",i),i;return a?.products||null},async getProductsByCategory(r){const{data:a,error:i}=await ne.from("products").select(`
        *,
        variants (*)
      `).eq("category",r).eq("is_active",!0);if(i)throw console.error("Error fetching products by category:",i),i;return a||[]},async getVariantsByProductId(r){const{data:a,error:i}=await ne.from("variants").select("*").eq("product_id",r).eq("is_active",!0);if(i)throw console.error("Error fetching variants:",i),i;return a||[]},async updateVariantStock(r,a){const{data:i,error:s}=await ne.from("variants").update({stock:a}).eq("id",r).select().single();if(s)throw console.error("Error updating stock:",s),s;return i},async decreaseVariantStock(r,a){const{data:i,error:s}=await ne.from("variants").select("stock").eq("id",r).single();if(s)throw console.error("Error fetching variant stock:",s),s;const o=Math.max(0,i.stock-a),{data:c,error:f}=await ne.from("variants").update({stock:o}).eq("id",r).select().single();if(f)throw console.error("Error decreasing stock:",f),f;return c},async getCategories(){const{data:r,error:a}=await ne.from("products").select("category").eq("is_active",!0);if(a)throw console.error("Error fetching categories:",a),a;return[...new Set(r?.map(s=>s.category).filter(Boolean))]},async searchProducts(r){const{data:a,error:i}=await ne.from("products").select(`
        *,
        variants (*)
      `).ilike("name",`%${r}%`).eq("is_active",!0);if(i)throw console.error("Error searching products:",i),i;return a||[]},async getVariantsPaginated(r){const{page:a,size:i,category:s,sortBy:o,search:c,featured:f}=r;let m=ne.from("variants").select(`
        *,
        products!inner (*),
        images:variant_images(*)
      `,{count:"exact"}).eq("is_active",!0).eq("products.is_active",!0);switch(s&&s!=="all"&&(m=m.eq("products.category",s)),c&&(m=m.ilike("variant_name",`%${c}%`)),f&&(m=m.eq("products.is_featured",!0)),o){case"price-low":m=m.order("price",{ascending:!0});break;case"price-high":m=m.order("price",{ascending:!1});break;case"newest":m=m.order("created_at",{ascending:!1});break;default:m=m.order("variant_name",{ascending:!0});break}const y=a*i,g=y+i-1;m=m.range(y,g);const{data:v,error:_,count:w}=await m;if(_)throw console.error("Error fetching variants:",_),_;return{data:(v||[]).map(S=>(S.images&&Array.isArray(S.images)&&S.images.sort((T,R)=>T.display_order-R.display_order),{...S,products:Array.isArray(S.products)?S.products[0]:S.products})),total:w||0}},async getProductsGroupedPaginated(r){const{page:a,size:i,category:s,sortBy:o}=r,{data:c}=await this.getVariantsPaginated({...r,page:0,size:1e3}),f=!s||s==="all",m=s&&s!=="all"?Jy[s]||"individual":null;if(m==="individual"){const x=a*i,S=x+i;return{data:c.slice(x,S).map(R=>({...R,isGrouped:!1})),total:c.length,displayMode:"individual"}}const y=[],g=new Set;c.forEach(x=>{const S=x.product_id;if(g.has(S))return;const T=Array.isArray(x.products)?x.products[0]:x.products;if(T?.display_mode?T.display_mode==="grouped":Jy[T?.category||""]==="grouped"){const O=c.filter(B=>B.product_id===S),D=O.map(B=>B.price);y.push({product:T,variants:O,primaryVariant:O[0],priceRange:{min:Math.min(...D),max:Math.max(...D)},isGrouped:!0}),g.add(S)}else y.push({...x,isGrouped:!1}),g.add(S)}),y.sort((x,S)=>{let T,R;return o==="price-low"||o==="price-high"?(T=x.isGrouped?x.priceRange.min:x.price,R=S.isGrouped?S.priceRange.min:S.price,o==="price-low"?T-R:R-T):o==="newest"?(T=x.isGrouped?x.primaryVariant.created_at:x.created_at,R=S.isGrouped?S.primaryVariant.created_at:S.created_at,new Date(R).getTime()-new Date(T).getTime()):(T=x.isGrouped?x.product.name:x.variant_name,R=S.isGrouped?S.product.name:S.variant_name,T.localeCompare(R))});const v=a*i,_=v+i;return{data:y.slice(v,_),total:y.length,displayMode:f?"mixed":m==="grouped"?"grouped":"individual"}}};function F1(){const{id:r}=qp(),a=Kr(),[i,s]=A.useState(null),[o,c]=A.useState([]),[f,m]=A.useState(!0),[y,g]=A.useState(!1),[v,_]=A.useState(null),[w,x]=A.useState(!1),[S,T]=A.useState({sku:"",variant_name:"",size:"",color:"",color_hex:"",price:0,stock:0}),[R,O]=A.useState(null),[D,B]=A.useState({name:"",category_id:"",description:"",description_english:"",display_mode:"individual",is_featured:!1,is_active:!0});A.useEffect(()=>{Q()},[r]);const Q=async()=>{if(r){m(!0);try{const[X,be]=await Promise.all([Q1.getProductById(r),xi.getAllCategories()]);X&&(s(X),B({name:X.name,category_id:X.category_id||"",description:X.description||"",description_english:X.description_english||"",display_mode:X.display_mode||"individual",is_featured:X.is_featured,is_active:X.is_active})),c(be)}catch(X){console.error("Failed to load data:",X),alert("Failed to load product")}finally{m(!1)}}},se=async()=>{if(r){g(!0);try{await ba.updateProduct(r,D),alert("Product updated!"),Q()}catch(X){alert(X.message||"Failed to update product")}finally{g(!1)}}},re=()=>{x(!0),_(null),T({sku:"",variant_name:"",size:"",color:"",color_hex:"",price:0,stock:0})},k=X=>{_(X.id),x(!1),T({sku:X.sku,variant_name:X.variant_name,size:X.size||"",color:X.color||"",color_hex:X.color_hex||"",price:X.price,stock:X.stock})},te=async()=>{if(r){g(!0);try{w?(await ba.createVariant({product_id:r,...S}),alert("Variant added!")):v&&(await ba.updateVariant(v,S),alert("Variant updated!")),x(!1),_(null),Q()}catch(X){alert(X.message||"Failed to save variant")}finally{g(!1)}}},de=async X=>{if(confirm("Delete this variant?"))try{await ba.deleteVariant(X),alert("Variant deleted!"),Q()}catch(be){alert(be.message||"Failed to delete variant")}},Ce=async(X,be)=>{O(X);try{const pe=await ba.getVariantImages(X),q=pe.length>0,F=Array.from(be).map((ee,ve)=>ba.uploadVariantImage(X,ee,pe.length+ve,!q&&ve===0));await Promise.all(F),alert(`${be.length} image(s) uploaded!`),Q()}catch(pe){alert(pe.message||"Failed to upload images")}finally{O(null)}},Re=async(X,be,pe)=>{if(confirm("Delete this image?"))try{await ba.deleteVariantImage(X,be,pe),alert("Image deleted!"),Q()}catch(q){alert(q.message||"Failed to delete image")}},ke=async(X,be)=>{try{await ba.setPrimaryImage(X,be),alert("Primary image updated!"),Q()}catch(pe){alert(pe.message||"Failed to set primary")}};return f?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsx(Ha,{className:"w-12 h-12 text-[#0ABAB5] animate-spin"})}):i?h.jsx("div",{className:"min-h-screen bg-gray-50 p-4 lg:p-6",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsxs("div",{className:"mb-6",children:[h.jsxs("button",{onClick:()=>a("/admin/products"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[h.jsx(Jd,{size:20}),"Back to Products"]}),h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Edit Product"})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Product Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),h.jsx("input",{type:"text",value:D.name,onChange:X=>B({...D,name:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),h.jsx("select",{value:D.category_id,onChange:X=>B({...D,category_id:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5] bg-white",children:o.map(X=>h.jsx("option",{value:X.id,children:X.name},X.id))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Mode"}),h.jsxs("select",{value:D.display_mode,onChange:X=>B({...D,display_mode:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5] bg-white",children:[h.jsx("option",{value:"individual",children:"Individual"}),h.jsx("option",{value:"grouped",children:"Grouped"})]})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),h.jsx("textarea",{value:D.description,onChange:X=>B({...D,description:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",rows:3})]}),h.jsxs("div",{className:"md:col-span-2 flex gap-4",children:[h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",checked:D.is_featured,onChange:X=>B({...D,is_featured:X.target.checked}),className:"w-4 h-4 text-[#0ABAB5] border-gray-300 rounded"}),"Featured"]}),h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",checked:D.is_active,onChange:X=>B({...D,is_active:X.target.checked}),className:"w-4 h-4 text-[#0ABAB5] border-gray-300 rounded"}),"Active"]})]})]}),h.jsxs("button",{onClick:se,disabled:y,className:"mt-4 flex items-center gap-2 px-6 py-2 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] disabled:opacity-50",children:[y?h.jsx(Ha,{size:20,className:"animate-spin"}):h.jsx(Ao,{size:20}),"Save Product"]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Variants (",i.variants.length,")"]}),h.jsxs("button",{onClick:re,className:"flex items-center gap-2 px-4 py-2 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490]",children:[h.jsx(jo,{size:20}),"Add Variant"]})]}),(w||v)&&h.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[h.jsx("h3",{className:"font-semibold mb-3",children:w?"Add New Variant":"Edit Variant"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1",children:"SKU *"}),h.jsx("input",{type:"text",value:S.sku,onChange:X=>T({...S,sku:X.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name *"}),h.jsx("input",{type:"text",value:S.variant_name,onChange:X=>T({...S,variant_name:X.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price *"}),h.jsx("input",{type:"number",value:S.price,onChange:X=>T({...S,price:parseFloat(X.target.value)||0}),className:"w-full px-3 py-2 border rounded-lg"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1",children:"Stock *"}),h.jsx("input",{type:"number",value:S.stock,onChange:X=>T({...S,stock:parseInt(X.target.value)||0}),className:"w-full px-3 py-2 border rounded-lg"})]})]}),h.jsxs("div",{className:"flex gap-2 mt-3",children:[h.jsx("button",{onClick:te,disabled:y,className:"px-4 py-2 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] disabled:opacity-50",children:y?"Saving...":"Save Variant"}),h.jsx("button",{onClick:()=>{x(!1),_(null)},className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"})]})]}),h.jsx("div",{className:"space-y-3",children:i.variants.map(X=>h.jsxs("div",{className:"border rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium",children:X.variant_name}),h.jsxs("p",{className:"text-sm text-gray-600",children:["SKU: ",X.sku]}),h.jsxs("p",{className:"text-sm",children:["Price: Rp ",X.price.toLocaleString()," | Stock:"," ",X.stock]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>k(X),className:"p-2 text-[#0ABAB5] hover:bg-teal-50 rounded-lg",title:"Edit variant",children:h.jsx(Eo,{size:18})}),h.jsx("button",{onClick:()=>de(X.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Delete variant",children:h.jsx(ql,{size:18})})]})]}),h.jsx("div",{className:"mb-3",children:h.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 cursor-pointer w-fit",children:[R===X.id?h.jsxs(h.Fragment,{children:[h.jsx(Ha,{size:18,className:"animate-spin"}),"Uploading..."]}):h.jsxs(h.Fragment,{children:[h.jsx(b1,{size:18}),"Upload Images"]}),h.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",disabled:R===X.id,onChange:be=>{const pe=be.target.files;pe&&pe.length>0&&Ce(X.id,pe)}})]})}),X.images&&X.images.length>0&&h.jsxs("div",{children:[h.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:["Images (",X.images.length,")"]}),h.jsx("div",{className:"grid grid-cols-4 gap-2",children:X.images.map(be=>h.jsxs("div",{className:"relative group",children:[h.jsx("img",{src:be.image_url,alt:"",className:"w-full h-24 object-cover rounded border-2 border-gray-200"}),be.is_primary&&h.jsx("span",{className:"absolute top-1 left-1 bg-yellow-400 text-xs font-semibold px-2 py-0.5 rounded",children:"Primary"}),h.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all rounded flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100",children:[!be.is_primary&&h.jsx("button",{onClick:()=>ke(be.id,X.id),className:"bg-yellow-500 text-white p-1.5 rounded text-xs font-medium hover:bg-yellow-600",title:"Set as primary",children:"Set Primary"}),h.jsx("button",{onClick:()=>Re(be.id,be.image_url,X.id),className:"bg-red-500 text-white p-1.5 rounded hover:bg-red-600",title:"Delete image",children:h.jsx(ql,{size:14})})]})]},be.id))})]})]},X.id))})]})]})}):h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-gray-600",children:"Product not found"}),h.jsx("button",{onClick:()=>a("/admin/products"),className:"mt-4 text-[#0ABAB5] hover:underline",children:"Back to Products"})]})})}function Z1(){const r=Kr(),[a,i]=A.useState([]),[s,o]=A.useState(!1),[c,f]=A.useState(!0),[m,y]=A.useState({name:"",category_id:"",description:"",description_english:"",display_mode:"individual",is_featured:!1,is_active:!0}),[g,v]=A.useState({sku:"",variant_name:"",size:"",color:"",color_hex:"",price:0,stock:0});A.useEffect(()=>{_()},[]);const _=async()=>{f(!0);try{const S=await xi.getAllCategories();i(S),S.length>0&&y(T=>({...T,category_id:S[0].id,display_mode:S[0].default_display_mode}))}catch(S){console.error("Failed to load categories:",S),alert("Failed to load categories")}finally{f(!1)}},w=S=>{const T=a.find(R=>R.id===S);y({...m,category_id:S,display_mode:T?.default_display_mode||"individual"})},x=async S=>{if(S.preventDefault(),!m.name.trim()){alert("Product name is required");return}if(!m.category_id){alert("Please select a category");return}if(!g.sku.trim()){alert("Variant SKU is required");return}if(!g.variant_name.trim()){alert("Variant name is required");return}if(g.price<=0){alert("Price must be greater than 0");return}o(!0);try{const T=await ba.createProduct(m),R={product_id:T.id,sku:g.sku.trim(),variant_name:g.variant_name.trim(),size:g.size||void 0,color:g.color||void 0,color_hex:g.color_hex||void 0,price:g.price,stock:g.stock,is_active:!0};await ba.createVariant(R),alert("Product created successfully!"),r(`/admin/products/${T.id}/edit`)}catch(T){console.error("Failed to create product:",T),alert(T.message||"Failed to create product")}finally{o(!1)}};return c?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsx(Ha,{className:"w-12 h-12 text-[#0ABAB5] animate-spin"})}):h.jsx("div",{className:"min-h-screen bg-gray-50 p-4 lg:p-6",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"mb-6",children:[h.jsxs("button",{onClick:()=>r("/admin/products"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[h.jsx(Jd,{size:20}),"Back to Products"]}),h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create New Product"}),h.jsx("p",{className:"text-gray-600",children:"Add product details and create the first variant"})]}),h.jsxs("form",{onSubmit:x,className:"space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Product Information"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),h.jsx("input",{type:"text",value:m.name,onChange:S=>y({...m,name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"e.g., Mickey Mouse Doll",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),h.jsx("select",{value:m.category_id,onChange:S=>w(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5] bg-white",required:!0,children:a.map(S=>h.jsx("option",{value:S.id,children:S.name},S.id))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Mode"}),h.jsxs("select",{value:m.display_mode,onChange:S=>y({...m,display_mode:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5] bg-white",children:[h.jsx("option",{value:"individual",children:"Individual"}),h.jsx("option",{value:"grouped",children:"Grouped"})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-filled from category default"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),h.jsx("textarea",{value:m.description,onChange:S=>y({...m,description:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",rows:3,placeholder:"Product description in Indonesian"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (English)"}),h.jsx("textarea",{value:m.description_english,onChange:S=>y({...m,description_english:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",rows:3,placeholder:"Product description in English"})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",checked:m.is_featured,onChange:S=>y({...m,is_featured:S.target.checked}),className:"w-4 h-4 text-[#0ABAB5] border-gray-300 rounded focus:ring-[#0ABAB5]"}),h.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Featured Product"})]}),h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",checked:m.is_active,onChange:S=>y({...m,is_active:S.target.checked}),className:"w-4 h-4 text-[#0ABAB5] border-gray-300 rounded focus:ring-[#0ABAB5]"}),h.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]})]})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"First Variant *"}),h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"You can add more variants and images after creating the product."}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU *"}),h.jsx("input",{type:"text",value:g.sku,onChange:S=>v({...g,sku:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"e.g., MICKEY-XL-RED",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Variant Name *"}),h.jsx("input",{type:"text",value:g.variant_name,onChange:S=>v({...g,variant_name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"e.g., Mickey Mouse Doll - XL Red",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Size"}),h.jsx("input",{type:"text",value:g.size,onChange:S=>v({...g,size:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"e.g., XL, L, M"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),h.jsx("input",{type:"text",value:g.color,onChange:S=>v({...g,color:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"e.g., Red, Blue"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color Hex"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",value:g.color_hex,onChange:S=>v({...g,color_hex:S.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"#FF0000"}),h.jsx("input",{type:"color",value:g.color_hex||"#000000",onChange:S=>v({...g,color_hex:S.target.value}),className:"w-12 h-10 border border-gray-300 rounded-lg"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (IDR) *"}),h.jsx("input",{type:"number",value:g.price,onChange:S=>v({...g,price:parseFloat(S.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"150000",min:"0",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock *"}),h.jsx("input",{type:"number",value:g.stock,onChange:S=>v({...g,stock:parseInt(S.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0ABAB5]",placeholder:"10",min:"0",required:!0})]})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{type:"submit",disabled:s,className:"flex items-center gap-2 px-6 py-3 bg-[#0ABAB5] text-white rounded-lg hover:bg-[#099490] transition font-semibold disabled:opacity-50",children:s?h.jsxs(h.Fragment,{children:[h.jsx(Ha,{size:20,className:"animate-spin"}),"Creating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Ao,{size:20}),"Create Product"]})}),h.jsxs("button",{type:"button",onClick:()=>r("/admin/products"),disabled:s,className:"flex items-center gap-2 px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition font-semibold",children:[h.jsx(To,{size:20}),"Cancel"]})]})]})]})})}const W1=bE([{path:"/",element:h.jsx(T1,{})},{path:"/admin",element:h.jsx(B1,{children:h.jsx(j1,{})}),children:[{path:"orders",element:h.jsx(M1,{})},{path:"orders/:orderId",element:h.jsx(q1,{})},{path:"products",element:h.jsx(X1,{})},{path:"products/:id/edit",element:h.jsx(F1,{})},{path:"products/new",element:h.jsx(Z1,{})},{path:"admins",element:h.jsx($1,{})},{index:!0,element:h.jsx(P1,{})},{path:"settings",element:h.jsx(J1,{})}]},{path:"*",element:h.jsx(Od,{to:"/",replace:!0})}]);pb.createRoot(document.getElementById("root")).render(h.jsx(A.StrictMode,{children:h.jsx(nx,{children:h.jsx(kE,{router:W1})})}));
